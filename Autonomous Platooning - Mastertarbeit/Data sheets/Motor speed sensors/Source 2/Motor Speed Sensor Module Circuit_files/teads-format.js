!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=475)}([function(t,e,n){function i(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function r(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function o(t,e,n,i){function r(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?n(t.value):r(t.value).then(a,s)}c((i=i.apply(t,e||[])).next())})}function a(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}e.c=i,n.d(e,"a",function(){return l}),e.f=r,e.b=o,e.d=a,e.h=s,e.e=c,e.g=u;var d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},l.apply(this,arguments)}},function(t,e,n){function i(t){return Object(o.reduce)(t,function(t,e){return e.match({some:function(e){return t.concat(e)},none:function(){return t}})},[])}function r(t){return new s(t,!1)}e.e=i,n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),e.c=r,n.d(e,"a",function(){return c});var o=n(3),a={filter:function(t){return function(e){return e.filter(t)}},map:function(t){return function(e){return e.map(t)}},flatMap:function(t){return function(e){return e.flatMap(t)}},forEach:function(t){return function(e){return e.forEach(t)}},getOrValue:function(t){return function(e){return e.getOrValue(t)}},orElse:function(t){return function(e){return e.orElse(t)}},fold:function(t,e){return function(n){return n.match({none:t,some:e})}}},s=function(){function t(t,e){this.value=t,this._isEmpty=e}return t.of=function(t){return r(t)},t.fromNullable=function(e){return null===e||void 0===e?c:t.of(e)},t.fromPredicate=function(e,n){return n(e)?t.of(e):c},t.empty=function(){return c},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.nonEmpty=function(){return!this._isEmpty},t.prototype.getOrElse=function(t){return this._isEmpty?t():this.value},t.prototype.getOrNull=function(){return this._isEmpty?null:this.value},t.prototype.getOrValue=function(t){return this._isEmpty?t:this.value},t.prototype.orElse=function(t){return this._isEmpty?t():this},t.prototype.map=function(e){return this._isEmpty?c:t.of(e(this.value))},t.prototype.flatMap=function(t){return this._isEmpty?c:t(this.value)||c},t.prototype.filter=function(e){return this._isEmpty||!e(this.value)?c:t.of(this.value)},t.prototype.existsIf=function(t){return!this._isEmpty&&t(this.value)},t.prototype.forEach=function(t){this._isEmpty||t(this.value)},t.prototype.match=function(t){return this._isEmpty?t.none():t.some(this.value)},t}(),c=new s(null,!0)},function(t,e,n){function i(t){if(!t)return NaN;var e=t.split("."),n=e[0].split(":"),i=3600*Number(n[0])+60*Number(n[1])+Number(n[2]);return 2===e.length&&(i=Number(i+"."+e[1])),i}function r(t){void 0===t&&(t=0);var e=t?Math.floor(t/3600):0;t-=3600*e;var n=t?Math.floor(t/60):0;t-=60*n;var i=(t%1).toFixed(3).substr(1);return t=Math.floor(t),P.pad(e)+":"+P.pad(n)+":"+P.pad(t)+i}function o(){return window.AudioContext||window.webkitAudioContext}function a(t,e,n){void 0===e&&(e=250),void 0===n&&(n=this);var i=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];i||(t.apply(n,r),window.setTimeout(function(){i=!1},e),i=!0)}}function s(t){var e=document.createElement("a");return e.href=t,window.swInstalled&&/(teads|ebu?z)/.test(e.hostname)?"/"+btoa(t).replace(/=/g,"_"):t}function c(){return location&&location.protocol&&0===location.protocol.indexOf("http:")?location.protocol:"https:"}function u(t){if(!t)return"";var e=t.split("/")[1]||t;switch(e){case"javascript":case"x-javascript":e="js";break;case"x-shockwave-flash":e="swf";break;case"mpeg":e="mpg";break;case"x-flv":e="flv"}return e}function d(t,e){var n=!1;if(!e)return!1;for(var i in t)if(A(t,i)){if(void 0===typeof e[i])return!1;n=!0}return n}function l(t){return function(e){var n=!0;for(var i in t)if(t.hasOwnProperty(i)&&(m(e[i])||!t[i](e[i]))){n=!1;break}return n}}function p(t){return"boolean"==typeof t}function h(t){return"number"==typeof t&&!isNaN(t)}function f(t){return"[object Array]"===V.call(t)}function g(t){return"string"==typeof t}function m(t){return void 0===t}function b(t){return null===t}function v(t){return!!t&&"object"==typeof t}function y(t){return function(e){return!t(e)}}function A(t,e){return _.call(t,e)}function w(t,e){return e.every(function(e){return A(t,e)})}function O(t){return!!t&&"function"==typeof t&&"[object Function]"===V.call(t)}function E(){var t;return j.b.fromNullable(null===(t=window.teads)||void 0===t?void 0:t.api).map(function(t){return Object(k.a)(t.getStudioData,t)}).filter(O).map(function(t){return t()}).existsIf(v)}function C(t){return!!t.match(/px$/)&&h(parseFloat(t))}function I(t){var e=typeof t;return L.a.tryCatch(function(){return"function"===e?R.test(x.call(t)):!(!t||"object"!==e||!D.test(V.call(t)))}).getOrElse(function(){return!1})}function S(){}function T(t){return function(e){return e===t}}Object.defineProperty(e,"__esModule",{value:!0}),e.seconds=i,e.offset=r,e.getAudioContext=o,e.throttle=a,e.safeUrl=s,e.getProtocol=c,e.getExtensionFromMimeType=u,e.containsKeys=d,e.matchesCheckers=l,e.isBoolean=p,e.isNumber=h,e.isArray=f,e.isString=g,e.isUndefined=m,e.isNull=b,e.isObject=v,e.not=y,n.d(e,"hasValidProperty",function(){return N}),e.hasOwnProperty=A,e.hasOwnProperties=w,e.isFunction=O,e.isStudioCreative=E,e.isSizeInPx=C,e.isNative=I,e.noop=S,n.d(e,"identity",function(){return M}),n.d(e,"prop",function(){return F}),n.d(e,"safeProp",function(){return U}),n.d(e,"tap",function(){return B}),e.equals=T,n.d(e,"exhaustive",function(){return W});var j=n(1),k=n(13),P=n(11),L=n(6),V=Object.prototype.toString,x=Function.prototype.toString,_=Object.prototype.hasOwnProperty,N=function(t,e,n){return A(t,e)&&n(t[e])},D=/^\[object .+?Constructor\]$/,R=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=function(t){return t},F=function(t){return function(e){return e[t]}},U=function(t){return function(e){return j.b.fromNullable(e[t])}},B=function(t){return function(e){return t(e),e}},W=function(t){return t}},function(t,e,n){function i(t){return t[0]}function r(t){return t[t.length-1]}function o(t){return t.slice(1)}function a(t,e,n){if(null===t)throw new TypeError("array is null or undefined");for(var i,r=Object(t),o=r.length>>>0,a=0;a<o;a++)if(i=r[a],e.call(n,i,a,r))return i}function s(t,e,n){if(null===t)throw new TypeError("array is null or undefined");for(var i,r=Object(t),o=r.length>>>0,a=0;a<o;)a in r&&(i=r[a],e.call(n,i,a,r)),a++}function c(t,e,n){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");var i=Object(t),r=i.length>>>0;if(r>i.length)throw new TypeError("negative length");for(var o=[],a=0;a<r;a++)if(a in i){var s=i[a];e.call(n,s,a,i)&&o.push(s)}return o}function u(t,e,n){if(null===t)throw new TypeError("array is null or undefined");var i=Object(t),r=i.length>>>0;if(r>i.length)throw new TypeError("negative length");for(var o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,i))return!0;return!1}function d(t,e,n,i){if(void 0===n&&(n=S.equals),null===t)throw new TypeError("array is null or undefined");var r=Object(t),o=r.length>>>0;if(0===o)return-1;var a=i||0;if(Math.abs(a)===1/0&&(a=0),a>=o)return-1;var s=Math.max(a>=0?a:o-Math.abs(a),0);try{for(;s<o;){if(s in r&&n(r[s])(e))return s;s++}}catch(t){}return-1}function l(t,e,n){return void 0===n&&(n=S.equals),d(t,e,n)>-1}function p(t,e){return void 0===e&&(e=S.equals),function(n){return l(t,n,e)}}function h(t){return f(t)}function f(t){return Array.prototype.slice.call(t)}function g(t,e){return void 0===e&&(e=10),m(t,function(t){return Object(S.isString)(t)?parseInt(t,e):NaN})}function m(t,e,n){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var i,r,o=Object(t),a=o.length>>>0,s=new Array(a),c=0;c<a;)c in o&&(i=o[c],r=e.call(n,i,c,o),s[c]=r),c++;return s}function b(t){var e,n;if(null===t)throw new TypeError("array is null or undefined");var i=[];try{for(var r=Object(E.h)(t),o=r.next();!o.done;o=r.next()){var a=o.value;l(i,a)||i.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function v(t,e,n){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");var i=t.length>>>0;if(0===i&&void 0===n)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(void 0!==n)r=n;else for(;;){if(o in t){r=t[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;o<i;o++)o in t&&(r=e(r,t[o],o,t));return r}function y(t){return!t.length}function A(t){return!y(t)}function w(t){return y(t)?[]:v(t,function(t,e){return Object(E.g)(t,e)})}function O(t){return function(e){return v(e,function(e,n){var i=Object(E.e)(e,2),r=i[0],o=i[1];return t(n)?[Object(E.g)(r,[n]),o]:[r,Object(E.g)(o,[n])]},[[],[]])}}Object.defineProperty(e,"__esModule",{value:!0}),e.head=i,e.last=r,e.tail=o,n.d(e,"join",function(){return T}),n.d(e,"append",function(){return j}),n.d(e,"appendIf",function(){return k}),e.find=a,e.forEach=s,n.d(e,"difference",function(){return P}),e.filter=c,e.some=u,e.indexOf=d,e.includes=l,e.isMemberOf=p,n.d(e,"exclude",function(){return L}),e.fromNodeList=h,e.fromArrayLike=f,e.fromStringToNumber=g,e.map=m,e.unique=b,e.reduce=v,e.isEmpty=y,e.isNotEmpty=A,e.flatten=w,e.partition=O,n.d(e,"groupByMap",function(){return V}),n.d(e,"groupBy",function(){return x}),n.d(e,"cArray",function(){return _});var E=n(0),C=n(1),I=n(10),S=n(2),T=function(t){return function(e){return e.join(t)}},j=function(t){return function(e){return e.concat([t])}},k=function(t,e){return function(n){return e()?j(t)(n):n}},P=function(t,e){return void 0===e&&(e=S.equals),_.filter(Object(S.not)(p(t,e)))},L=function(t){return function(e){return c(e,Object(S.not)(p(t)))}},V=function(t,e){return function(n){return v(n,function(n,i){var r;return Object(E.a)(Object(E.a)({},n),(r={},r[t(i)]=Object(E.g)(Object(I.b)(n[t(i)],C.b.fromNullable,C.d.getOrValue([])),[e(i)]),r))},{})}},x=function(t){return function(e){return V(t,S.identity)(e)}},_={map:function(t){return function(e){return m(e,t)}},mapWithIndex:function(t){return function(e){return m(e,t)}},flatMap:function(t){return function(e){return w(m(e,t))}},filter:function(t){return function(e){return c(e,t)}},foldLeft:function(t,e){return function(n){return y(n)?t:v(n,e,t)}},forEach:function(t){return function(e){return s(e,t)}}}},function(t,e,n){n.d(e,"a",function(){return g});var i=(n(27),n(13),n(14)),r=n(3),o=n(48),a=n(19),s=!1;try{var c=navigator.userAgent;s=/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i.test(c)||/(?:ms|\()(ie)\s([\w\.]+)/i.test(c)||/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i.test(c)}catch(t){}var u,d=[],l=[],p=!1,h=function(){function t(){}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t}();u=window.console&&console.log?window.console:new h;var f=!1,g=function(){function t(t){this.namespace=t}return t.clear=function(){t.logs=[],window.teads.FULL_LOGS=[]},t.getFullLogs=function(){return window.teads.FULL_LOGS},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("debug",t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("info",t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("warn",t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("error",t)},t.prototype.table=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.table&&u.table(t,e.length>0?e:null)},t.prototype._log=function(e,n){var o=this;if(n.length){for(var c=Object(i.a)()-window.teads.START_TIME,h=(c/1e3).toFixed(3)+"s",f="",g=0;g<n.length;g++)if(g>0&&(f+=" + "),"object"==typeof n[g])try{f+=a.b(n[g])}catch(t){f+=n[g]}else f+=n[g];if(window.teads.FULL_LOGS.push({level:e,message:h+" ["+this.namespace+"] "+f}),!(Object(r.indexOf)(d,e)<0)){if(!p&&l.length){if(!Object(r.some)(l,function(t){return 0===o.namespace.indexOf(t)}))return}t.logs.push({level:e,message:h+" ["+this.namespace+"] "+n.join(" ")}),s?n=["Teads "+h+" ["+this.namespace+"] "+n.join(" ")]:n.unshift("Teads %c"+h+" "+this.namespace,"color:#7ebde5;");var m=u[e]||u.log;try{m.apply(u,n)}catch(t){Function.prototype.apply.apply(m,[u,n])}}}},t.logs=[],t}();!function(){f||(f=!0,Object(o.a)("teadsDebugLevel").toOption().filter(function(t){return!!t}).map(function(t){return t.split(",")}).forEach(function(t){d=Object(r.indexOf)(t,"all")>=0?["debug","info","warn","error"]:t}),Object(o.a)("teadsDebugNamespace").toOption().filter(function(t){return!!t}).forEach(function(t){l=t.split(","),p="all"===String(t).toLocaleLowerCase()}),d.length&&!window.teads.Logger&&(s?(u.log("Teads Media Framework > Debug mode"),u.log("v2.22.61 (production version: v638) %>")):(u.log("%cTeads Media Framework %c> Debug mode","color:#7ebde5;font-family:Helvetica,sans-serif;font-size:2em;","color:#aaa;font-family:Helvetica,sans-serif;font-size:2em;"),u.log("%cv2.22.61 (production version: v638)', 'color:#7ebde5;font-style:italic;"))),window.teads.HAS_DEBUG_LOGS=!!d.length)}()},function(t,e,n){function i(){return[g()&&!f()?"mob":f()?"tab":"desk",A()?"android":w()?"ios":C()?"ie":I()?"ch":T()?"ff":"ot"].join(" ")}function r(){return Zt.map(function(t){return t.getPropertiesAsString()})}function o(t){var e,n;return void 0===t&&(t=!0),D()?[it().model,rt().name,rt().version,$t,ee,dt(),te].join("|"):[t&&null!==(e=ae.deviceType[it().type])&&void 0!==e?e:it().type,rt().name,t?se(rt().version):rt().version,t&&null!==(n=ae.browserName[ot().name])&&void 0!==n?n:ot().name,ot().version.split(".")[0],dt()].join("|")}function a(t){void 0===t&&(t=!0),window.teads.CONTEXT_IS_INITIALIZED||(t&&ft(),gt(),_t=new Xt(Gt.b.rgx.apply(this,Gt.c.os)),Nt=new Yt(Gt.b.rgx.apply(this,Gt.c.browser)),xt=new Qt(Gt.b.rgx.apply(this,Gt.c.device)),mt(),bt(),yt(),vt(),At(),wt(),Ot(),Et(),Ct(),It(),St(),Tt(),w()&&(Zt=Ut.b.fromNullable(Kt.a(window,document))),window.teads.CONTEXT_IS_INITIALIZED=!0)}function s(t){xt.model=t}function c(t){ee=t,oe=!0}function u(t){$t=t}function d(t){te=t}function l(t){ne.isSDK=t}function p(){return!!ne.isDesktop}function h(){return!!ne.isIpad}function f(){return!!ne.isTablet}function g(){return!!ne.isMobile}function m(){return!!ne.isChromeIos}function b(){return!!ne.isFacebookWebview}function v(){return!!ne.isAndroidNative}function y(){return!!ne.isSamsungBrowser}function A(){return!!ne.isAndroid}function w(){return!!ne.isIos}function O(){return!!ne.isIphone}function E(){return!!ne.isAndroidMobile}function C(){return!!ne.isIE}function I(){return!!ne.isChrome}function S(){return!!ne.isChromeWebView}function T(){return!!ne.isFirefox}function j(){return!!ne.isEdge}function k(){return!!ne.isAmp}function P(){return!!ne.isAmpInABox}function L(){return!!ne.isAmpSF}function V(){return!!ne.isAmpObserveIntersection}function x(){return!!ne.isIabsf}function _(){return ne.iabsfWindow}function N(){return!!ne.isEdgeTouchScreen}function D(){return!!ne.isSDK}function R(){return ne.ieVersion?ne.ieVersion:""}function M(){return ne.androidVersion?ne.androidVersion:""}function F(){return ne.chromeVersion?ne.chromeVersion:""}function U(){return ne.iOsVersion?ne.iOsVersion:""}function B(){return ne.FacebookWebviewVersion?ne.FacebookWebviewVersion:""}function W(){return ne.safariVersion?ne.safariVersion:""}function H(){return!!ne.isUIWebview}function z(){return!!ne.isSafari}function G(){return Wt.a(W(),"11")}function q(){return Wt.a(F(),"66")}function K(){return!!ne.isGoogleSearchApp}function Y(){return!!ne.isIos10Safari}function X(){return!!ne.isIos10OtherBrowser}function Q(t){return void 0===t&&(t=""),Y()&&!ie.test(t)}function J(){return Wt.a(B(),"87")&&Wt.a(U(),"10.2")}function Z(){return!!ne.isCanvasUsed}function $(t){return!!t.createElement("video").canPlayType}function tt(){return Vt}function et(){return Lt}function nt(t){Lt=t}function it(){return xt}function rt(){return _t}function ot(){return Nt}function at(){return Object(zt.l)()-Dt}function st(){if(null===oe){if(Dt){var t=ce-at();return t>0?Object(Ut.c)(t+10):Ut.a}return Object(Ut.c)(ce)}return Ut.a}function ct(){return null===oe&&at()>ce&&Pt(!0),!!oe}function ut(t){return jt({iosVersion:U(),android:A(),firefox:T(),samsungBrowser:y(),chrome:I(),chromeVersion:F(),minimumChromeVersion:t?"53":"56"})&&!ct()}function dt(){var t;return t=D()?"sdk":k()?"amp":L()?"ampsf":x()?"sf":b()?"fbwv":S()||H()?"wv":"web",Z()?t+"-canvas":t}function lt(){return D()?"sdk-inapp":"js-"+dt()}function pt(){return Ft.a.tryCatch(function(){return window.navigator.connection.downlink}).toOption()}function ht(t){ne.isCanvasUsed=t}function ft(){try{Lt=navigator.userAgent}catch(t){Jt.error("Could not get `navigator.userAgent`",t),Lt=""}}function gt(){try{Vt=window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage||"en"}catch(t){Jt.error("Could not get navigator language",t),Vt="en"}}function mt(){try{ne.isAmp=!!window._teads_amp}catch(t){Jt.error("Could not check if `!!window._teads_amp`",t),ne.isAmp=!1}}function bt(){try{ne.isAmpInABox=Object(qt.isArray)(window.top.ampInaboxIframes)&&Object(qt.isBoolean)(window.top.ampInaboxInitialized)&&Object(qt.isArray)(window.top.ampInaboxPendingMessages)}catch(t){Jt.error("Could not check if AMP-inabox is used",t),ne.isAmpInABox=!1}}function vt(){try{if(x()){var t=_();ne.isAmpSF=!Object(qt.isUndefined)(t)&&!!t.AMP_CONTEXT_DATA}else ne.isAmpSF=!1}catch(t){Jt.error("Could not check if `!!window.AMP_CONTEXT_DATA`",t),ne.isAmpSF=!1}}function yt(t){void 0===t&&(t=window);try{t.$sf&&t.$sf.ext?(ne.isIabsf=!0,ne.iabsfWindow=t):t.parent!==t&&yt(t.parent)}catch(t){Jt.error("Could not check if `!!window.$sf.ext`",t),ne.isIabsf=!1}}function At(){try{ne.hasTouchPoints=!!(navigator.maxTouchPoints&&navigator.maxTouchPoints>0)}catch(t){Jt.error("Could not check if `navigator.maxTouchPoints > 0`",t),ne.hasTouchPoints=!1}}function wt(){try{ne.isNavigatorStandalone=window.navigator.standalone}catch(t){Jt.error("Could not check navigator.standalone",t),ne.isNavigatorStandalone=!1}}function Ot(){try{ne.observeIntersection=!(!window.context||!window.context.observeIntersection)}catch(t){Jt.error("Could not check if `!!window.context.observeIntersection`",t),ne.observeIntersection=!1}}function Et(){ne.isIE="IE"===Nt.name||/MSIE|Trident/.test(Lt),ne.isFirefox="Firefox"===Nt.name||/Firefox/i.test(Lt),ne.isEdge="Edge"===Nt.name||/Edge/i.test(Lt),ne.isGoogleSearchApp=/GSA\//i.test(Lt),ne.isSafari=("Safari"===Nt.name||"Mobile Safari"===Nt.name)&&!K(),ne.isChromeWebView="Chrome WebView"===Nt.name,ne.isChrome="Chrome"===Nt.name||S(),ne.isEdgeTouchScreen=j()&&ne.hasTouchPoints,ne.isChromeIos=/CriOS/i.test(Lt),ne.isAndroidNative="Android Browser"===Nt.name,ne.isFacebookWebview="Facebook"===Nt.name||/FBAN|FBIOS|FBAV|FBBV|FBDV|FBMD|FBSN|FBSV|FBSS|FBCR|FBID|FBLC|FBOP/i.test(Lt),ne.isSamsungBrowser=/SamsungBrowser/i.test(Lt)}function Ct(){ne.isIpad="iPad"===xt.model||/iPad/i.test(Lt)||/mac\s+os/i.test(_t.name)&&ne.hasTouchPoints,ne.isIphone="iPhone"===xt.model||/iPhone/i.test(Lt),ne.isIos="iOS"===_t.name||h()||O(),ne.isAndroid="Android"===_t.name||/Android/i.test(Lt)}function It(){var t=/(m|M)obile/.test(Lt);ne.isTablet="tablet"===xt.type||h()||A()&&!t,ne.isMobile="mobile"===xt.type||w()&&!h()||A()&&t,ne.isDesktop=!g()&&!f()}function St(){ne.ieVersion=C()?Nt.version:"",ne.iOsVersion=w()?_t.version:"",ne.androidVersion=A()?_t.version:"",ne.chromeVersion=I()?Nt.version:"",ne.FacebookWebviewVersion=b()?Nt.version:"",ne.safariVersion=z()?Nt.version:""}function Tt(){ne.isAndroidMobile=A()&&g(),ne.isAmpObserveIntersection=ne.isAmp&&ne.observeIntersection,ne.isUIWebview=(O()||h())&&!z()&&!I()&&!ne.isNavigatorStandalone,ne.isIos10Safari=Wt.a(U(),"10")&&!H()&&!m(),ne.isIos10OtherBrowser=Wt.a(U(),"10")&&Wt.d(U(),"11")&&H()&&m()}function jt(t){var e=t.iosVersion,n=t.android,i=t.firefox,r=t.samsungBrowser,o=t.chrome,a=t.chromeVersion,s=t.minimumChromeVersion;return Wt.a(e,"10")||n&&(i||r||o&&Wt.a(a,s))}function kt(){if(null===oe){if(jt({iosVersion:U(),android:A(),firefox:T(),samsungBrowser:y(),chrome:I(),chromeVersion:F(),minimumChromeVersion:"53"})){if(!Rt&&!Dt){Rt=document.createElement("video"),Rt.src=re,Rt.style.setProperty("display","none"),Rt.setAttribute("webkit-playsinline","true"),Rt.setAttribute("playsinline","true"),Rt.muted=!0;var t=function(){Ut.b.fromNullable(Rt).forEach(function(t){return document.body.appendChild(t)}),Dt=Object(zt.l)(),Ft.a.tryCatch(function(){return Rt.play().then(function(){return Pt(!0)}).catch(function(t){Pt(!1),Jt.error("Could not play autoplayHtmlVideoElement",t)})}).tapLeft(function(t){Jt.error("Could not play autoplayHtmlVideoElement",t),Pt(!1)})};Mt.c(t,window,!1)}}else oe=!1}}function Pt(t){null===oe&&(oe=t),null!==Rt&&(Rt.pause(),document.body.removeChild(Rt),Rt=null)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"UABrowser",function(){return Yt}),n.d(e,"UAOs",function(){return Xt}),n.d(e,"UADevice",function(){return Qt}),e.getContextSummary=i,e.getClientSideDeviceProperties=r,e.getFullContext=o,e.init=a,e.setDeviceModel=s,e.setSDKVersion=c,e.setAppId=u,e.setAppVersion=d,e.setIsSDK=l,e.isDesktop=p,e.isIpad=h,e.isTablet=f,e.isMobile=g,e.isChromeIos=m,e.isFacebookWebview=b,e.isAndroidNative=v,e.isSamsungBrowser=y,e.isAndroid=A,e.isIos=w,e.isIphone=O,e.isAndroidMobile=E,e.isIE=C,e.isChrome=I,e.isChromeWebView=S,e.isFirefox=T,e.isEdge=j,e.isAmp=k,e.isAmpInABox=P,e.isAmpSF=L,e.isAmpObserveIntersection=V,e.isIABSafeFrame=x,e.getIABSafeFrameWindow=_,e.isEdgeTouchScreen=N,e.isSDK=D,e.getIEVersion=R,e.getAndroidVersion=M,e.getChromeVersion=F,e.getIosVersion=U,e.getFacebookWebviewVersion=B,e.getSafariVersion=W,e.isUIWebview=H,e.isSafari=z,e.isSafari11Plus=G,e.isChrome66Plus=q,e.isGoogleSearchApp=K,e.isIos10Safari=Y,e.isIos10OtherBrowser=X,e.isWhiteListedIos10Safari=Q,e.isFacebookWebviewIOS10=J,e.isCanvasUsed=Z,e.videoSupport=$,e.getLanguage=tt,e.getUA=et,e.setUA=nt,e.getDevice=it,e.getOS=rt,e.getBrowser=ot,e.autoplayNeedTime=st,e.canAutoplay=ct,e.isCanvasNeeded=ut,e.getShortContext=dt,e.getEnv=lt,e.getNetworkBandwidthInMbps=pt,e.cacheCanvasUsed=ht,e.checkUserAgent=ft,e.needAutoplayCheck=jt,e.startAutoplayTest=kt;var Lt,Vt,xt,_t,Nt,Dt,Rt,Mt=(n(27),n(37)),Ft=n(6),Ut=n(1),Bt=n(4),Wt=n(24),Ht=n(11),zt=n(20),Gt=n(57),qt=n(2),Kt=n(58),Yt=function(){function t(t){this.name=t.name||"",this.version=t.version||""}return t.prototype.toString=function(){return Ht.separate("|",this.name,this.version).toLowerCase()},t}(),Xt=function(){function t(t){this.name=t.name||"",this.version=t.version||""}return t.prototype.toString=function(){return Ht.separate("|",this.name,this.version).toLowerCase()},t}(),Qt=function(){function t(e){this.model=e.model||"",this.type=e.type||(t.typeRegExp.test(rt().name)?Gt.a:""),this.vendor=e.vendor||""}return t.prototype.toString=function(){return Ht.separate("|",this.model,this.type,this.vendor).toLowerCase()},t.typeRegExp=/^windows|mac\s+os|linux|bsd|dragonfly|chromium\s+os|haiku|ubuntu|slackware|gentoo|solaris|debian|fedora|arch|beos|mint|gnu|os|suse\/2$/i,t}(),Jt=new Bt.a("Context"),Zt=Ut.a,$t="",te="",ee="",ne={},ie=/^(23027|24539|25695|25696|25697|25698|25699|25700|25701|25702|25703|25704|25705|25706|25707|25708|25709|25710|25711|26170|26231|26561|26566|26567|26568|26569|26570|26572|27446|28204|28206|28207|28210|28211|28212|28541|28827|28831|31814|33366|33704|33705|33706|33707|33708|34907|43985|49718|52375|53276|53824|53837|53838|53840|53842|55491|57698|57699|57702|60178|60578|61059|61123|69299)$/,re="https://s8t.teads.tv/media/format/v3/assets/default/autoplay.mp4",oe=null,ae={deviceType:{mobile:"m",desktop:"d",tablet:"t"},browserName:{"Mobile Safari":"Safari M","Chrome WebView":"Chrome WV"}},se=function(t){return t.replace(/(\d+)\.(\d+)\.\d+/,"$1.$2")},ce=100},function(t,e,n){function i(t){return new u(t)}function r(t){return new d(t)}n.d(e,"f",function(){return s}),n.d(e,"a",function(){return c}),e.c=i,e.d=r,n.d(e,"b",function(){return l}),n.d(e,"e",function(){return p});var o=n(0),a=n(1),s={filterOrElse:function(t,e){return function(n){return n.filterOrElse(t,e)}},fold:function(t,e){return function(n){return n.fold(t,e)}}},c=function(){function t(t,e){this._isRight="right"===e,this.value=t}return t.tryCatch=function(t){try{return r(t())}catch(t){return i(t)}},t.of=function(t){return r(t)},t.prototype.isLeft=function(){return!this._isRight},t.prototype.isRight=function(){return this._isRight},t.prototype.contains=function(t){return this._isRight&&this.value===t},t.prototype.exists=function(t){return this._isRight&&t(this.value)},t.prototype.filterOrElse=function(t,e){return this._isRight?t(this.value)?this:i(e(this.value)):this},t.prototype.flatMap=function(t){return this._isRight?t(this.value):this},t.prototype.fold=function(t,e){return this._isRight?e(this.value):t(this.value)},t.prototype.getOrElse=function(t){return this._isRight?this.value:t()},t.prototype.getOrValue=function(t){return this._isRight?this.value:t},t.prototype.orElse=function(t){return this._isRight?this:t(this.value)},t.prototype.map=function(t){return this._isRight?r(t(this.value)):this},t.prototype.forEach=function(t){this._isRight&&t(this.value)},t.prototype.tap=function(t){return this._isRight&&t(this.value),this},t.prototype.tapLeft=function(t){return this._isRight||t(this.value),this},t.prototype.toOption=function(){return this._isRight?a.b.fromNullable(this.value):a.a},t}(),u=function(t){function e(e){return t.call(this,e,"left")||this}return Object(o.c)(e,t),e}(c),d=function(t){function e(e){return t.call(this,e,"right")||this}return Object(o.c)(e,t),e}(c),l=i,p=r},function(t,e,n){function i(){var t=document.createElement("iframe");return t.style.setProperty("margin","0","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("width","0","important"),t.style.setProperty("height","0","important"),t.style.setProperty("border","0","important"),t.style.setProperty("overflow","hidden","important"),t.style.setProperty("float","none","important"),t.setAttribute("allow","autoplay"),t.setAttribute("scrolling","no"),t.frameBorder="0",t}function r(t){Q.b.fromNullable(t.contentWindow).forEach(function(t){return t.inDapIF=!0})}function o(t){var e,n=Object(Z.a)(nt("overflow","hidden"),nt("padding","0"),nt("margin","0"));Q.b.fromNullable(null===(e=null===t||void 0===t?void 0:t.document)||void 0===e?void 0:e.body).forEach(n)}function a(t,e){return Object(z.isHTMLElement)(t)&&t.appendChild(e),e}function s(t){return t||(t=document),!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)}function c(t){if(!t||Object(z.isNodeList)(t))return null;var e=u(t);return e?e.defaultView||e.parentWindow:null}function u(t){return!t||Object(z.isNodeList)(t)?null:t.ownerDocument}function d(t){s()?p(t):l(t)}function l(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function p(t){var e=u(t);e&&(e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen())}function h(t,e){(e=q.trim(e))&&!g(t,e)&&t.classList.add(e)}function f(t,e){(e=q.trim(e))&&g(t,e)&&t.classList.remove(e)}function g(t,e){return t.classList.contains(q.trim(e))}function m(t,e){t.classList.toggle(q.trim(e))}function b(t,e,n){e=q.trim(e),n=q.trim(n),!g(t,n)&&g(t,e)&&(K.isFunction(t.classList.replace)?t.classList.replace(e,n):(f(t,e),h(t,n)))}function v(t){return w(t).pop()!==window.top}function y(t){return t!==window.top}function A(t){return!G.some(Object.keys(t),function(e){return 0!==t[e]})}function w(t,e){void 0===e&&(e=!0);var n=[];if(Object(z.isHTMLElement)(t)){var i;i=function(t){if(t.parent!==t&&t.parent.location&&t.parent.window){if(e){t.parent.document}n.push(t.parent),i(t.parent)}};var r=c(t);r&&n.push(r);try{i(r)}catch(t){}}return n}function O(t){return w(t).pop()||window}function E(t,e){void 0===e&&(e=!1);var n=[];if(Object(z.isHTMLElement)(t))for(var i=t.getElementsByTagName("iframe"),r=0;r<i.length;r++)try{Q.b.fromNullable(i[r].contentWindow).flatMap(function(t){var e;return Q.b.fromNullable(null===(e=t.document)||void 0===e?void 0:e.body).map(function(e){return{win:t,body:e}})}).forEach(function(t){var i=t.win,r=t.body;n.push(i),e&&G.forEach(E(r,!0),function(t){n=n.concat(t)})})}catch(t){}return n}function C(t,e){return void 0===e&&(e=!1),w(t).concat(E(t,e))}function I(t){var e=c(t);try{if(e&&e.parent!==e&&void 0!==e.parent.Window&&e.parent instanceof e.parent.Window){var n=e.parent.document.getElementsByTagName("iframe");if(n)for(var i=0;i<n.length;i++)if(n[i].contentWindow===e)return I(n[i])}}catch(t){}return t}function S(t){var e=c(t);try{if(e&&e.parent!==e&&void 0!==e.parent.Window&&e.parent instanceof e.parent.Window){var n=e.parent.document.getElementsByTagName("iframe");if(n)for(var i=0;i<n.length;i++)if(n[i].contentWindow===e&&!T(n[i]))return n[i]}}catch(t){}return t}function T(t){return"context"===t.id&&"http://localhost:5555/context.html"===t.src&&"100%"===t.width&&"100%"===t.height}function j(t,e){void 0===e&&(e=!0);var n=[];if(Object(z.isHTMLElement)(t))for(var i=u(t),r=t,o=!(!r.tagName||!r.tagName.toUpperCase||"HTML"!==r.tagName.toUpperCase());!o&&(e||i&&r!==i.body)&&Object(z.isHTMLElement)(r);)(r=r.parentElement)&&n.push(r);return n}function k(t){var e=t.element,n=t.elementAncestors,i=t.elementClientRect,r=t.mainWindow,o=t.thresholdCoefficient,a=t.elementHeight,s=t.getPercentage,c=void 0===s?P:s,u=t.envIsAmp,d=void 0===u?Y.isAmp():u,l=t.envIsIABSafeFrame,p=void 0===l?Y.isIABSafeFrame():l,h=c({element:e,elementAncestors:n,elementClientRect:i,mainWindow:r,elementHeight:a});return(!d&&!p||0!==h)&&h>=o}function P(t){var e=t.element,n=t.elementAncestors,i=t.elementClientRect,r=t.mainWindow,o=t.elementHeight,a=t.allowNegative,s=void 0!==a&&a,c=t.detectFloatingHeaders,u=void 0===c?!Y.isAndroid():c,d=t.getWindowSize,l=void 0===d?z.getWindowSize:d,p=t.envIsAmp,h=void 0===p?Y.isAmp():p,f=t.envIsIABSafeFrame,g=void 0===f?Y.isIABSafeFrame():f,m=t.envIabSFWindow,b=void 0===m?Y.getIABSafeFrameWindow():m;if(h&&r._teads_amp)return r._teads_amp.change?r._teads_amp.change.intersectionRect.height/r._teads_amp.change.boundingClientRect.height:0;if(g){var v=b;if(K.isUndefined(v))return 0;var y=v.$sf.ext.geom();return y&&y.self?y.self.yiv:0}var A=l(r,!0),w=u?_(r,x(r,e,n,i),A.height):0,O=i.top-w,E=O>0?A.height-i.top:O+o,C=E/o;return s||(C=C>0?C:0,C=C<1?C:1),C}function L(t,e){return G.includes(j(t),e)}function V(t,e,n,i){var r="bottom"===n?t.height:t.width,o=r*i;return t[n]-o>e[n]}function x(t,e,n,i,r){void 0===t&&(t=window),void 0===n&&(n=[document.body]),void 0===r&&(r=z.getWindowSize);for(var o,a,s=[],c=r(t),u=c.width/2,d=c.height*$,l=d*$,p=function(r){var o=Object(z.getBoundingClientRect)(r);return"fixed"===t.getComputedStyle(r).position&&(!i||o.right>i.left&&o.left<i.right)&&!G.includes(n,r)&&!r.className.match(/teads/)&&!L(r,e)},h=1;h<d;h+=l)(o=t.document.elementFromPoint(u,h))&&a!==o&&(a=o,p(o)&&s.push(o),G.forEach(j(o),function(t){p(t)&&s.push(t)}));return G.unique(s)}function _(t,e,n){var i=0;G.forEach(e,function(t){return i=Math.max(i,Object(z.getBoundingClientRect)(t).bottom)});var r=Object(z.getScrollTop)(t),o=r>0?i:r+i;return Math.max(0,Math.min(n,o))}function N(t){return Object(z.isHTMLElement)(t)?J.a.of(t):Object(J.c)("invalid-dom")}function D(t){return"none"===window.getComputedStyle(t).display?Object(J.c)("hidden-display"):J.a.of(t)}function R(t){var e=Object(z.getBoundingClientRect)(t),n=window.getComputedStyle(t);return(Y.isCanvasUsed()?(e.height<50||e.width<50)&&("hidden"===n.overflowX||"hidden"===n.overflowY):e.height<50||e.width<50)?Object(J.c)("tiny"):J.a.of(t)}function M(t){var e=function(t){return t.flatMap(R)},n=function(t){return t.flatMap(D).flatMap(function(t){return t.parentElement?M(t.parentElement):Object(J.d)(t)})};return Y.isCanvasUsed()?Object(Z.a)(n,e,N)(t):Object(Z.a)(n,N)(t)}function F(t,e){var n=(100-e)/100,i=Object(z.getBoundingClientRect)(t),r=J.a.of(t),o=function(t){var e,a=!g(t,"teads-inread"),s=window.getComputedStyle(t);return a&&"hidden"===s.overflowY&&(e=Object(z.getBoundingClientRect)(t),V(i,e,"bottom",n)||(r=Object(J.c)("hidden-overflow"))),r.isRight()&&a&&"hidden"===s.overflowX&&(e=e||Object(z.getBoundingClientRect)(t),V(i,e,"right",n)||(r=Object(J.c)("hidden-overflow"))),r.isRight()&&t.parentElement?o(t.parentElement):r};return t.parentElement?o(t.parentElement):r}function U(t,e,n){return void 0===n&&(n=z.getWindowSize),R(t).flatMap(function(){return M(t).flatMap(function(){return F(t,e).orElse(function(){var i=O(t);return Object(H.a)({windowHeight:n(i).height,viewabilityThreshold:e,getClientRect:z.getBoundingClientRect,getElementFromPoint:function(t,e){return Q.b.fromNullable(i.document.elementFromPoint(t,e))},findParentElements:j,findFirstParentFrameNode:S},t)})})})}function B(t){var e=c(t),n=[];if(e){var i=e.document.styleSheets;if(t.matches=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector,K.isFunction(t.matches)){for(var r in i)!function(e){var r=i[e],o=J.a.tryCatch(function(){return r.rules||r.cssRules}).getOrElse(function(){return{}});for(var a in o){var s=o[a];t.matches(s.selectorText)&&n.push(s)}}(r)}}return n}function W(t,e,n){var i=B(t);G.forEach(i,function(t){G.forEach(n,function(n){var i=t.style.getPropertyValue(n);!i||e.style[n]||e.getAttribute(n)||(e.style[n]=i)})})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"curriedAddClass",function(){return tt}),e.createIframe=i,e.makeIframeIABFriendly=r,e.resetIframeBodyCSS=o,e.appendIframeToElement=a,e.isFullscreen=s,e.getWindow=c,e.getDocument=u,e.toggleFullscreen=d,e.openFullscreen=l,e.closeFullscreen=p,e.addClass=h,e.removeClass=f,e.hasClass=g,e.toggleClass=m,e.replaceClass=b,e.isInCrossDomainIframe=v,e.isChildWindow=y,e.isDisplayNone=A,e.findParentWindows=w,e.findTopWindow=O,e.findChildWindows=E,e.findAllWindows=C,e.findParentFrameNode=I,e.findFirstParentFrameNode=S,e.isKarmaFrame=T,e.findParentElements=j,e.isInView=k,e.getPercentageInView=P,e.isChildOf=L,e.isChildBoundsInParentBounds=V,e.findFloatingHeaders=x,e.getTop=_,e.checkIsHtmlElement=N,e.checkForDisplayNone=D,e.checkForTiny=R,e.visibilityChecksOnParents=M,e.checkForOverflow=F,e.checkElementVisibility=U,e.getCSSRules=B,e.copyCSSRules=W,n.d(e,"setCSSProp",function(){return nt}),n.d(e,"setCSSPropWithImportant",function(){return it}),n.d(e,"setAttr",function(){return rt});var H=n(59),z=n(9),G=n(3),q=n(11),K=n(2),Y=n(5),X=n(22),Q=n(1),J=n(6),Z=n(33),$=Y.isDesktop()?.1:.15,tt=Object(X.a)(function(t,e){h(e,t)}),et=Object(X.a)(function(t,e,n,i){return i.style.setProperty(e,n,t?"important":void 0),i}),nt=et(!1),it=et(!0),rt=Object(X.a)(function(t,e,n){return n.setAttribute(t,e),n})},function(t,e,n){var i=function(){function t(t,e){void 0===e&&(e=null),this.type=t,this.data=e}return t.AdLoaded="AdLoaded",t.AdStarted="AdStarted",t.AdStopped="AdStopped",t.AdSkipped="AdSkipped",t.AdLinearChange="AdLinearChange",t.AdSizeChange="AdSizeChange",t.AdExpandedChange="AdExpandedChange",t.AdSkippableStateChange="AdSkippableStateChange",t.AdRemainingTimeChange="AdRemainingTimeChange",t.AdDurationChange="AdDurationChange",t.AdVolumeChange="AdVolumeChange",t.AdImpression="AdImpression",t.AdVideoStart="AdVideoStart",t.AdVideoFirstQuartile="AdVideoFirstQuartile",t.AdVideoMidpoint="AdVideoMidpoint",t.AdVideoThirdQuartile="AdVideoThirdQuartile",t.AdVideoComplete="AdVideoComplete",t.AdClickThru="AdClickThru",t.AdInteraction="AdInteraction",t.AdUserAcceptInvitation="AdUserAcceptInvitation",t.AdUserMinimize="AdUserMinimize",t.AdUserClose="AdUserClose",t.AdPaused="AdPaused",t.AdPlaying="AdPlaying",t.AdLog="AdLog",t.AdError="AdError",t}();e.a=i},function(t,e,n){function i(t,e){void 0===e&&(e=!0);try{var n=t.getBoundingClientRect(),o=r(n);if(e&&!_.isAmp()&&!_.isIABSafeFrame()&&Object(R.getWindow)(t)!==window.top){var a=Object(R.findFirstParentFrameNode)(t);if(a!==t){var s=i(a);s.top&&(o.top=s.top+n.top,o.bottom=s.top+n.bottom),s.left&&(o.left=s.left+n.left,o.right=s.left+n.right)}}return o}catch(t){return{left:0,top:0,right:0,bottom:0,width:0,height:0}}}function r(t){return{top:t.top||0,right:t.right||0,bottom:t.bottom||0,left:t.left||0,width:t.width||0,height:t.height||0}}function o(t){return!(0!==t.top||0!==t.right||0!==t.bottom||0!==t.left||0!==t.width||0!==t.height)}function a(t,e){return{left:t.left+e.x,top:t.top+e.y,right:t.right+e.x,bottom:t.bottom+e.y,width:t.width,height:t.height}}function s(t,e){return{left:t.left-e.x,top:t.top-e.y,right:t.right-e.x,bottom:t.bottom-e.y,width:t.width,height:t.height}}function c(t){var e=t.offsetWidth,n=t.offsetHeight,r=_.getUA().indexOf("WebKit")>-1&&!e&&!n;if((!e||r)&&t.getBoundingClientRect){var o=i(t);return{width:o.right-o.left,height:o.bottom-o.top}}return{width:e,height:n}}function u(t,e){if(D.indexOf(B,t.nodeName)>=0);else if(t.nodeType===W.TEXT&&t.nodeValue)e.push(t.nodeValue);else if(t.nodeName in U)e.push(U[t.nodeName]);else for(var n=t.firstChild;n;)u(n,e),n=n.nextSibling}function d(t,e){void 0===e&&(e=window);var n=t.tagName.toLowerCase(),i=["iframe","object","img"];return!(D.includes(i,n)||l(i.join(","),e,t).length>0||!t.textContent||""!==t.textContent.trim())}function l(t,e,n){return Object(D.fromArrayLike)((n||e.document).querySelectorAll(t))}function p(t,e){var n=t[0];if(n){var i=n.querySelector(e);return N.b.fromNullable(i).orElse(function(){return p(t.slice(1),e)})}return N.b.empty()}function h(t,e){return N.b.fromNullable(t.getAttribute(e)).filter(function(t){return""!==t})}function f(t,e){return h(t,e).map(function(n){return t.removeAttribute(e),n})}function g(t,e){var n,i;if(void 0===t&&(t=window),void 0===e&&(e=!1),_.isAmp())return N.b.fromNullable(null===(n=window.context)||void 0===n?void 0:n.initialIntersection.rootBounds).map(function(t){return{width:t.width,height:t.height}}).getOrValue({width:window.innerWidth,height:window.innerHeight});if(_.isIABSafeFrame())return N.b.fromNullable(null===(i=_.getIABSafeFrameWindow())||void 0===i?void 0:i.$sf.ext.geom()).map(function(t){return{width:t.win.w,height:t.win.h}}).getOrValue({width:0,height:0});if(!e&&!_.isAmp()&&_.isIos()&&_.isSafari()){var r=t.innerWidth>t.innerHeight?"landscape":"portrait";return Object(M.isUndefined)(H[r])&&(Object(x.a)(t),Object(x.d)(t),H[r]=Object(x.c)(t),Object(x.e)()),{width:t.innerWidth,height:H[r]}}return"number"==typeof t.innerWidth?{width:t.innerWidth,height:t.innerHeight}:t.document.documentElement&&(t.document.documentElement.clientWidth||t.document.documentElement.clientHeight)?{width:t.document.documentElement.clientWidth,height:t.document.documentElement.clientHeight}:t.document.body&&(t.document.body.clientWidth||t.document.body.clientHeight)?{width:t.document.body.clientWidth,height:t.document.body.clientHeight}:{width:1e3,height:600}}function m(t,e){void 0===e&&(e=window),N.b.fromNullable(e.document.getElementsByTagName("head")[0]).orElse(function(){return N.b.fromNullable(e.document.body)}).forEach(function(e){return e.appendChild(t)})}function b(t,e){return F.e(t,e)}function v(t,e,n){F.a(t,e,n,Object(_.isIE)())}function y(t,e,n){F.d(t,e,n)}function A(t,e){void 0===e&&(e=window),F.c(t,e,Object(_.isIE)())}function w(t,e,n){void 0===e&&(e=window),void 0===n&&(n=this),F.b(t,e,n,Object(_.isIE)())}function O(t){return t.pageXOffset?t.pageXOffset:"CSS1Compat"===(t.document.compatMode||"")?t.document.documentElement.scrollLeft:t.document.body.scrollLeft}function E(t){return t.pageYOffset?t.pageYOffset:"CSS1Compat"===(t.document.compatMode||"")?t.document.documentElement.scrollTop:t.document.body.scrollTop}function C(t,e,n){if(void 0===n&&(n=window),e=e||n.document,e.getElementsByClassName)return Object(D.fromArrayLike)(e.getElementsByClassName(t));for(var i=t.split(" "),r="",o=0,a=i.length;o<a;o++)r+="."+i[o];return l(r,n,e)}function I(t,e){return!(!t||"object"!=typeof t||T(t))&&(e||(e=Object(R.getWindow)(t)||window),"object"==typeof e.HTMLElement?t instanceof e.HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName)}function S(t){return N.b.fromNullable(t.parentElement).forEach(function(e){return e.removeChild(t)})}function T(t){return!(!t||"object"!=typeof t)&&("[object NodeList]"===String(t)||"[object StaticNodeList]"===String(t))}function j(t){if(I(t))return/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i.test(t.nodeName)}function k(t){var e=!1;for(var n in t)if(!(e=n.match(/mobile|tablet|desktop|large/)&&Object(M.isString)(t[n])||T(t[n])||I(t[n])))break;return e}function P(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}function L(t){var e=document.createElement("textarea");return e.innerText=t,e.innerHTML}function V(t){return I(t)?P(t.outerHTML):""}Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundingClientRect=i,e.copyBoundingClientRect=r,e.isEmptyBoundingClientRect=o,e.getClientRectRelativeToDocument=a,e.getClientRectFromClientRectRelativeToDocument=s,e.getSize=c,e.getTextContent=u,e.isEmpty=d,e.querySelectorAll=l,e.findMatchingElement=p,e.getAttributeValue=h,e.getAndRemoveAttributeValue=f,e.getWindowSize=g,e.inject=m,e.shouldUsePassiveEventListener=b,e.addEventListener=v,e.removeEventListener=y,e.onDomReady=A,e.onDomComplete=w,e.getScrollLeft=O,e.getScrollTop=E,e.getElementsByClassName=C,e.isHTMLElement=I,e.removeElementFromDOM=S,e.isNodeList=T,e.isSelfClosingTag=j,e.isISlotSelector=k,e.htmlDecode=P,e.htmlEncode=L,e.getOuterHTML=V;var x=n(50),_=n(5),N=n(1),D=n(3),R=n(7),M=n(2),F=n(37),U={IMG:" ",BR:"\n"},B=["SCRIPT","STYLE","HEAD","IFRAME","OBJECT"],W={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},H={}},function(t,e,n){function i(t,e,n,i,r,o,a,s,c){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return i(n(e(t.apply(this,arguments))))};case 5:return function(){return r(i(n(e(t.apply(this,arguments)))))};case 6:return function(){return o(r(i(n(e(t.apply(this,arguments))))))};case 7:return function(){return a(o(r(i(n(e(t.apply(this,arguments)))))))};case 8:return function(){return s(a(o(r(i(n(e(t.apply(this,arguments))))))))};case 9:return function(){return c(s(a(o(r(i(n(e(t.apply(this,arguments)))))))))}}}function r(t,e,n,i,r,o,a,s,c,u){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return i(n(e(t)));case 5:return r(i(n(e(t))));case 6:return o(r(i(n(e(t)))));case 7:return a(o(r(i(n(e(t))))));case 8:return s(a(o(r(i(n(e(t)))))));case 9:return c(s(a(o(r(i(n(e(t))))))));case 10:return u(c(s(a(o(r(i(n(e(t)))))))))}}e.b=r,e.a=i},function(t,e,n){function i(t){var e=/(((((http|ftp|https):)?(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\-]+\.|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/;return"string"==typeof t&&!t.match(/\s/)&&e.test(t)}function r(t,e){void 0===e&&(e="00");var n=String(t);return e.substring(0,e.length-n.length)+n}function o(t){return t.charAt(0).toUpperCase()+t.substr(1)}function a(t,e){void 0===e&&(e=!0);for(var n=e?"0123456789":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",r=0;r<t;r++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}function s(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function c(t){void 0===t&&(t="|");for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=!0,r=0;i&&r<e.length;)i=i&&!e[r],r++;return i?"":e.join(t)}function u(t,e){return t.slice(-e.length)===e}function d(t,e){return t.match(e)||[]}function l(t,e){return function(n){return h.reduce(t,function(t,n){return t.replace(n,""+e)},n)}}function p(t,e){return-1!==t.indexOf(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isURL=i,e.pad=r,e.ucfirst=o,e.rand=a,e.trim=s,e.separate=c,e.endsWith=u,e.match=d,e.replaceStringsWithValue=l,e.includesSubString=p;var h=n(3)},function(t,e,n){var i=n(4),r=n(53),o=function(){function t(t){if(this.logger=new i.a("option."+t),!t)throw new r.a(r.a.OPTION_NAME_REQUIRED)}return t}();e.a=o},function(t,e,n){n.d(e,"a",function(){return o});var i=n(0),r=n(2);Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var o=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(Object(r.isNative)(t.bind))return t.bind.apply(t,Object(i.g)([e],n));var a=r.noop,s=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return t.apply(this instanceof a?this:e,n.concat(i))};return a.prototype=t.prototype,s.prototype=new a,s}},function(t,e,n){n.d(e,"a",function(){return a});var i=n(2),r=window.Date,o=r.prototype.getTime,a=Object(i.isNative)(r.now)?r.now:Object(i.isNative)(o)?function(){return o.call(new r)}:function(){return+new r};r.now||(r.now=a)},function(t,e,n){n.d(e,"a",function(){return i});var i={ABORT:"abort",CAN_PLAY:"canplay",DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",LOADED:"loaded",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",RESUME_AFTER_STALLED:"resumeafterstalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",AUDIO_SYNC:"audiosync",BENCH_FPS:"benchFps",RESIZE:"resize"}},function(t,e,n){function i(t){var e=document.createElement("a");return e.href=t,{href:e.href,protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host}}function r(t){var e={};return"string"!=typeof t?e:(t=Object(I.trim)(t).replace(/^(\?|&)/,""))?(O.forEach(t.split("&"),function(t){var n=t.split("="),i=n.shift();i&&(e[i]=n.length>0?n.join("="):void 0)}),e):e}function o(t){return/^http(s)*:\/\/localhost/i.test(t)||/^\/track\?action=/.test(t)||/^\/dist\/.*teads/.test(t)||/^\.\/teads/.test(t)}function a(t){return/teads\.(tv|net|tech|com)$/.test(i(t).hostname)||o(t)}function s(t){return/^http(s)*:\/\/t\.teads\.tv/i.test(t)||o(t)}function c(t){return/itunes\.apple\.com/.test(i(t).hostname)}function u(t){return/demo\.teads\.com/.test(i(t).hostname)}function d(t){var e=i(t).hostname;return"sb.scorecardresearch.com"===e||"b.scorecardresearch.com"===e}function l(t){var e=["uk"],n=t.split("."),i=n.length>1?n[n.length-2]:t;return O.includes(e,n[n.length-1])&&(i=n[n.length-3]),i}function p(t,e,n){var i,r;if(t.indexOf(e)<0)return t;var o=new RegExp("[\\?&]"+e+"=([^&#]*)");return j.b.fromNullable(null===(r=null===(i=o.exec(t))||void 0===i?void 0:i[0])||void 0===r?void 0:r.charAt(0)).match({some:function(i){return t.replace(o,i+e+"="+n)},none:function(){return L.warn('Tried to replace parameter "'+e+'" value with "'+n+'" on URL '+t+" and failed."),t}})}function h(t,e){var n=O.map(Object.keys(e),function(t){return t+"="+e[t]}).join("&"),i=-1===t.indexOf("?")?"?":"&";return t+(""===n?"":i+n)}function f(t){return Object(C.b)(C.a,Object(C.e)(t))}function g(t){return t.replace(/^http:/,Object(T.getProtocol)())}function m(t,e,n){var i;return v(t,e)?t:h(t,(i={},i[e]=n,i))}function b(t,e,n){return n.map(function(n){return m(t,e,n)}).getOrValue(t)}function v(t,e){return t.indexOf("?"+e+"=")>-1||t.indexOf("&"+e+"=")>-1}function y(t,e,n){return v(t,e)?p(t,e,n):m(t,e,n)}function A(){return k.a.tryCatch(function(){return window.top.location.search}).getOrElse(function(){return i(document.referrer).search})}function w(t){var e,n;try{var i=Object(P.findParentWindows)(window.document.body),r=void 0,o=void 0;return window.top!==window?Object(E.isAmp)()&&j.b.fromNullable(window.context).map(function(t){return t.sourceUrl}).nonEmpty()?(r=window.context.sourceUrl,o=window.context.canonicalUrl):Object(E.isAmpSF)()&&j.b.fromNullable(window.AMP_CONTEXT_DATA).map(function(t){return t.sourceUrl}).nonEmpty()?(r=window.AMP_CONTEXT_DATA.sourceUrl,o=window.AMP_CONTEXT_DATA.canonicalUrl):r=document.referrer?Object(E.isIABSafeFrame)()&&(Object(E.isIos)()||Object(E.isSafari)())?j.b.fromNullable(null===(e=null===window||void 0===window?void 0:window.teads)||void 0===e?void 0:e.pageURL).getOrElse(function(){return document.referrer}):document.referrer:k.a.tryCatch(function(){return window.top.location.href}).getOrElse(function(){return window.location.href}):r=window._teads_canonical_url?window._teads_canonical_url:null===(n=window.location)||void 0===n?void 0:n.href,r.match("ampproject.org")&&o&&!o.match("amproject.org")&&(r=o),j.b.fromNullable({windowDepth:i.length,windowReferrerUrl:r})}catch(e){t.warning("get-current-page-referrer error retrieving top win")}return j.b.empty()}e.r=i,e.s=r,e.m=o,e.k=a,e.q=s,e.l=c,e.j=u,e.i=d,n.d(e,"p",function(){return V}),e.g=l,e.t=p,e.c=h,e.e=f,e.u=g,e.a=m,e.b=b,e.n=v,n.d(e,"o",function(){return x}),e.d=y,e.h=A,e.f=w;var O=n(3),E=n(5),C=n(89),I=n(11),S=n(4),T=n(2),j=n(1),k=n(6),P=n(7),L=new S.a("URIHelper"),V=function(t){return/^(\w+\.sandbox\.teads\.net|(\w\.)+teads\.tech)|(\d+\.\d+\.\d+\.\d+)$/.test(t)},x=function(t,e,n){return new RegExp("[?&]"+e+"=("+n+"&|"+n+"$)").test(t)}},function(t,e,n){var i=n(4),r=function(){function t(){this.loggerED=new i.a("canvas.player.components.EventDispatcher"),this.cb={},this.addEventListener=this.listen,this.removeEventListener=this.muteEvent}return t.prototype.listen=function(t,e,n){void 0===n&&(n=!1),this.cb[t]||(this.cb[t]=new Array),this.cb[t].push(e)},t.prototype.muteEvent=function(t,e){this.cb[t]?e&&-1!==this.cb[t].indexOf(e)?this.cb[t].splice(this.cb[t].indexOf(e),1):e?this.loggerED.error("call muteEvent for",t,"but handler ",e," does not exist for this event"):this.cb[t]=new Array:this.loggerED.error("call muteEvent for",t,"but handlers for this event are empty")},t.prototype.dispatch=function(t,e){this.cb[t]&&(e?e.type=t:e={type:t},this.cb[t].forEach(function(t,n){t(e)}))},t.prototype.dispatchEvent=function(t){return this.loggerED.debug("dispatchEvent method is not implemented",t),!0},t}();e.a=r},function(t,e,n){n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n(1),r=function(){function t(t){void 0===t&&(t={}),this.protocol="https:",this.basePathUrl=this.protocol+"//s8t.teads.tv/media/format/v3",this.assetsUrl=this.basePathUrl+"/assets",this.formatPlayerAssetUrl=this.basePathUrl+"/teads-format-with-player.js",this.richAdServerUrl=this.protocol+"//a.teads.tv/page/{id}/ad",this.buyingEngineUrl=this.protocol+"//a.teads.tv/vast/get",this.trackingUrl=this.protocol+"//t.teads.tv/track",this.userSyncUrl=this.protocol+"//sync.teads.tv/iframe",this.wigoIframeUrl=this.protocol+"//sync.teads.tv/wigo-no-slot",this.consensuIframeUrl=this.protocol+"//cmp.teads.mgr.consensu.org/index.html",this.isSumologicLogsEnabled=!0,this.isRichAdServerRequestEnabled=!0,this.isQA=!1,this.richAdServerRequestTimeout=5e3,this.timestampMacroNames=["[RANDOM]","[RANDOMNUM]","[TIMESTAMP]","[CACHE_BREAKER]","[CACHEBREAKER]","[CACHEBUSTING]","[CACHE_BUSTING]","[CACHEBUSTER]","[CACHE_BUSTER]"],this.forceVpaidSandboxing=!1,this.refresh(t)}return t.prototype.refresh=function(t){var e=this;void 0===t&&(t={}),i.b.fromNullable(t.ASSETS_URL).forEach(function(t){e.basePathUrl=t,e.assetsUrl=t+"/assets"}),i.b.fromNullable(t.FORMAT_WITH_PLAYER_URL).forEach(function(t){return e.formatPlayerAssetUrl=t}),i.b.fromNullable(t.RAS_URL).forEach(function(t){return e.richAdServerUrl=t}),i.b.fromNullable(t.BE_URL).forEach(function(t){return e.buyingEngineUrl=t}),i.b.fromNullable(t.TRACKING_URL).forEach(function(t){return e.trackingUrl=t}),i.b.fromNullable(t.USER_SYNC_URL).forEach(function(t){return e.userSyncUrl=t}),i.b.fromNullable(t.WIGO_IFRAME_URL).forEach(function(t){return e.wigoIframeUrl=t}),i.b.fromNullable(t.SUMOLOGIC_ENABLED).forEach(function(t){return e.isSumologicLogsEnabled=t}),i.b.fromNullable(t.WITH_RAS_REQUEST).forEach(function(t){return e.isRichAdServerRequestEnabled=t}),i.b.fromNullable(t.IS_QA).forEach(function(t){return e.isQA=t}),i.b.fromNullable(t.TEADS_CONSENSU_URL).forEach(function(t){return e.consensuIframeUrl=t}),i.b.fromNullable(t.FORCE_VPAID_SANDBOXING).forEach(function(t){return e.forceVpaidSandboxing=t})},t}(),o=new r(window.teads)},function(module,__webpack_exports__,__webpack_require__){function stringify(t,e){void 0===e&&(e=!1);var n=Array.prototype.toJSON;delete Array.prototype.toJSON;var i=jsonStringify(e?decycle(t):t);return n&&(Array.prototype.toJSON=n),i}function parse(sJSON){return window.JSON.parse?window.JSON.parse(sJSON):eval("("+sJSON+")")}function decycle(t,e){var n=[],i=[];return function t(r,o){var a,s;return void 0!==e&&(r=e(r)),"object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String?r:(a=Object(__WEBPACK_IMPORTED_MODULE_0__ArrayHelper__.indexOf)(n,r))>=0?{$ref:i[a]}:(n.push(r),i.push(o),Array.isArray(r)?(s=[],Object(__WEBPACK_IMPORTED_MODULE_0__ArrayHelper__.forEach)(r,function(e,n){s[n]=t(e,o+"["+n+"]")})):(s={},Object(__WEBPACK_IMPORTED_MODULE_0__ArrayHelper__.forEach)(Object.keys(r),function(e){s[e]=t(r[e],o+"["+JSON.stringify(e)+"]")})),s)}(t,"$")}function jsonStringify(t){return window.JSON.stringify&&'{"a":"b"}'===window.JSON.stringify({a:"b"})?window.JSON.stringify(t):polyfillStringify(t)}function polyfillStringify(t){if(null===t)return"null";if("number"==typeof t)return isFinite(Number(t))?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"==typeof t){if(Array.isArray(t)){for(var e="[",n=0;n<t.length;n++)e+=(n?", ":"")+polyfillStringify(t[n]);return e+"]"}if("[object Object]"===Object.prototype.toString.call(t)){var i=[];for(var r in t)t.hasOwnProperty(r)&&i.push(polyfillStringify(r)+": "+polyfillStringify(t[r]));return"{"+i.join(", ")+"}"}}return'"'+t.toString().replace(escRE,escFunc)+'"'}__webpack_exports__.b=stringify,__webpack_exports__.a=parse;var __WEBPACK_IMPORTED_MODULE_0__ArrayHelper__=__webpack_require__(3),escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g,escFunc=function(t){return escMap[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)}},function(t,e,n){function i(){return N.map(function(t){return t.now()}).getOrElse(S.a)}function r(t){var e=U(t);N.filter(function(t){return Object(V.isFunction)(t.mark)}).match({some:function(t){return t.mark(e)},none:function(){D[e]={name:e,entryType:"mark",startTime:i(),duration:0}}})}function o(t){s(t).isEmpty()&&r(t)}function a(t,e,n){void 0===n&&(n={name:"measure",id:Object(k.rand)(10)});var i=U(n),r=U(t),o=U(e);return N.filter(function(t){return Object(V.isFunction)(t.measure)}).match({some:function(n){return P.a.tryCatch(function(){return n.measure(i,r,o)}).tapLeft(function(n){return G.warn("measure not available between",t,"and",e)})},none:function(){D[i]={name:i,entryType:"measure",startTime:F(r),duration:F(o)-F(r)}}}),s(n)}function s(t,e){void 0===e&&(e=!0);var n=U(t);return N.filter(function(t){return Object(V.isFunction)(t.getEntriesByName)}).match({some:function(t){return T.b.fromNullable(t.getEntriesByName(n).pop())},none:function(){return e?M(n):T.a}})}function c(t,e){return void 0===e&&(e=window),_(e).filter(function(t){return Object(V.isFunction)(t.getEntriesByType)}).map(function(e){return e.getEntriesByType(t)}).filter(j.isNotEmpty)}function u(t){return void 0===t&&(t=window),c("resource",t)}function d(t){return void 0===t&&(t=window),c("navigation",t)}function l(t,e){return void 0===e&&(e=window),u(e).flatMap(function(e){return T.b.fromNullable(Object(j.find)(e,function(e){return t.test(e.name)}))})}function p(t){return void 0===t&&(t=window),_(t).flatMap(function(t){var e;return T.b.fromNullable(null===(e=t.timing)||void 0===e?void 0:e.navigationStart)})}function h(t){return void 0===t&&(t=window),d(t).match({some:function(t){return T.b.fromNullable(t[0].responseStart-t[0].requestStart).map(Math.round)},none:function(){return _(t).flatMap(Object(C.a)(Object(V.prop)("timing"),T.b.fromNullable)).map(function(t){return t.responseStart-t.requestStart})}})}function f(t,e){Object(j.forEach)(e,function(e){return Object(j.forEach)(t,function(t){return z[t].value=z[t].value.orElse(function(){return z[t].win=T.b.fromNullable(e),l(z[t].name,e)})})})}function g(t,e,n){return e.match({some:function(e){return{load:e.duration,eval:n.match({some:function(t){return t.startTime-e.responseEnd},none:function(){return W}}),key:t}},none:function(){return{load:W,eval:W,key:t}}})}function m(){var t=g("tr",z.tag.value,z.format.value),e=z.tag.win.getOrValue(window),n=z.format.win.getOrValue(window);return t.eval!==W&&e!==n&&(t.eval-=p(e).map(function(t){return p(n).map(function(e){return t-e}).getOrValue(0)}).getOrValue(0)),t}function b(){return g("fr",z.format.value,s({name:"a"},!1))}function v(t){return"fu="+t+(x.b.isQA?"_qa ":" ")}function y(t){var e="";return Object(j.forEach)(t,function(t){e+=t.key+"l="+Math.round(t.load)+" ",e+=t.key+"e="+Math.round(t.eval)+" "}),e}function A(t,e,n){void 0===n&&(n="first");var i="",r=[];Object(j.forEach)(t,function(t){r=r.concat(H[t])});var o;return Object(j.forEach)(r,function(t){if(o){var r=a({name:o.name,id:o.isId?e:""},{name:t.name,id:t.isId?e:""}),s=r.map(function(t){return Math.round(t.duration)}).getOrValue(W),c="first"===n?o.name:t.name;i+=c+"="+s+" "}o=t}),i}function w(t,e){return[v(t),y([m(),b()]),A([t,"common"],e)].join("")}function O(t,e){return[v(t),A([t],e,"last")].join("")}function E(t){var e=t.length,n=function(t){return 8*t/1024},i=function(t){return t/1e3},r=Object(j.reduce)(t,function(t,r){var o=r.transferSize,a=r.responseEnd,s=r.responseStart;return o>0&&a>0&&s>=0&&a-s>0?t+n(o)/i(a-s):(e--,t)},0);return e>0?r/e:0}n.d(e,"b",function(){return B}),e.l=i,e.i=r,e.j=o,e.k=a,e.d=u,e.h=l,e.g=h,e.a=f,e.e=w,e.f=O,e.c=E;var C=n(10),I=n(4),S=n(14),T=n(1),j=n(3),k=n(11),P=n(6),L=n(33),V=n(2),x=n(18),_=function(t){return P.a.tryCatch(function(){return t.performance||t.webkitPerformance||t.msPerformance||t.mozPerformance}).toOption()},N=_(window),D={},R=function(t){return t.flatMap(Object(C.a)(Object(V.prop)("startTime"),T.b.fromNullable)).getOrValue(W)},M=function(t){return T.b.fromNullable(D[t])},F=Object(L.a)(R,M),U=function(t){return"teads-mark-"+t.name+(t.id?"-"+t.id:"")},B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.join("-")},W=-1,H={ttp:[{name:"a"},{name:"d"},{name:"b"}],tm:[{name:"a"},{name:"b",isId:!0},{name:"d",isId:!0}],tm_is:[{name:"b",isId:!0},{name:"d",isId:!0}],common:[{name:"c",isId:!0},{name:"e",isId:!0},{name:"f",isId:!0},{name:"g",isId:!0},{name:"h",isId:!0},{name:"i",isId:!0},{name:"k",isId:!0}],ac:[{name:"b",isId:!0},{name:"l",isId:!0}],al:[{name:"b",isId:!0},{name:"m",isId:!0},{name:"n",isId:!0}],as:[{name:"n",isId:!0},{name:"o",isId:!0},{name:"p",isId:!0}],tpb:[{name:"b",isId:!0},{name:"q",isId:!0}],ar2al:[{name:"k",isId:!0},{name:"r",isId:!0},{name:"s",isId:!0},{name:"m",isId:!0},{name:"n",isId:!0}]},z={tag:{name:/(^http(s)*:\/\/a\.teads\.tv\/page\/\d+\/tag|\/dist\/quality\/v3\/ms\/tag\/.+\.js)/,value:T.a,win:T.a},format:{name:/(^(http(s)?:)?\/\/s8t\.teads\.tv\/media\/format\/v3|\/dist\/format)\/teads-format(\.min)?\.js/,value:T.a,win:T.a}},G=new I.a("Timing")},function(t,e,n){function i(t,e,n,i){return void 0===n&&(n=u.Standard),void 0===i&&(i=p.a),h.a.tryCatch(function(){if(n===u.Worker&&c()){var i=s(t,'self.setTimeout(function(){self.postMessage("tick")}, '+e+")");return{clear:function(){i.terminate()}}}if(n===u.Precise){var r,l=d.l(),p=0,h=function(){var n=d.l()-l;n<e-(0===p?p:n/p)?(p+=1,r=o(h)):t()};return h(),{clear:function(){a(r)}}}var f=window.setTimeout(function(){t()},e);return{clear:function(){clearTimeout(f)}}}).fold(function(t){return i.forEach(function(e){return e.error("ccpa-error 3 "+t,1)}),{clear:function(){}}},function(t){return t})}function r(t,e,n){if(void 0===n&&(n=!1),n&&c()){var i=s(t,'self.setInterval(function(){self.postMessage("tick")}, '+e+")");return{clear:function(){i.terminate()}}}var r=window.setInterval(function(){t()},e);return{clear:function(){clearInterval(r)}}}function o(t,e){void 0===e&&(e=f);var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;return n?n(t):window.setTimeout(t,e)}function a(t){(window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout)(t)}function s(t,e){var n=l.b(e),i=new Worker(l.c().map(function(t){return t.createObjectURL(n)}).getOrValue(""));return i.onmessage=function(e){return t()},i}function c(){return!!window.Worker&&l.c().nonEmpty()}n.d(e,"a",function(){return u}),e.d=i,e.c=r,e.b=o;var u,d=n(20),l=n(34),p=n(1),h=n(6);!function(t){t[t.Standard=0]="Standard",t[t.Worker=1]="Worker",t[t.Precise=2]="Precise"}(u||(u={}));var f=1e3/60},function(t,e,n){function i(t){var e=t.length;return function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return i.length<e?o.a.apply(void 0,Object(r.g)([n,null],i)):t.call.apply(t,Object(r.g)([null],i))}}var r=n(0),o=n(13);e.a=i},function(t,e,n){n.d(e,"a",function(){return i});var i;!function(t){t[t.INIT=0]="INIT",t[t.INIT_VIDEO=1]="INIT_VIDEO",t[t.INIT_AUDIO=2]="INIT_AUDIO",t[t.CAN_PLAY=3]="CAN_PLAY",t[t.PLAYING=4]="PLAYING",t[t.PAUSED=5]="PAUSED",t[t.LOADED=6]="LOADED",t[t.STALLED=7]="STALLED",t[t.ENDED=8]="ENDED"}(i||(i={}))},function(t,e,n){function i(t,e){var n=u(t,e);return null!==n&&n>0}function r(t,e){var n=u(t,e);return null!==n&&n<0}function o(t,e){var n=u(t,e);return null!==n&&n>=0}function a(t,e){var n=u(t,e);return null!==n&&n<=0}function s(t,e){return t<e?-1:t>e?1:0}function c(t,e){return s(t.major,e.major)||s(t.minor,e.minor)||s(t.patch,e.patch)}function u(t,e){var n=new d(t),i=new d(e);return n.isValid&&i.isValid?c(n,i):null}e.b=i,e.d=r,e.a=o,e.c=a;var d=function(){function t(e){if(this.isValid=!0,"string"!=typeof e&&(e=""+e),e.length>l)return void(this.isValid=!1);var n=e.trim().match(h);if(!n){return e.split(".").length<3?new t(e+".0"):void(this.isValid=!1)}return this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>p||this.major<0?void(this.isValid=!1):this.minor>p||this.minor<0?void(this.isValid=!1):this.patch>p||this.patch<0?void(this.isValid=!1):void(this.version=this.major+"."+this.minor+"."+this.patch)}return t.prototype.toString=function(){return this.version},t}(),l=256,p=9007199254740991,h=new RegExp("^v?(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*).*?$")},function(t,e,n){var i=n(0),r=n(8),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.FullscreenRequest="FullscreenRequest",e.PlayPauseRequest="PlayPauseRequest",e.SkipRequest="SkipRequest",e.UIButtonRequest="UIButtonRequest",e.ClickToPlayRequest="ClickToPlayRequest",e.ClickRequest="ClickRequest",e.CallRequest="CallRequest",e.SoundToggleRequest="SoundToggleRequest",e.ReplayRequest="ReplayRequest",e.EndscreenInit="EndscreenInit",e.CollapseRequest="CollapseRequest",e.AdChoicesClickRequest="AdChoicesClickRequest",e.EarlyClickRequest="EarlyClickRequest",e}(r.a);e.a=o},function(t,e,n){var i;!function(t){t[t.REMOVED=-6]="REMOVED",t[t.REMOVING=-5]="REMOVING",t[t.ERROR=-4]="ERROR",t[t.STOPPED=-3]="STOPPED",t[t.STOPPING=-2]="STOPPING",t[t.SKIPPED=-1]="SKIPPED",t[t.SKIPPING=0]="SKIPPING",t[t.READY=1]="READY",t[t.LOADING=2]="LOADING",t[t.LOADED=3]="LOADED",t[t.STARTING=5]="STARTING",t[t.STARTED=6]="STARTED",t[t.PAUSING=7]="PAUSING",t[t.PAUSED=8]="PAUSED",t[t.RESUMING=9]="RESUMING",t[t.PLAYING=10]="PLAYING",t[t.COMPLETE=11]="COMPLETE"}(i||(i={})),e.a=i},function(t,e,n){var i=n(14),r=window.teads||{};r.START_TIME=r.START_TIME||Object(i.a)(),r.FULL_LOGS=r.FULL_LOGS||[],r.HAS_DEBUG_LOGS=r.HAS_DEBUG_LOGS||!1,r.CONTEXT_IS_INITIALIZED=!1,r.WIGO_DEBUG_KEY=r.WIGO_DEBUG_KEY||null,window.teads=r},function(t,e,n){function i(){if(a)return a();var t=null;if(window.XMLHttpRequest&&(t=new XMLHttpRequest),!t||"withCredentials"in t||(t=window.XDomainRequest?new window.XDomainRequest:null),!t){try{t=new window.ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(e){try{t=new window.ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){throw new Error("could not create XMLHttpRequest nor ActiveXObject")}}t.responseType="msxml-document"}return t}function r(t){return s?s(t):t instanceof XMLHttpRequest}function o(t,e){a=t,s=e}e.a=i,e.b=r,e.c=o;var a,s},function(t,e,n){var i=function(){function t(){}return t.AdVideoMetadata="AdVideoMetadata",t.AdRemovedHeavyAdIntervention="AdRemovedHeavyAdIntervention",t.AdWarningHeavyAdIntervention="AdWarningHeavyAdIntervention",t}();e.a=i},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i=n(7),r=n(9),o=n(4),a=n(49),s=n(8),c=n(164),u=n(87),d=n(1),l=n(2),p=function(){function t(t,e,n,i,r){var d=this;if(this.ui=t,this.element=e,this.vpaid=n,this.config=i,this.globalVpaidEventHandler=r,this.eventHandler=new a.a,this.showOnVideoStart=!0,this.isCountdownEnded=!1,i.style){var p=e.getAttribute("style");e.setAttribute("style",(p?p+";":"")+i.style)}var h=new RegExp(c.a+"([a-z]*)"),f=e.className.match(h);this.id=f&&f[1]?f[1]:"",this.logger=new o.a("teads.ui.Component"+(this.id?"."+this.id:"")),e.style.zIndex||e.style.setProperty("z-index","2"),this.hide(),this.vpaid.subscribe(function(){d.onVideoStart()},s.a.AdVideoStart);var g=i.startOffset;if(!Object(l.isUndefined)(g)&&g>0){this.showOnVideoStart=!1;var m=function(){u.a(d.vpaid)>=g&&(d.vpaid.unsubscribe(m,s.a.AdRemainingTimeChange),d.isCountdownEnded=!0,d.isEnabled()&&d.show())};this.vpaid.subscribe(m,s.a.AdRemainingTimeChange)}else this.isCountdownEnded=!0;this.bindClick()}return t.prototype.init=function(){},t.prototype.setShowOnVideoStart=function(t){this.showOnVideoStart=t},t.prototype.getShowOnVideoStart=function(){return this.showOnVideoStart},t.prototype.getConfig=function(){return this.config},t.prototype.isEnabled=function(){return!this.config.disable},t.prototype.getElement=function(){return this.element},t.prototype.show=function(){this.isCountdownEnded&&(i.removeClass(this.getElement(),"hide"),i.addClass(this.getElement(),"show"))},t.prototype.hide=function(){i.removeClass(this.getElement(),"show"),i.addClass(this.getElement(),"hide")},t.prototype.isVisible=function(){return this.getElement().className.indexOf("show")>-1},t.prototype.getVpaid=function(){return this.vpaid},t.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},t.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},t.prototype.getOverridenEvents=function(){return[]},t.prototype.getOverridenMethods=function(){return[]},t.prototype.restoreOnClickAction=function(){},t.prototype.onMethod=function(t,e){void 0===e&&(e=[])},t.prototype.onOverridenMethod=function(t,e){void 0===e&&(e=[])},t.prototype.remove=function(){var t=this;d.b.fromNullable(this.getElement().parentNode).forEach(function(e){return e.removeChild(t.getElement())})},t.prototype.onVideoStart=function(){this.showOnVideoStart&&this.show()},t.prototype.dispatchVpaidEvent=function(t,e){if(this.globalVpaidEventHandler)try{this.globalVpaidEventHandler({type:t,data:e})}catch(n){this.logger.error("error calling dispatchVpaidEvent "+t,e)}else this.logger.error("no globalVpaidEventHandler given. Dispatch "+t+" failed",e)},t.prototype.bindClick=function(){var t=this;r.addEventListener("click",this.getElement(),function(e){t.onClick(e)})},t.prototype.onClick=function(t){this.dispatchUiEvent(this.eventName)},t.prototype.dispatchUiEvent=function(t){t&&(this.logger.info("dispatch UI event "+t),this.dispatchVpaidEvent(t))},t}();e.a=p},function(t,e,n){n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n(0),r=function(){function t(t,e){this.code=t,this.error=e}return t.get=function(e,n,i){return new t({id:e,message:n},i)},t.prototype.getFullMessage=function(){return"Error #"+this.code.id+": "+this.code.message},t.prototype.getId=function(){return this.code.id},t.prototype.getMessage=function(){return this.code.message},t.prototype.getStackTrace=function(){return this.error&&this.error.stack?this.error.stack:""},t.prototype.toString=function(){return this.getFullMessage()},t}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.XML_PARSE={id:100,message:"XML parsing error"},e.XML_INVALID_SCHEMA={id:101,message:'VAST schema validation error: expected "%s" but found "%s"'},e.UNSUPPORTED_VERSION={id:102,message:"VAST version of response not supported. Expected VAST2 or VAST3 but VAST1 found"},e.TRAFFICKING={id:200,message:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display"},e.LINEARITY={id:201,message:"Video player expecting different linearity"},e.DURATION={id:202,message:"Video player expecting different duration"},e.SIZE={id:203,message:"Video player expecting different size"},e.WRAPPER={id:300,message:"General Wrapper error"},e.WRAPPER_TIMEOUT={id:301,message:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element (URI was either unavailable or reached a timeout as defined by the video player)"},e.WRAPPER_LIMIT={id:302,message:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response"},e.NO_ADS={id:303,message:"No Ads VAST response after one or more Wrappers"},e.GENERAL_LINEAR={id:400,message:"General Linear error. Video player is unable to display the Linear Ad."},e.FILE_NOT_FOUND={id:401,message:"File not found. Unable to find Linear/MediaFile from URI."},e.MEDIAFILE_TIMEOUT={id:402,message:"Timeout of MediaFile URI."},e.UNSUPPORTED_MEDIAFILE={id:403,message:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},e.MEDIAFILE_DISPLAY={id:405,message:"Problem displaying MediaFile. Video player found a MediaFile with supported type but could not display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."},e.GENERAL_NONLINEAR={id:500,message:"General NonLinearAds error."},e.CREATIVE_DIMENSIONS={id:501,message:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},e.NONLINEAR_FETCH={id:502,message:"Unable to fetch NonLinearAds/NonLinear resource."},e.SUPPORTED_NONLINEAR_NOT_FOUND={id:503,message:"Could not find NonLinear resource with supported type."},e.GENERAL_COMPANION={id:600,message:"General CompanionAds error."},e.COMPANION_DIMENSIONS={id:601,message:"Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)."},e.COMPANION_DISPLAY={id:602,message:"Unable to display Required Companion."},e.COMPANION_FETCH={id:603,message:"Unable to fetch CompanionAds/Companion resource."},e.SUPPORTED_COMPANION_NOT_FOUND={id:604,message:"Could not find Companion resource with supported type."},e.UNDEFINED={id:900,message:"Undefined Error"},e.GENERAL={id:901,message:"General VPAID error"},e}(r)},function(t,e,n){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("expecting at least one argument");return function(e){return Object(r.reduce)(t.slice().reverse(),function(t,e){return e(t)},e)}}var r=n(3);e.a=i},function(t,e,n){function i(t,e){if(void 0===e&&(e="application/javascript"),window.Blob)try{return new Blob([t],{type:e})}catch(t){}window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;var n=new window.BlobBuilder;return n.append(t),n.getBlob()}function r(){return Object(c.isFunction)(window.Blob)&&Object(c.isNative)(window.Blob)}function o(){return a(window.URL).orElse(function(){return a(window.webkitURL)})}function a(t){return s.b.fromNullable(t).filter(function(t){return Object(c.hasOwnProperty)(t,"createObjectURL")&&Object(c.isNative)(t.createObjectURL)})}e.b=i,e.a=r,e.c=o;var s=n(1),c=n(2)},function(t,e,n){n.d(e,"d",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return c});var i=(n(140),window.SLIDER_WHITELIST||/^(25030|27511|27935|28418|29824|30767|35627|35655|35781|35782|35878|35883|35892|36851|36886|36909|37252|37270|37431|37432|37440|37450|37513|37648|37652|37655|37656|37664|37666|37676|37678|37703|37704|37790|37791|37811|37812|37814|37921|37925|37926|37928|37932|37955|37958|37959|37967|38033|38037|38038|38039|38043|38044|38049|38050|38051|38052|38053|38054|38055|38056|38057|38059|38219|38221|38297|38299|38309|38310|38328|38329|38331|38343|38424|38686|38908|38983|38984|39456|39457|39955|40236|40237|40239|40249|40250|40427|41206|41207|41259|41391|41660|42628|42712|42811|42812|43215|43260|43323|43701|43702|44019|44020|44223|44328|44329|44330|44333|44334|44495|44496|45036|45037|45040|45041|45058|45119|45125|45572|45573|45575|45681|45872|46012|46053|46056|46058|46066|46274|46374|46407|46426|46435|46514|46819|47135|47136|47160|47161|47165|47443|47535|47575|47576|47577|47578|47579|47580|47587|47588|47589|47590|47591|47592|47593|47594|47595|47596|47597|47598|47600|47924|47925|47926|47930|47931|47932|47956|48034|48408|48409|48431|48820|48822|48824|48826|48830|48967|49069|49677|49678|50244|50245|50487|50797|50800|51583|51936|52085|52186|52288|52289|52290|52432|52433|52437|52866|52867|52894|52897|53252|53325|53892|53948|54108|54125|54561|55060|55061|55062|55097|55160|55229|55231|55233|55235|55819|55973|55975|55992|56493|56664|56665|58062|59565|60075|60294|60298|60612|61013|61018|61180|61334|61335|61409|61502|61503|61522|61524|61525|61561|61570|61762|61797|62102|62143|62242|62245|62267|62341|62385|62391|62586|62587|62619|62622|62650|62730|62749|62909|62910|62948|62963|63068|63069|63080|63081|63083|63093|63201|63203|63204|63205|63206|63207|63208|63209|63210|63280|63289|63572|63574|63757|63784|63786|63788|63790|63792|63794|63796|63798|63800|63802|63804|63859|64010|64018|64224|64339|64469|64481|64482|64534|64650|64836|64837|64999|65000|65034|65043|65046|65257|65464|65599|65765|65840|65853|65865|65978|65988|66226|66337|66338|66339|66371|66537|66538|66706|67325|67335|67713)$/),r={inread:"inread",inboard:"inboard"},o={limitedCapabilities:"limitedCapabilities",placementCall:"placementCall",comscore:"comscore",fallback:{integration:"passback-integration",noAd:"passback-noAd"},noSlot:{selector:"noSlot-selector",hbSelector:"hbNoSlot-selector",filter:"noSlot-filter",avoid:"noSlot-avoid",size:"noSlot-size",btf:"noSlot-BTF",minimum:"noSlot-minimum",minimumBelow:"noSlot-minimumBelow",content:"noSlot-content",position:"noSlot-position",videoArticle:"noSlot-videoArticle",videoSlot:"noSlot-videoSlot",imageSlot:"noSlot-imageSlot",safeFrame:"noSlot-safeFrame"},incompatibility:{browser:"incompatibility-browser",context:"incompatibility-context",format:"incompatibility-format",video:"incompatibility-video"},placementCapping:"placementCapping",slotAvailable:"slotAvailable",hbSlotAvailable:"hbSlotAvailable",adReceived:"adReceived",adNotAvailable:{networkError:"adNotAvailable-networkError",serverError:"adNotAvailable-serverError"},adAvailable:{error:{parseTimeout:"adAvailable-error-parseTimeout",badResponse:"adAvailable-error-badResponse",vast:"adAvailable-error-vast-{code}",settings:"adAvailable-error-settings",sameAd:"adAvailable-error-sameAd"},success:"adAvailable-success"},adCall:"adCall",errorBeforeAdReached:"errorBeforeAdReached",adReached:"adReached",noAd:{serverError:"noAd-serverError",networkError:"noAd-networkError",vastError:"noAd-vastError-{code}",parseTimeout:"noAd-parseTimeout",settingsError:"noAd-settingsError",badResponse:"noAd-badResponse",sameAd:"noAd-sameAd",ivt:{doubleVerify:"noAd-ivt-doubleVerify",tag:"noAd-ivt-tag"},blockedSite:{doubleVerify:"noAd-blockedSite-doubleVerify",teads:"noAd-blockedSite-teads"}},impression:"impression",openExpand:"open-expand",open:"open",visible:"visible",click:"click",clickReplay:"click-replay",ivt:{doubleVerify:"IVT DoubleVerify",tag:"IVT Tag"},blockedSite:{doubleVerify:"BlockedSite DoubleVerify",teads:"Teads Blacklist"},debugBts:"debug-bts",warning:"warning"},a={placementCall:"f11",noSlot:"f21",incompatibility:"f22",slotAvailable:"f24",adReceived:"f30",adNotAvailable:"f31","adAvailable-error":"f32","adAvailable-success":"f33",adCall:"f41",errorBeforeAdReached:"f42",adReached:"f43",noAd:"f51"},s={V2:{"http:":"http://b.scorecardresearch.com/p?c1=2&c2=17198971&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]&cs_ucfr=","https:":"https://sb.scorecardresearch.com/p?c1=2&c2=17198971&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]&cs_ucfr="},V2SDK:"https://sb.scorecardresearch.com/p?c1=19&c2=17198971&c12=[userId]&ns_ap_pn=[os]&ns_ap_device=[device]&ns_ap_sv=2.1602.11&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]&cs_ucfr="},c="teads_internal_passback_no_passback"},function(t,e,n){function i(t){return Number(t.handshakeVersion("2.0"))>=2}function r(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=n[0];switch(e){case a.a.AdClickThru:r={url:n[0],id:n[1],playerHandles:n[2]};break;case a.a.AdError:r={message:n[0],id:n[1]}}t({type:e,data:r})}}function o(t,e){switch(t){case"initAd":if(e>=s.a.LOADING)throw"VPAID already initalized, cannot call initAd twice";break;case"startAd":if(e<s.a.LOADED)throw"VPAID not started, use initAd, and wait for AdLoaded event before call startAd method";if(e>=s.a.STARTING)throw"Ad already started, cannot call startAd twice"}}e.c=i,e.b=r,e.a=o;var a=n(8),s=n(26)},function(t,e,n){function i(){var t=!1;return d.a.tryCatch(function(){var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",f.noop,e)}).tapLeft(function(t){g.warn("Error when trying to detect passive event listener feature",t)}),t}function r(t,e){return e&&Object(u.includes)(m,t)}function o(t,e,n,o){p.b.fromNullable(e.addEventListener).filter(f.isFunction).match({some:function(a){var s=!(r(t,i())&&!o)||{passive:!0,capture:!0};a.call(e,t,n,s)},none:function(){return g.warn("Trying to call addEventListener on bad object",e)}})}function a(t,e,n){p.b.fromNullable(e.removeEventListener).filter(f.isFunction).match({some:function(i){d.a.tryCatch(function(){return i.call(e,t,n,!0)}).tapLeft(function(n){g.warn("Failed to remove listener for event "+t,e,n)})},none:function(){return g.warn("Trying to call removeEventListener on bad object",e)}})}function s(t,e,n){Object(l.b)(e,Object(f.safeProp)("document"),p.d.forEach(function(e){var i=function(){"interactive"!==e.readyState&&"complete"!==e.readyState||(a("readystatechange",e,i),t())};"interactive"===e.readyState||"complete"===e.readyState?t():o("readystatechange",e,i,n)}))}function c(t,e,n,i){"complete"===e.document.readyState?t.call(n):o("load",e,function(){t.call(n)},i)}e.e=r,e.a=o,e.d=a,e.c=s,e.b=c;var u=n(3),d=n(6),l=n(10),p=n(1),h=n(4),f=n(2),g=new h.a("Dom"),m=["scroll","touchstart","touchmove"]},function(t,e,n){n.d(e,"a",function(){return l});var i=n(0),r=n(3),o=n(9),a=n(1),s=n(4),c=n(2),u={addEventListener:o.addEventListener,removeEventListener:o.removeEventListener},d=function(){function t(t,e){void 0===t&&(t="EventListenerManager"),this.adRemoveListenerStrategy=e,this.listeners={},this.logger=new s.a(t)}return t.prototype.add=function(t,e,n){var i=this;c.isString(t)||this.logger.warn("First argument of EventListenerManager.add must be a string",t),this.logger.debug("Add listener to event",t),a.b.fromNullable(this.listeners[t]).orElse(function(){return a.b.fromNullable([])}).map(function(t){return t.concat([{context:e,callback:n}])}).forEach(function(e){i.listeners[t]=e}),this.addEventListener(t,e,n)},t.prototype.addMultiple=function(t,e,n){var i=this;c.isArray(t)||this.logger.warn("First argument of EventListenerManager.addMultiple must be an array of strings",t),r.forEach(t,function(t){return i.add(t,e,n)})},t.prototype.remove=function(t){var e=this;c.isString(t)||this.logger.warn("First argument of EventListenerManager.add must be a string",t),this.logger.debug("Remove listener from event",t),r.forEach(this.listeners[t],function(n){return e.removeEventListener(t,n.context,n.callback)}),this.listeners[t]=[]},t.prototype.removeMultiple=function(t){var e=this;c.isArray(t)||this.logger.warn("First argument of EventListenerManager.addMultiple must be an array of strings",t),r.forEach(t,function(t){return e.remove(t)})},t.prototype.removeAll=function(){var t=this,e=this;for(var n in this.listeners)!function(n){e.listeners.hasOwnProperty(n)&&r.forEach(e.listeners[n],function(e){return t.removeEventListener(n,e.context,e.callback)})}(n)},t.prototype.addEventListener=function(t,e,n){this.adRemoveListenerStrategy.addEventListener(t,e,n)},t.prototype.removeEventListener=function(t,e,n){this.adRemoveListenerStrategy.removeEventListener(t,e,n)},t}(),l=function(t){function e(e){return void 0===e&&(e=u),t.call(this,"DOMEventListenerManager",e)||this}return Object(i.c)(e,t),e}(d)},function(t,e,n){var i;!function(t){t[t.SWF=1]="SWF",t[t.JS=2]="JS",t[t.POSTMESSAGE=3]="POSTMESSAGE"}(i||(i={})),e.a=i},function(t,e,n){function i(t,e,n){t.style[e]=n,e=r(e),t.style["Moz"+e]=n,t.style["webkit"+e]=n,t.style["O"+e]=n,t.style["ms"+e]=n}function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(){return window.performance?window.performance.now():Date.now()}function a(t,e){for(var n=0,i=t.length;n<i;n++)t[n]=e}function s(t){return t<1?parseFloat(t.toString().substr(0,4)):Math.round(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.applyVendorProperties=i,e.capitalize=r,e.now=o,e.fillArray=a,e.formatBenchTime=s},function(t,e,n){function i(t,e){return Object(s.isObject)(t)?Object(u.b)(Object.keys(t),c.cArray.foldLeft({},function(n,i){var r;return e(i,t[i])?Object(o.a)(Object(o.a)({},n),(r={},r[i]=t[i],r)):n})):t}function r(t,e){return i(t,function(t,n){return e(n)})}n.d(e,"c",function(){return d}),e.b=i,e.a=r;var o=n(0),a=n(22),s=n(2),c=n(3),u=n(10),d=Object(a.a)(function(t,e){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])})},function(t,e,n){var i=n(5),r=n(1),o=n(55),a=n(18),s=new o.c("https://s8t.teads.tv/sumo/receiver/v1/http/ZaVnC4dhaV3tMuL-jxvu514sKTR1JLPJH0zZLzvxn3qMwWPdO_mBRbSGTyZgi2P4CqAJ4tfCX6IriPgecDkMFRxDm1GAGUben7xo9S92iY-h9z-o4eCwqg==",a.b.isSumologicLogsEnabled?20:0,a.b.isQA?"HEAD#ea5112087":"638",r.a,{getSamplingThreshold:o.d,sendLog:o.e,getFullContext:i.getFullContext,isHeaderBiddingTag:function(){return!1}});e.a=s},function(t,e,n){n.d(e,"m",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"l",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return p}),n.d(e,"e",function(){return h}),n.d(e,"b",function(){return f}),n.d(e,"f",function(){return g});var i={id:100,message:"callback success function throw an exception "},r={id:200,message:"You must specify the bundle asset you want to use with teads.vpaid.BundledContainer.(CANVAS|VIDEO)"},o={id:300,message:"Postmessage server iframe timeout"},a={id:301,message:"API is not ready, before use loadVpaid, you must init the API with the method initAPI"},s={id:302,message:"Timeout Error : Unable to load vpaid , server timeout"},c={id:400,message:"VPAIDJS getVPAIDAd throw an exception"},u={id:500,message:"Unable to load VPAID ad, file doesn't exists"},d={id:501,message:"Unable to load VPAID ad, timeout error"},l={id:600,message:"unable to load swf mediafile, Flash plugin is missing"},p={id:601,message:"flash throw an IOError when loading swf"},h={id:602,message:"flash throw SecurityError, possibly due to crossdomain policy configuration"},f={id:603,message:"flash throw an exception while wrapping the vpaid file"},g={id:604,message:"flash throw an error"}},function(t,e,n){n.d(e,"a",function(){return m}),n.d(e,"b",function(){return b});var i=n(0),r=n(5),o=n(42),a=n(7),s=n(24),c=n(1),u=n(2),d=n(15),l=n(17),p=n(98),h=n(99),f=n(100),g=n(101),m=m||{},b=function(t){function e(e,n,i,l){var m=t.call(this)||this;m.meta=n,m.player=l;var b=Object(a.findTopWindow)(document.body),v=b===window.top,y=(Object(r.isSafari)()||Object(r.isFacebookWebview)())&&s.a(Object(r.getIosVersion)(),"10");return m.sumologic=o.a.copy({collectorUrl:"https://s8t.teads.tv/sumo/receiver/v1/http/ZaVnC4dhaV2OstA92K8Xbj_kskBs5tjvp3fnz5Kd87xTE6v-AevmCgsG9SX_kqjlNgr2zKEpTQZWkuy61qzMee2njNfpDU2z7EIYjtXb-wRLLbHhGRVIOg==",placementId:c.b.fromNullable(m.player.parameters.pid).map(function(t){return parseInt(t,10)}).filter(u.isNumber)}),v&&m.meta.mp4&&("HTML5"===m.player.parameters.type||Object(r.isIpad)()&&s.a(Object(r.getIosVersion)(),"9.2")&&"CANVAS"!==m.player.parameters.type)?(m.api=new f.a(e,n,l,b),m.sumologic.info("canvas video mp4")):v&&m.meta.mp4&&"CANVAS"!==m.player.parameters.type&&(s.b(Object(r.getIosVersion)(),"9.1")&&s.d(Object(r.getIosVersion)(),"10")||y)?(m.api=new h.a(e,n,l,b),m.sumologic.info("canvas video mp4CT")):m.meta.tv?(m.api=new p.a(e,n,i,l),m.sumologic.info("canvas video tv")):(m.api=new g.a(e,n,i,l),m.sumologic.info("canvas video mpeg")),m.api.listen(d.a.CAN_PLAY,function(){return m.dispatch(d.a.CAN_PLAY)}),m.api.listen(d.a.LOADED,function(){return m.dispatch(d.a.LOADED)}),m.api.listen(d.a.STALLED,function(){return m.dispatch(d.a.STALLED)}),m.api.listen(d.a.RESUME_AFTER_STALLED,function(){return m.dispatch(d.a.RESUME_AFTER_STALLED)}),m.api.listen(d.a.TIME_UPDATE,function(){return m.dispatch(d.a.TIME_UPDATE)}),m.api.listen(d.a.ENDED,function(){return m.dispatch(d.a.ENDED)}),m.api.listen(d.a.BENCH_FPS,function(t){return m.dispatch(d.a.BENCH_FPS,t)}),m}return Object(i.c)(e,t),e.prototype.canplay=function(){return this.api.canplay()},e.prototype.play=function(){this.api.play()},e.prototype.pause=function(){this.api.pause()},e.prototype.getCurrentTime=function(){return this.api.getCurrentTime()},e.prototype.setCurrentTime=function(t){return this.api.setCurrentTime(t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this.api.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.api.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoFrames",{get:function(){return this.api.videoFrames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return this.api.averageDecodingTime},enumerable:!1,configurable:!0}),e.prototype.cleanStallTimeout=function(){this.api.cleanStallTimeout()},e}(l.a)},function(t,e,n){function i(t){o=t}function r(t){u=t}n.d(e,"b",function(){return o}),e.e=i,n.d(e,"h",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"c",function(){return u}),e.f=r,n.d(e,"d",function(){return d}),n.d(e,"a",function(){return l});var o=8e3,a=8e3,s=1e3,c=1e3,u=1e4,d=5e3,l=500},function(t,e,n){n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i,r=n(3),o=n(10);!function(t){t.Error="error",t.Click="click",t.Pause="pause",t.Resume="resume",t.Skip="skip",t.CreativeView="creativeView",t.Start="start",t.FirstQuartile="firstQuartile",t.Midpoint="midpoint",t.ThirdQuartile="thirdQuartile",t.Complete="complete",t.Impression="impression",t.Close="close",t.Progress="progress",t.Mute="mute",t.Unmute="unmute",t.Rewind="rewind",t.Fullscreen="fullscreen",t.ExitFullscreen="exitFullscreen",t.Expand="expand",t.Collapse="collapse",t.AcceptInvitationLinear="acceptInvitationLinear",t.AcceptInvitation="acceptInvitation",t.CloseLinear="closeLinear",t.NoAd="noAd",t.NoLinearAd="noLinearAd",t.CustomClicks="customClicks",t.Billable="billable",t.OtherAdInteraction="otherAdInteraction",t.ClickIcon="clickIcon"}(i||(i={}));var a=Object(o.b)(Object.keys(i),r.cArray.map(function(t){return i[t]}))},function(t,e,n){n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var i=n(1),r=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,o=function(t){return i.b.fromNullable(r.exec(t)).existsIf(function(t){return t.length>0})},a=function(t){return i.b.fromNullable(window.btoa).map(function(e){return e(t)}).getOrValue(t)},s=function(t){return i.b.fromNullable(window.atob).map(function(e){return e(t)}).getOrValue(t)}},function(t,e,n){n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n(14),r=n(6),o=function(t){return r.a.tryCatch(function(){return document.cookie}).map(function(e){return decodeURIComponent(e.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))})},a=function(t,e){return r.a.tryCatch(function(){return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; expires="+new Date(Object(i.a)()+31536e6).toUTCString()+"; path=/"})}},function(t,e,n){var i=n(3),r=n(8),o=n(29),a=function(){function t(){this.listeners={},this.listenersScope={}}return t.prototype.subscribe=function(t,e,n){this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this.listenersScope[e]=this.listenersScope[e]||[],this.listenersScope[e].push(n||null)},t.prototype.unsubscribe=function(t,e){if(this.listeners[e]){var n=Object(i.indexOf)(this.listeners[e],t);n>=0&&(this.listeners[e][n]=function(){})}},t.prototype.clearListeners=function(){this.listeners={},this.listenersScope={}},t.prototype.handleEvent=function(t,e){for(var n=this.listeners[t.type]||[],i=0,a=n.length;i<a;i++)try{var s=[];if(t.data)switch(t.type){case r.a.AdClickThru:s=[t.data.url,t.data.id,!!t.data.playerHandles];break;case r.a.AdLog:case r.a.AdError:case o.a.AdRemovedHeavyAdIntervention:case o.a.AdWarningHeavyAdIntervention:s="string"==typeof t.data?[t.data,null]:"object"==typeof t.data&&t.data.message?[t.data.message,t.data.id]:[String(t.data),null];break;case r.a.AdInteraction:s=[t.data.id];break;case o.a.AdVideoMetadata:s=[t.data]}n[i].apply(this.listenersScope[t.type][i],s)}catch(n){if(e)throw"failed to log error on callback: "+t.data;this.handleEvent({type:r.a.AdLog,data:"Callback #"+i+" on event "+t.type+" throws an exception: "+n},!0)}},t}();e.a=a},function(t,e,n){function i(t){return Object(d.isUndefined)(c)&&(c=t.document.createElement("div"),c.style.setProperty("position","fixed"),c.style.setProperty("height","100vh"),c.style.setProperty("width","0"),c.style.setProperty("top","0")),c}function r(t){l.b.fromNullable(c).match({some:function(e){return t.document.documentElement.appendChild(e)},none:function(){return p.warn("Could not insert ruler to DOM as it was not created yet")}})}function o(){l.b.fromNullable(c).match({some:function(t){return l.b.fromNullable(t.parentElement).forEach(function(e){return e.removeChild(t)})},none:function(){return p.warn("Could not remove ruler from DOM as it was not created yet")}})}function a(t){return l.b.fromNullable(c).match({some:function(t){return t.offsetHeight},none:function(){return p.warn("Could not get ruler height value as it was not created yet, fallback to innerHeight"),t.innerHeight}})}function s(t){return Math.max(a(t)-t.innerHeight,0)}e.a=i,e.d=r,e.e=o,e.c=a,e.b=s;var c,u=n(4),d=n(2),l=n(1),p=new u.a("IOSWindowHeight")},function(t,e,n){n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return g});var i=n(1),r=n(6),o=n(2),a=n(47),s=n(19),c=function(t){return a.b(s.b(t))},u=function(t){return i.b.fromNullable(t).filter(o.isObject).match({some:d,none:l(t)})},d=function(t){return o.isString(t.AdParameters)?p(t.AdParameters):Object(r.e)(t)},l=function(t){return function(){return i.b.fromNullable(t).filter(o.isString).match({some:p,none:function(){return Object(r.b)(new Error("adParameters is neither an object or string: "+t))}})}},p=function(t){return f(h(t,a.c,a.a,decodeURIComponent),s.a)},h=function(t,e,n,i){return e(t)?n(t):0===t.indexOf("%7B")?i(t):t},f=function(t,e){return r.a.tryCatch(function(){return e(t)}).orElse(function(){return Object(r.b)(new Error("Unable to JSON.parse adParameters string: "+t))})},g=function(t,e){return u(t).toOption().filter(function(t){return/teads-vpaid-display/.test(e)}).map(function(t){return!0===t.viewable}).getOrValue(!0)}},function(t,e,n){var i=n(6),r=n(1),o=n(2),a=n(4),s=n(3),c=n(21),u=new a.a("Promise"),d=function(){function t(t,e,n){this.onFulfilled=t,this.onRejected=e,this.promise=n,this.onFulfilled=Object(o.isFunction)(t)?t:null,this.onRejected=Object(o.isFunction)(e)?e:null}return t}(),l=function(t){return t instanceof p},p=function(){function t(t){this.state="isPending",this.handled=!1,this.value=void 0,this.deferreds=[],this.doResolve(t)}return t.all=function(e){return new t(function(t,n){var r=e.length,o=new Array(r),a=function(e,s){i.a.tryCatch(function(){if(l(s))return void s.then(function(t){a(e,t)},n);o[e]=s,0==--r&&t(o)}).tapLeft(function(t){return n(t)})};Object(s.forEach)(e,function(t,e){return a(e,t)})})},t.race=function(e){return new t(function(t){return t(e[0])})},t.resolve=function(e){return l(e)?e:new t(function(t){return t(e)})},t.reject=function(e){return new t(function(t,n){return window.setTimeout(function(){return n(e)})})},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var i=new t(o.noop);return this.handle(new d(e,n,i)),i},t.prototype.toString=function(){return"CustomPromise("+JSON.stringify({state:this.state,value:this.value},null,2)+")"},t.prototype.handle=function(t){for(var e=this;"isIntermediatePromise"===e.state;)e=e.value;"isPending"===e.state?e.deferreds.push(t):l(e.value)||(e.handled=!0,Object(c.d)(function(){var n="isFulfilled"===e.state?t.onFulfilled:t.onRejected;Object(o.isFunction)(n)?i.a.tryCatch(function(){var i="isFulfilled"===e.state?e.value:e.reason;t.promise.resolveHandler(n(i))}).tapLeft(function(e){return t.promise.rejectHandler(e)}):"isFulfilled"===e.state?t.promise.resolveHandler(e.value):t.promise.rejectHandler(e.reason)},0,c.a.Worker))},t.prototype.resolveHandler=function(t){var e=this;i.a.tryCatch(function(){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");l(t)?(e.state="isIntermediatePromise",e.value=t,e.finale()):(e.state="isFulfilled",e.value=t,e.finale())}).tapLeft(function(t){return e.rejectHandler(t)})},t.prototype.rejectHandler=function(t){this.state="isRejected",this.reason=t,this.finale()},t.prototype.finale=function(){"isRejected"===this.state&&0===this.deferreds.length&&(this.handled||u.warn("Possible Unhandled Promise Rejection:",this.reason));for(var t=0,e=this.deferreds.length;t<e;t++)this.handle(this.deferreds[t]);this.deferreds=[]},t.prototype.doResolve=function(t){var e=this,n=!1;i.a.tryCatch(function(){t(function(t){n||(n=!0,e.resolveHandler(t))},function(t){n||(n=!0,e.rejectHandler(t))})}).tapLeft(function(t){n||(n=!0,e.rejectHandler(t))})},t}(),h=r.b.fromNullable(window.Promise).filter(o.isNative).match({some:function(t){return u.debug("Using native Promise implementation",t),t},none:function(){return u.debug("Using custom Promise implementation"),p}});e.a=h},function(t,e,n){n.d(e,"a",function(){return o});var i=n(0),r=n(32),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.INCOMPLETE_OBJECT={id:1,message:"Ad configuration is missing settings or placement"},e.OPTION_CHECKVALUE_MISSING={id:2,message:"checkValue function is missing"},e.OPTION_THRESHOLD_MISSING={id:3,message:"Option threshold is required"},e.OPTION_PARENTWINDOW_INVALID={id:4,message:"Option parentWindow is required"},e.OPTION_VAST_INVALID={id:5,message:"Option vast has to contain type and content"},e.MULTIPLE_PAGE_PROCESS={id:6,message:"Cannot process more than 1 page"},e.OPTION_PID_INVALID={id:7,message:"Option Pid must be a positive number"},e.OPTION_FORMAT_INVALID={id:8,message:"Option Format must be a known string"},e.LOADING_MEDIAFILE={id:9,message:"Error when loading mediafile"},e.RAS_REQUEST={id:10,message:"RAS request error"},e.RAS_TIMEOUT={id:11,message:"RAS request timeout"},e.RAS_CUSTOM_TIMEOUT={id:12,message:"RAS request custom timeout"},e.RAS_RESPONSE={id:13,message:"RAS response error"},e.RAS_RESPONSE_ADS_NOT_ARRAY={id:14,message:"RAS response ads is not an array"},e.EVENT_CALLBACK={id:15,message:"Callback threw an error"},e.FILTER_FUNCTION={id:16,message:"The filter function threw an error"},e.OPTION_NAME_REQUIRED={id:17,message:"Name must be a valid string"},e}(r.a)},function(t,e,n){function i(t){return void 0===t&&(t=window),Object(u.isNative)(Math.random)?Math.random():s.b.fromNullable(t.crypto).filter(function(t){return Object(u.isNative)(t.getRandomValues)}).flatMap(function(t){return c.a.tryCatch(function(){return t.getRandomValues(new Uint32Array(1))[0]}).toOption()}).map(function(t){return t/(d-1)}).getOrValue(0)}function r(t){return Object(u.isObject)(t)&&Object(u.isFunction)(t.getRandomValues)&&Object(u.isNative)(t.getRandomValues)?Object(s.c)(t):s.a}function o(t,e){void 0===e&&(e=Math.random);for(var n=new Array(t),i=0,r=0;i<t;i++)0==(3&i)&&(r=4294967296*e()),n[i]=r>>>((3&i)<<3)&255;return n}function a(t,e,n){return void 0===e&&(e=window),void 0===n&&(n=function(){return o(t)}),r(e.crypto).orElse(function(){return r(e.msCrypto)}).flatMap(function(e){var n=new Uint8Array(t);return e.getRandomValues(n),void 0!==n[t-1]?Object(s.c)(n):s.a}).getOrElse(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomValue=i,e.getNativeCrypto=r,e.generateUuidWithRandom=o,e.getRandomBytes=a;var s=n(1),c=n(6),u=n(2),d=4294967296},function(t,e,n){function i(t,e){return t>0&&e<=1/t}function r(t,e){d.a.tryCatch(function(){(new Image).src=t+"?"+encodeURIComponent(e)}).tapLeft(function(n){f.warn("An error occurred while sending log message to Sumologic collector",t,e,n)})}function o(){return p}e.b=i,e.e=r,e.d=o,n.d(e,"a",function(){return A});var a=n(0),s=n(22),c=n(1),u=n(10),d=n(6),l=n(4),p=Math.random(),h="[context][businessIds][logLevel] message",f=new l.a("Sumologic"),g=Object(s.a)(function(t,e){var n=t.formatVersion,i=t.fullContext,r=t.bidType,o=t.headerBidding;return e.replace("context",n+"|"+i+"|"+r+"|"+(o?"hb":""))}),m=Object(s.a)(function(t,e,n,i){var r=function(t){return t.map(String).getOrValue("")};return i.replace("businessIds",r(t)+"|"+r(n)+"|"+r(e))}),b=Object(s.a)(function(t,e){return e.replace("logLevel",t)}),v=Object(s.a)(function(t,e){return e.replace("message",t)}),y=function(){function t(t,e,n,i,r){this.collectorUrl=t,this.samplingFactor=e,this.formatVersion=n,this.placementId=i,this.options=r}return t.prototype.log=function(t,e){void 0===e&&(e=this.samplingFactor),i(e,this.options.getSamplingThreshold())?this.options.sendLog(this.collectorUrl,t):f.debug("Did not send log to Sumologic collector (sampling too low, threshold: "+this.options.getSamplingThreshold().toFixed(2)+")",t)},t.prototype.metadata=function(t,e){void 0===e&&(e=this.samplingFactor),this.logBasedOnTemplate("metadata",t,e)},t.prototype.info=function(t,e){void 0===e&&(e=this.samplingFactor),this.logBasedOnTemplate("info",t,e)},t.prototype.warning=function(t,e){void 0===e&&(e=this.samplingFactor),this.logBasedOnTemplate("warning",t,e)},t.prototype.error=function(t,e){void 0===e&&(e=this.samplingFactor),this.logBasedOnTemplate("error",t,e)},t.prototype.generateLogFromTemplate=function(t,e,n){var i=e.fullContext,r=e.bidType,o=e.headerBidding;return Object(u.a)(g({fullContext:i,bidType:r,headerBidding:o,formatVersion:this.formatVersion}),m(this.placementId,c.a,c.a),b(t),v(n))(h)},t.prototype.logBasedOnTemplate=function(t,e,n){void 0===n&&(n=this.samplingFactor),this.log(this.generateLogFromTemplate(t,{fullContext:this.options.getFullContext(),bidType:"",headerBidding:this.options.isHeaderBiddingTag()},e),n)},t.prototype.copy=function(e){void 0===e&&(e={});var n=e.collectorUrl,i=void 0===n?this.collectorUrl:n,r=e.samplingFactor,o=void 0===r?this.samplingFactor:r,a=e.formatVersion,s=void 0===a?this.formatVersion:a,c=e.placementId,u=void 0===c?this.placementId:c,d=e.options;return new t(i,o,s,u,void 0===d?this.options:d)},t}();e.c=y;var A=function(t){function e(e,n,i,r){void 0===e&&(e="");var o=t.call(this,r.collectorUrl,r.samplingFactor,r.formatVersion,r.placementId,r.options)||this;return o.bidType=e,o.insertionId=n,o.connectionId=i,o}return Object(a.c)(e,t),e.prototype.generateLogFromTemplate=function(t,e,n){var i=e.fullContext,r=e.bidType,o=e.headerBidding;return Object(u.a)(g({fullContext:i,bidType:r,headerBidding:o,formatVersion:this.formatVersion}),m(this.placementId,this.insertionId,this.connectionId),b(t),v(n))(h)},e.prototype.logBasedOnTemplate=function(t,e,n){void 0===n&&(n=this.samplingFactor),this.log(this.generateLogFromTemplate(t,{fullContext:this.options.getFullContext(),bidType:this.bidType,headerBidding:this.options.isHeaderBiddingTag()},e),n)},e.prototype.copy=function(n){void 0===n&&(n={});var i=n.bidType,r=void 0===i?this.bidType:i,o=n.insertionId,s=void 0===o?this.insertionId:o,c=n.connectionId,u=void 0===c?this.connectionId:c,d=Object(a.f)(n,["bidType","insertionId","connectionId"]);return new e(r,s,u,t.prototype.copy.call(this,d))},e}(y)},function(t,e,n){n.d(e,"y",function(){return T}),n.d(e,"n",function(){return j}),n.d(e,"a",function(){return k}),n.d(e,"l",function(){return x}),n.d(e,"t",function(){return _}),n.d(e,"q",function(){return N}),n.d(e,"u",function(){return D}),n.d(e,"v",function(){return R}),n.d(e,"o",function(){return M}),n.d(e,"r",function(){return F}),n.d(e,"z",function(){return U}),n.d(e,"w",function(){return B}),n.d(e,"s",function(){return W}),n.d(e,"i",function(){return H}),n.d(e,"b",function(){return z}),n.d(e,"j",function(){return G}),n.d(e,"d",function(){return q}),n.d(e,"f",function(){return K}),n.d(e,"p",function(){return Y}),n.d(e,"h",function(){return X}),n.d(e,"e",function(){return Q}),n.d(e,"g",function(){return J}),n.d(e,"c",function(){return Z}),n.d(e,"m",function(){return $}),n.d(e,"x",function(){return tt}),n.d(e,"k",function(){return et});var i=n(0),r=n(3),o=n(5),a=n(14),s=n(130),c=n(203),u=n(1),d=n(10),l=(n(86),n(11)),p=n(16),h=n(2),f=n(80),g=n(18),m=n(35),b=n(67),v=n(85),y=n(46),A=n(73),w=n(63),O=n(62),E=n(6),C=function(t,e,n){var r=t.pageId,a=t.placementId,c=t.auctionId,u=t.sumologicLogger,d={baseUrl:g.b.trackingUrl,referer:k(u),queryParameters:{env:o.getEnv(),auctid:c.getOrValue(Object(s.b)("")),pageId:r.toString(),pid:a.toString()}};return Object(i.a)(Object(i.a)({},d),{queryParameters:Object(i.a)(Object(i.a)({},d.queryParameters),e)})},I=function(t,e,n){var r=t.pageId,a=t.placementId,u=t.auctionId,d=t.viewerId,l=t.hbProvider,p=t.sumologicLogger,h={baseUrl:g.b.trackingUrl,referer:k(p),queryParameters:{env:o.getEnv(),auctid:u.getOrValue(Object(s.b)("")),pageId:r.toString(),pid:a.toString(),hb_provider:l,vid:d.getOrValue(Object(c.b)(""))}};return Object(i.a)(Object(i.a)({},h),{queryParameters:Object(i.a)(Object(i.a)({},h.queryParameters),e)})},S=function(t){var e=t.sumologicLogger,n=t.wigo,i=t.logger,o=t.placementKey;return function(t,a,s){return Object(d.b)(s(t),Object(h.tap)(function(t){return Object(d.b)(O.b.format.getNewTrackedEvents(t),r.cArray.forEach(Object(d.a)(Object(h.tap)(function(e){return i.info("["+o+"]["+a+"] "+e,t[1])}),Object(h.tap)(L(e)),P(n))))}))}},T=function(t){var e=t.placementKey,n=t.sumologicLogger,o=t.wigo,a=t.logger,s=t.durationPlayed,c=t.totalDuration;return function(t,u){return Object(d.b)(u(t),function(t){var u=Object(i.e)(t,2),l=u[0],g=u[1],m=O.b.vast.getNewTrackedVastEvents(l),b=O.b.vast.getNewTrackedVastEvents(g);return Object(r.forEach)(O.b.vast.trackedEventsToEventsWithTrackingUrls(b),function(t){var e=t.event,i=t.trackingUrls;Object(r.forEach)(i,function(t){var i=E.a.tryCatch(function(){return Object(p.r)(t).hostname}).getOrValue("<invalid>");e===y.a.Billable?n.info("3p-billable-track "+e+" "+i,5):n.info("3p-vast-track "+e+" "+i,1e3)})}),Object(d.b)(Object(i.g)(m,b),O.b.vast.trackedEventsToEventsWithTrackingUrls,r.cArray.forEach(Object(d.a)(Object(h.tap)(function(t){var n=t.event,i=t.trackingUrls;return a.info("["+e+"][vast] "+n,i)}),Object(f.c)({wigo:o,durationPlayed:s,totalDuration:c}))))})}},j=function(t){var e=t.placementKey,n=t.sumologicLogger,o=t.wigo,a=t.logger,s=t.durationPlayed,c=t.totalDuration;return function(t,u){return Object(d.b)(u(),function(u){var l=Object(i.e)(u,2),p=l[0],g=l[1];n.error("vast-error "+t),Object(d.b)(Object(i.g)(O.b.vast.getNewTrackedVastEvents(p),O.b.vast.getNewTrackedVastEvents(g)),O.b.vast.trackedEventsToEventsWithTrackingUrls,r.cArray.forEach(Object(d.a)(Object(h.tap)(function(n){var i=n.event,r=n.trackingUrls;return a.info("["+e+"][vast] "+i+" "+t,r)}),Object(f.c)({wigo:o,durationPlayed:s,totalDuration:c}))))})}},k=Object(d.a)(p.f,u.d.flatMap(Object(d.a)(Object(h.prop)("windowReferrerUrl"),u.b.fromNullable)),u.d.getOrValue("")),P=function(t){return function(e){(Object(r.isMemberOf)([v.a.AdNotAvailableNetworkError,v.a.AdNotAvailableServerError,v.a.AdAvailableErrorParseTimeout,v.a.AdAvailableErrorSettings,v.a.AdAvailableErrorBadResponse,v.a.AdAvailableErrorSameAd,v.a.NoAdIvtDoubleVerify,v.a.NoAdIvtTag,v.a.NoAdBlockedSiteDoubleVerify,v.a.NoAdBlockedSiteTeads])(e)||Object(v.f)(e)||Object(v.g)(e))&&(t.valid(1,2,e,"error"),t.valid(1,1,e,"error"))}},L=function(t){return Object(d.a)(V,u.d.map(function(t){return m.f[t]}),u.d.forEach(function(e){return t.info(e,40)}))},V=function(t){return Object(d.b)(u.b.fromPredicate(t,Object(r.isMemberOf)([v.a.PlacementCall,v.a.SlotAvailable,v.a.AdReceived,v.a.AdAvailableSuccess,v.a.AdCall,v.a.ErrorBeforeAdReached,v.a.AdReached])),u.d.orElse(function(){return/^noSlot-/.test(t)?u.b.of("noSlot"):u.a}),u.d.orElse(function(){return/^incompatibility-/.test(t)?u.b.of("incompatibility"):u.a}),u.d.orElse(function(){return/^adNotAvailable-/.test(t)?u.b.of("adNotAvailable"):u.a}),u.d.orElse(function(){return/^adAvailable-error-/.test(t)?u.b.of("adAvailable-error"):u.a}),u.d.orElse(function(){return/^noAd-/.test(t)?u.b.of("noAd"):u.a}))},x=function(t){var e=t.placementKey,n=t.gdprStatus,i=t.gdprConsent;O.b.format.thirdParty(e)("comscore",{trackingUrl:Object(w.i)(u.b.fromNullable(m.a.V2[window.location.protocol]).getOrElse(function(){return m.a.V2["https:"]})),macros:[Object(b.i)("[impressionId]",Object(a.a)().toString()),Object(b.i)("[CACHEBUSTING]",Object(l.rand)(8))],gdprStatus:n,gdprConsent:i})},_=function(t){var e=t.pageId,n=t.placementId,i=t.placementKey,r=t.sumologicLogger,o=t.logger,a=t.wigo,s=t.auctionId;return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.PlacementCall,"classic",function(t){return O.b.format.classic.track(i)(t,C({pageId:e,placementId:n,auctionId:s,sumologicLogger:r},{}))})},N=function(t){var e=t.pageId,n=t.placementId,i=t.placementKey,r=t.sumologicLogger,o=t.logger,a=t.wigo,s=t.auctionId,c=t.viewerId,l=t.headerBiddingProvider;return Object(d.b)(l,u.d.fold(function(){return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.IncompatibilityFormat,"classic",function(t){return O.b.format.classic.track(i)(t,C({pageId:e,placementId:n,auctionId:s,sumologicLogger:r},{slot:"native"}))})},function(t){return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.IncompatibilityFormat,"header-bidding",function(o){return O.b.format.headerBidding.track(i)(o,I({pageId:e,placementId:n,auctionId:s,sumologicLogger:r,hbProvider:t,viewerId:c},{slot:"native",pfid:""}))})}))},D=function(t){var e=t.pageId,n=t.placementId,i=t.placementKey,r=t.sumologicLogger,o=t.logger,a=t.wigo,s=t.auctionId,c=t.viewerId,l=t.headerBiddingProvider;return Object(d.b)(l,u.d.fold(function(){return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.PlacementCapping,"classic",function(t){return O.b.format.classic.track(i)(t,C({pageId:e,placementId:n,auctionId:s,sumologicLogger:r},{slot:"native"}))})},function(t){return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.PlacementCapping,"header-bidding",function(o){return O.b.format.headerBidding.track(i)(o,I({pageId:e,placementId:n,auctionId:s,sumologicLogger:r,hbProvider:t,viewerId:c},{slot:"native",pfid:""}))})}))},R=function(t,e){var n=t.pageId,i=t.placementId,r=t.placementKey,o=t.sumologicLogger,a=t.logger,s=t.wigo,c=t.auctionId,l=t.viewerId,p=t.headerBiddingProvider;return Object(d.b)(p,u.d.fold(function(){return S({sumologicLogger:o,wigo:s,logger:a,placementKey:r})(e,"classic",function(t){return O.b.format.classic.track(r)(t,C({pageId:n,placementId:i,auctionId:c,sumologicLogger:o},{slot:"native"}))})},function(t){return S({sumologicLogger:o,wigo:s,logger:a,placementKey:r})(e,"header-bidding",function(e){return O.b.format.headerBidding.track(r)(e,I({pageId:n,placementId:i,auctionId:c,sumologicLogger:o,hbProvider:t,viewerId:l},{slot:"native",pfid:""}))})}))},M=function(t){var e=t.pageId,n=t.placementId,i=t.placementKey,r=t.sumologicLogger,o=t.logger,a=t.wigo,s=t.auctionId,c=t.viewerId,l=t.headerBiddingProvider;return Object(d.b)(l,u.d.fold(function(){return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.FallbackIntegration,"classic",function(t){return O.b.format.classic.track(i)(t,C({pageId:e,placementId:n,auctionId:s,sumologicLogger:r},{slot:"native"}))})},function(t){return S({sumologicLogger:r,wigo:a,logger:o,placementKey:i})(v.a.FallbackIntegration,"header-bidding",function(o){return O.b.format.headerBidding.track(i)(o,I({pageId:e,placementId:n,auctionId:s,sumologicLogger:r,hbProvider:t,viewerId:c},{slot:"native",pfid:""}))})}))},F=function(t){var e=t.placementKey,n=t.sumologicLogger,i=t.wigo,r=t.logger,o=t.headerBiddingProvider,a=t.viewerId,s=t.pageId,l=t.placementId,p=t.auctionId,h={sumologicLogger:n,wigo:i,logger:r,placementKey:e};Object(d.b)(o,u.d.fold(function(){return S(h)(v.a.LimitedCapabilities,"classic",function(t){return O.b.format.classic.track(h.placementKey)(t,C({pageId:s,placementId:l,auctionId:p,sumologicLogger:n},{vid:a.getOrValue(Object(c.b)(""))}))})},function(t){return S(h)(v.a.LimitedCapabilities,"header-bidding",function(e){return O.b.format.headerBidding.track(h.placementKey)(e,I({pageId:s,placementId:l,auctionId:p,sumologicLogger:n,hbProvider:t,viewerId:a},{pfid:""}))})}))},U=function(t){return function(e){var n=e.headerBiddingProvider,r=e.pageId,o=e.placementId,a=e.slotType,s=e.auctionId,l=e.viewerId,p=e.insertionId,h=e.connectionId,f=e.portfolioItemId,g=e.scenarioId,m=e.adSourceId,b=e.errorCause,y=e.creativeId,w=e.dspCampaignId,E=e.dspCreativeId,T=e.studioCreativeId,j={slot:a,gid:Object(A.a)(p),sid:Object(A.a)(h),pfid:Object(A.a)(f),scid:Object(A.a)(g),ad_source_id:Object(A.a)(m),error_cause:b,cid:y,dsp_campaign_id:null!==w&&void 0!==w?w:"",dsp_creative_id:null!==E&&void 0!==E?E:"",studio_cid:T.getOrValue("")};Object(d.b)(n,u.d.fold(function(){return S(t)(v.a.Warning,"classic",function(e){return O.b.format.classic.track(t.placementKey)(e,C({pageId:r,placementId:o,auctionId:s,sumologicLogger:t.sumologicLogger},Object(i.a)(Object(i.a)({},j),{vid:l.getOrValue(Object(c.b)(""))})))})},function(e){return S(t)(v.a.Warning,"header-bidding",function(n){return O.b.format.headerBidding.track(t.placementKey)(n,I({pageId:r,placementId:o,auctionId:s,sumologicLogger:t.sumologicLogger,hbProvider:e,viewerId:l},j))})}))}},B=function(t){var e=t.pageId,n=t.placementId,r=t.placementKey,o=t.sumologicLogger,a=t.logger,s=t.wigo,c=t.auctionId,l=t.viewerId,p=t.slotType,f=t.headerBiddingProvider,g=t.hbSlotAvailableUrl;return Object(d.b)(f,u.d.fold(function(){return S({sumologicLogger:o,wigo:s,logger:a,placementKey:r})(v.a.SlotAvailable,"classic",function(t){return O.b.format.classic.track(r)(t,C({pageId:e,placementId:n,auctionId:c,sumologicLogger:o},{slot:p}))})},function(t){var f=g.map(function(t){return Object(w.d)(t)}),m=I({pageId:e,placementId:n,auctionId:c,sumologicLogger:o,hbProvider:t,viewerId:l},Object(i.a)({slot:p,pfid:""},Object(d.b)(f,u.d.map(Object(h.prop)("queryParameters")),u.d.getOrValue({}))),v.a.HbSlotAvailable),b=Object(i.a)(Object(i.a)({},m),{baseUrl:Object(d.b)(f,u.d.map(Object(h.prop)("baseUrl")),u.d.getOrValue(m.baseUrl))});S({sumologicLogger:o,wigo:s,logger:a,placementKey:r})(v.a.HbSlotAvailable,"header-bidding",function(t){return O.b.format.headerBidding.track(r)(t,b)})}))},W=function(t,e){var n=t.pageId,i=t.placementId,r=t.placementKey,o=t.sumologicLogger,a=t.logger,s=t.wigo,c=t.auctionId,l=t.viewerId,p=t.headerBiddingProvider;return Object(d.b)(p,u.d.fold(function(){return S({sumologicLogger:o,wigo:s,logger:a,placementKey:r})(e,"classic",function(t){return O.b.format.classic.track(r)(t,C({pageId:n,placementId:i,auctionId:c,sumologicLogger:o},{}))})},function(t){return S({sumologicLogger:o,wigo:s,logger:a,placementKey:r})(e,"header-bidding",function(e){return O.b.format.headerBidding.track(r)(e===v.a.NoSlotSelector?v.a.HbNoSlotSelector:e,I({pageId:n,placementId:i,auctionId:c,sumologicLogger:o,hbProvider:t,viewerId:l},{pfid:""}))})}))},H=function(t){return function(e){var n=e.placementKey,i=e.sumologicLogger,r=e.wigo,o=e.logger,a=e.queryParameters;return S({sumologicLogger:i,wigo:r,logger:o,placementKey:n})(t,"classic",function(t){return O.b.format.classic.track(n)(t,{baseUrl:g.b.trackingUrl,referer:k(i),queryParameters:a})})}},z=function(t){var e=t.placementKey,n=t.sumologicLogger,i=t.wigo,r=t.logger,o=t.queryParameters;return S({sumologicLogger:n,wigo:i,logger:r,placementKey:e})(v.a.AdAvailableErrorBadResponse,"classic",function(t){return O.b.format.classic.track(e)(t,{baseUrl:g.b.trackingUrl,referer:k(n),queryParameters:o})})},G=function(t){var e=t.placement,n=e.key,i=e.pageId,r=e.pid,o=e.slotType,a=e.wigo,s=t.sumologicLogger,l=t.logger,p=t.auctionId,h=t.viewerId,f=t.headerBiddingProvider,g=t.portfolioItemId,m={sumologicLogger:s,wigo:a,logger:l,placementKey:n},b=Object(A.b)(g);Object(d.b)(f,u.d.fold(function(){return S(m)(v.a.AdReceived,"classic",function(t){return O.b.format.classic.track(n)(t,C({pageId:i,placementId:r,auctionId:p,sumologicLogger:s},{slot:o,vid:h.getOrValue(Object(c.b)("")),pfid:b}))})},function(t){return S(m)(v.a.AdReceived,"header-bidding",function(e){return O.b.format.headerBidding.track(n)(e,I({pageId:i,placementId:r,auctionId:p,sumologicLogger:s,hbProvider:t,viewerId:h},{slot:o,pfid:b}))})}))},q=function(t){var e=t.placement,n=e.key,i=e.pageId,r=e.pid,o=e.slotType,a=e.wigo,s=t.sumologicLogger,l=t.logger,p=t.auctionId,h=t.viewerId,f=t.headerBiddingProvider,g=t.portfolioItemId,m=t.insertionId,b=t.connectionId,y={sumologicLogger:s,wigo:a,logger:l,placementKey:n},w=Object(A.b)(g),E=Object(A.b)(m),T=Object(A.b)(b);Object(d.b)(f,u.d.fold(function(){return S(y)(v.a.AdAvailableErrorSettings,"classic",function(t){return O.b.format.classic.track(n)(t,C({pageId:i,placementId:r,auctionId:p,sumologicLogger:s},{slot:o,vid:h.getOrValue(Object(c.b)("")),pfid:w,gid:E,sid:T}))})},function(t){return S(y)(v.a.AdAvailableErrorSettings,"header-bidding",function(e){return O.b.format.headerBidding.track(n)(e,I({pageId:i,placementId:r,auctionId:p,sumologicLogger:s,hbProvider:t,viewerId:h},{slot:o,pfid:w,gid:E,sid:T}))})}))},K=function(t){var e=t.placementKey,n=t.sumologicLogger,i=t.wigo,r=t.logger,o=t.headerBiddingProvider,a=t.pageId,s=t.placementId,l=t.slotType,p=t.auctionId,h=t.viewerId,f=t.insertionId,g=t.connectionId,m=t.portfolioItemId,b={sumologicLogger:n,wigo:i,logger:r,placementKey:e},y="0"===f?"":f;Object(d.b)(o,u.d.fold(function(){return S(b)(v.a.AdAvailableErrorParseTimeout,"classic",function(t){return O.b.format.classic.track(b.placementKey)(t,C({pageId:a,placementId:s,auctionId:p,sumologicLogger:n},{slot:l,vid:h.getOrValue(Object(c.b)("")),gid:y,sid:g,pfid:m}))})},function(t){return S(b)(v.a.AdAvailableErrorParseTimeout,"header-bidding",function(e){return O.b.format.headerBidding.track(b.placementKey)(e,I({pageId:a,placementId:s,auctionId:p,sumologicLogger:n,hbProvider:t,viewerId:h},{slot:l,pfid:m,gid:y,sid:g}))})}))},Y=function(t){var e=t.placementKey,n=t.sumologicLogger,i=t.wigo,r=t.logger,o=t.headerBiddingProvider,a=t.pageId,s=t.placementId,l=t.slotType,p=t.portfolioItemId,h=t.auctionId,f=t.viewerId;Object(d.b)(o,u.d.fold(function(){return S({sumologicLogger:n,wigo:i,logger:r,placementKey:e})(v.a.FallbackNoAd,"classic",function(t){return O.b.format.classic.track(e)(t,C({pageId:a,placementId:s,auctionId:h,sumologicLogger:n},{slot:l,vid:f.getOrValue(Object(c.b)("")),pfid:Object(A.b)(p)}))})},function(t){return S({sumologicLogger:n,wigo:i,logger:r,placementKey:e})(v.a.FallbackNoAd,"header-bidding",function(i){return O.b.format.headerBidding.track(e)(i,I({pageId:a,placementId:s,auctionId:h,sumologicLogger:n,hbProvider:t,viewerId:f},{slot:l,pfid:Object(A.b)(p)}))})}))},X=function(t){var e=t.placementKey,n=t.sumologicLogger,r=t.wigo,o=t.logger,a=t.headerBiddingProvider,s=t.baseUrlWithQueryParameters,c={sumologicLogger:n,wigo:r,logger:o,placementKey:e},l=Object(i.a)(Object(i.a)({},s),{referer:k(c.sumologicLogger)});Object(d.b)(a,u.d.fold(function(){return S(c)(v.a.AdCall,"classic",function(t){return O.b.format.classic.track(c.placementKey)(t,l)})},function(t){return S(c)(v.a.AdCall,"header-bidding",function(e){return O.b.format.headerBidding.track(c.placementKey)(e,Object(i.a)(Object(i.a)({},l),{queryParameters:Object(i.a)(Object(i.a)({},l.queryParameters),{hb_provider:t})}))})}))},Q=function(t){var e=t.placementKey,n=t.sumologicLogger,i=t.wigo,r=t.logger,o=t.headerBiddingProvider,a=t.code,s=t.pageId,l=t.placementId,p=t.slotType,h=t.auctionId,f=t.viewerId,g=t.insertionId,m=t.connectionId,b=t.portfolioItemId,y={sumologicLogger:n,wigo:i,logger:r,placementKey:e},A="0"===g?"":g;Object(d.b)(o,u.d.fold(function(){return S(y)(v.a.AdAvailableErrorVast,"classic",function(t){return O.b.format.classic.trackError(y.placementKey)(a,C({pageId:s,placementId:l,auctionId:h,sumologicLogger:n},{slot:p,vid:f.getOrValue(Object(c.b)("")),gid:A,sid:m,pfid:b}))})},function(t){return S(y)(v.a.AdAvailableErrorVast,"header-bidding",function(e){return O.b.format.headerBidding.trackError(y.placementKey)(a,I({pageId:s,placementId:l,auctionId:h,sumologicLogger:n,hbProvider:t,viewerId:f},{slot:p,pfid:b,gid:A,sid:m}))})}))},J=function(t){var e=t.sumologicLogger,n=t.logger,i=t.wigo,r=t.placementKey;return function(t){var o=t.pageId,a=t.placementId,s=t.auctionId,l=t.viewerId,p=t.portfolioItemId,h=t.slotType,f=t.insertionId,g=t.connectionId,m=t.headerBiddingProvider,b=Object(A.b)(p),y=Object(A.b)(f),w=Object(A.b)(g);Object(d.b)(m,u.d.fold(function(){return S({sumologicLogger:e,wigo:i,logger:n,placementKey:r})(v.a.AdAvailableSuccess,"classic",function(t){return O.b.format.classic.track(r)(t,C({pageId:o,placementId:a,auctionId:s,sumologicLogger:e},{slot:h,vid:l.getOrValue(Object(c.b)("")),pfid:b,gid:y,sid:w}))})},function(t){return S({sumologicLogger:e,wigo:i,logger:n,placementKey:r})(v.a.AdAvailableSuccess,"header-bidding",function(n){return O.b.format.headerBidding.track(r)(n,I({pageId:o,placementId:a,auctionId:s,sumologicLogger:e,hbProvider:t,viewerId:l},{slot:h,pfid:b,gid:y,sid:w}))})}))}},Z=function(t){var e=t.sumologicLogger,n=t.logger,i=t.wigo,r=t.placementKey;return function(t){var o=t.pageId,a=t.placementId,s=t.auctionId,l=t.viewerId,p=t.portfolioItemId,h=t.slotType,f=t.insertionId,g=t.connectionId,m=t.headerBiddingProvider,b=Object(A.b)(p),y=Object(A.b)(f),w=Object(A.b)(g);Object(d.b)(m,u.d.fold(function(){return S({sumologicLogger:e,wigo:i,logger:n,placementKey:r})(v.a.AdAvailableErrorSameAd,"classic",function(t){return O.b.format.classic.track(r)(t,C({pageId:o,placementId:a,auctionId:s,sumologicLogger:e},{slot:h,vid:l.getOrValue(Object(c.b)("")),pfid:b,gid:y,sid:w}))})},function(t){n.warn("Could not track adAvailable-error-sameAd, it should not be possible on Header-Bidding context",t),e.error("hb-samead "+t)}))}},$=function(t){return function(e){var n=e.headerBiddingProvider,i=e.pageId,r=e.placementId,o=e.slotType,a=e.auctionId,s=e.viewerId,l=e.insertionId,p=e.connectionId,h=e.portfolioItemId,f=s.getOrValue(Object(c.b)("")),g=Object(A.a)(h),m=Object(A.a)(l),b=Object(A.a)(p);Object(d.b)(n,u.d.fold(function(){return S(t)(v.a.EarlyClick,"classic",function(e){return O.b.format.classic.track(t.placementKey)(e,C({auctionId:a,sumologicLogger:t.sumologicLogger,pageId:i,placementId:r},{slot:o,vid:f,pfid:g,gid:m,sid:b},v.a.EarlyClick))})},function(e){return S(t)(v.a.EarlyClick,"header-bidding",function(n){return O.b.format.headerBidding.track(t.placementKey)(n,I({pageId:i,placementId:r,auctionId:a,sumologicLogger:t.sumologicLogger,hbProvider:e,viewerId:s},{slot:o,pfid:g,gid:m,sid:b}))})}))}},tt=function(t){return function(e){var n=e.headerBiddingProvider,i=e.pageId,r=e.placementId,o=e.slotType,a=e.auctionId,s=e.viewerId,l=e.insertionId,p=e.connectionId,h=e.portfolioItemId,f=e.notVisibleReason,g=Object(v.e)(f),m=s.getOrValue(Object(c.b)("")),b=Object(A.a)(h),y=Object(A.a)(l),w=Object(A.a)(p);Object(d.b)(n,u.d.fold(function(){return S(t)(g,"classic",function(e){return O.b.format.classic.track(t.placementKey)(e,C({pageId:i,placementId:r,auctionId:a,sumologicLogger:t.sumologicLogger},{slot:o,vid:m,pfid:b,gid:y,sid:w}))})},function(e){return S(t)(g,"header-bidding",function(n){return O.b.format.headerBidding.track(t.placementKey)(n,I({pageId:i,placementId:r,auctionId:a,sumologicLogger:t.sumologicLogger,hbProvider:e,viewerId:s},{slot:o,pfid:b,gid:y,sid:w}))})}))}},et=function(t){return function(e){var n=e.headerBiddingProvider,i=e.pageId,r=e.placementId,o=e.slotType,a=e.auctionId,s=e.viewerId,l=e.insertionId,p=e.connectionId,h=e.portfolioItemId,f=s.getOrValue(Object(c.b)("")),g=Object(A.a)(h),m=Object(A.a)(l),b=Object(A.a)(p);Object(d.b)(n,u.d.fold(function(){return S(t)(v.a.ClickReplay,"classic",function(e){return O.b.format.classic.track(t.placementKey)(e,C({pageId:i,placementId:r,auctionId:a,sumologicLogger:t.sumologicLogger},{slot:o,vid:f,pfid:g,gid:m,sid:b}))})},function(e){return S(t)(v.a.ClickReplay,"header-bidding",function(n){return O.b.format.headerBidding.track(t.placementKey)(n,I({pageId:i,placementId:r,auctionId:a,sumologicLogger:t.sumologicLogger,hbProvider:e,viewerId:s},{slot:o,pfid:g,gid:m,sid:b}))})}))}}},function(t,e,n){n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return g});var i=n(5),r="model",o="name",a="type",s="vendor",c="version",u="mobile",d="tablet",l="desktop",p={extend:function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(){for(var t,e,n,r,o,a,s,c=0,u=arguments;c<u.length&&!a;){var d=u[c],l=u[c+1];if(void 0===t){t={};for(r in l)o=l[r],"object"==typeof o?t[o[0]]=void 0:t[o]=void 0}for(e=n=0;e<d.length&&!a;)if(a=d[e++].exec(Object(i.getUA)()))for(r=0;r<l.length;r++)s=a[++n],o=l[r],"object"==typeof o&&o.length>0?2===o.length?"function"==typeof o[1]?t[o[0]]=o[1].call(this,s):t[o[0]]=o[1]:3===o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?t[o[0]]=s?s.replace(o[1],o[2]):void 0:t[o[0]]=s?o[1].call(this,s,o[2]):void 0:4===o.length&&(t[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):t[o]=s||void 0;c+=2}return t},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(p.has(e[n][i],t))return"?"===n?void 0:n}else if(p.has(e[n],t))return"?"===n?void 0:n;return t}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,c],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[o,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[o,c],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[o,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],c],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[c,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[o,c],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],c],[/;fbav\/([\w\.]+);/i],[c,[o,"Facebook"]],[/fxios\/([\w\.-]+)/i],[c,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[c,h.str,f.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,c]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,s,[a,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[s,"Apple"],[a,d]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[s,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[s,r,[a,d]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[r,[s,"Amazon"],[a,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[r,h.str,f.device.amazon.model],[s,"Amazon"],[a,u]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,s,[a,u]],[/\((ip[honed|\s\w*]+);/i],[r,[s,"Apple"],[a,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[s,r,[a,u]],[/\(bb10;\s(\w+)/i],[r,[s,"BlackBerry"],[a,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[s,"Asus"],[a,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[s,"Sony"],[r,"Xperia Tablet"],[a,d]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[s,"Sony"],[r,"Xperia Phone"],[a,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[s,r,[a,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[s,"Nvidia"],[a,"console"]],[/(playstation\s[3portablevi]+)/i],[r,[s,"Sony"],[a,"console"]],[/(sprint\s(\w+))/i],[[s,h.str,f.device.sprint.vendor],[r,h.str,f.device.sprint.model],[a,u]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[s,r,[a,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[s,[r,/_/g," "],[a,u]],[/(nexus\s9)/i],[r,[s,"HTC"],[a,d]],[/(nexus\s6p)/i],[r,[s,"Huawei"],[a,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[s,r,[a,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[s,"Microsoft"],[a,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[s,"Microsoft"],[a,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[s,"Motorola"],[a,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[s,"Motorola"],[a,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s,p.trim],[r,p.trim],[a,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[s,"Samsung"],[a,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[s,"Sharp"],[a,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[s,"Samsung"],r,[a,d]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[s,"Samsung"],r,[a,u]],[/smart-tv.+(samsung)/i],[s,r,[a,"smarttv"]],[/sie-(\w+)*/i],[r,[s,"Siemens"],[a,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[s,"Nokia"],r,[a,u]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[s,"Acer"],[a,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[s,"LG"],r,[a,d]],[/(lg) netcast\.tv/i],[s,r,[a,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[r,[s,"LG"],[a,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[s,"Lenovo"],[a,d]],[/linux;.+((jolla));/i],[s,r,[a,u]],[/((pebble))app\/[\d\.]+\s/i],[s,r,[a,"wearable"]],[/android.+;\s(glass)\s\d/i],[r,[s,"Google"],[a,"wearable"]],[/android.+;\s(pixel c)\s/i],[r,[s,"Google"],[a,d]],[/android.+;\s(pixel xl|pixel)\s/i],[r,[s,"Google"],[a,u]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[r,/_/g," "],[s,"Xiaomi"],[a,u]],[/android.+a000(1)\s+build/i],[r,[s,"OnePlus"],[a,u]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,p.lowerize],s,r]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[c,h.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[c,h.str,f.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],c],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,c],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[o,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,c]]}},function(t,e,n){function i(t,e){var n={apiVersion:"1.9.1",propsCache:"",divStyle:null,ns:{svg:"http://www.w3.org/2000/svg"},cssPrfxs:["Webkit","Moz","O","ms","Khtml"],fncPrfxs:["webkit","moz","o","ms","khtml"],getPropertiesAsString:function(){return this.propsCache}},i={},r={"js.webGlRenderer":function(){if(!t.CanvasRenderingContext2D)return null;var n=e.createElement("canvas");if(!(n=n.getContext("webgl")||n.getContext("experimental-webgl")))return null;var i=n.getExtension("WEBGL_debug_renderer_info");return i&&(n=n.getParameter(i.UNMASKED_RENDERER_WEBGL))?n:null},deviceAspectRatio:function(){var e="2/3 40/71 3/4 16/9 16/10 375/667 9/16 10/16 375/812 207/448".split(" ");t:{try{var n=t.screen.width+"/"+t.screen.height;break t}catch(t){}n=""}return n&&e.push(n),o("device-aspect-ratio",e)},screenWidthHeight:function(){try{return t.screen.width+"/"+t.screen.height}catch(t){}return!1},devicePixelRatio:function(){var e=1;try{e=t.devicePixelRatio}catch(t){}return e+""},"js.deviceOrientation":function(){return"js.deviceOrientation"in i&&i["js.deviceOrientation"]},rendererRef:function(){if(!t.CanvasRenderingContext2D)return null;var n=e.createElement("canvas"),i=n.getContext("2d");return i.textBaseline="top",i.font="16px 'Arial'",i.textBaseline="alphabetic",i.rotate(.05),i.fillStyle="#f60",i.fillRect(125,1,62,20),i.fillStyle="#069",i.fillText("DeviceAtlas",2,15),i.fillStyle="rgba(102, 200, 0, 0.7)",i.fillText("DeviceAtlas",4,17),i.shadowBlur=10,i.shadowColor="blue",i.rotate(-.15),i.fillRect(-20,25,234,5),("p3"===o("color-gamut",["p3"])?"1":"0")+a(n.toDataURL())}},o=function(e,n){if(void 0===t.matchMedia)return null;for(var i in n)if(t.matchMedia("("+e+":"+n[i]+")").matches)return n[i]+"";return null},a=function(t){for(var e=t.length,n=5381,i=0;i<e;i++)n=33*n^t.charCodeAt(i);return String(n>>>0)},s=function(t){try{var e=r[t]()}catch(t){}(null!=e&&void 0!==e||null!=(e=i[t])&&void 0!==e)&&c(t,e)},c=function(t,e){if(-1!=t.indexOf(".")){var r=t.split(".");void 0===n[r[0]]&&(n[r[0]]={}),n[r[0]][r[1]]=e}else n[t]=e;i[t]=e};return function(){if(t.addEventListener&&t.removeEventListener){var e=function(n){null!=n&&null!=n.alpha&&c("js.deviceOrientation",!0),t.removeEventListener("deviceorientation",e,!1)};t.addEventListener("deviceorientation",e,!1)}}(),function(){for(var t in r)s(t)}(),n.propsCache=function(t){var e,i="";for(e in t){var r=t[e];r="boolean"==typeof r?"b":"number"==typeof r?"i":"s",i+=r+e+":"+("b"==r?t[e]+0:t[e])+"|"}return i+"sversion:"+n.apiVersion+"|bE:0"}(i),n}e.a=i},function(t,e,n){function i(t,e){return Math.round((t+e)/2)}function r(t,e,n,i,r){return t?Math.round(e+Math.max(w,n+w)):Math.round(Math.min(r-w,i-w)-e)}function o(t,e,n){return Math.round(t+(n?e-w:w-e))}function a(t,e){return t/100*e}function s(t,e,n){return(t+e)/2>n/2}function c(t,e,n){var i=e.top,r=e.bottom,o=n.top,a=n.bottom;return t?r-o:a-i}function u(t,e,n){return b.includes(t,n)&&b.includes(e,n)}function d(t,e){var n=t.windowHeight,l=t.viewabilityThreshold,m=t.offset,b=void 0===m?0:m,y=t.withClearCache,A=void 0===y||y,w=t.getClientRect,E=t.getElementFromPoint,C=t.findParentElements,I=t.findFirstParentFrameNode,S=w(e),T=s(S.top,S.bottom,n),j=a(l,S.height),k=i(S.left,S.right),P=r(T,b,S.top,S.bottom,n),L=o(P,j,T),V=p(T,b,k,P,L);return A&&f(),O.get(V).getOrElse(function(){return E(k,P).match({none:function(){return h(V,Object(v.c)("hidden-overflow"))},some:function(n){var i=c(T,w(n),S);return b===i?h(V,Object(v.c)("hidden-overflow")):E(k,L).match({none:function(){return h(V,d(Object(g.a)(Object(g.a)({},t),{offset:i}),e))},some:function(r){var o=u(Object(g.g)([n],C(n)),Object(g.g)([r],C(r)),I(e));return h(V,o?v.a.of(e):d(Object(g.a)(Object(g.a)({},t),{offset:i}),e))}})}})})}function l(){O.clear()}function p(t,e,n,i,r){return t+"-"+e+"-"+n+"-"+i+"-"+r}function h(t,e){return O.contains(t)||O.put(t,e),e}function f(){E||(E=!0,Object(y.d)(function(){l(),E=!1},A))}e.a=d;var g=n(0),m=n(60),b=n(3),v=n(6),y=n(21),A=1e3,w=1,O=new m.a,E=!1},function(t,e,n){n.d(e,"a",function(){return a});var i=n(3),r=n(1),o=n(2),a=function(){function t(t){var e=this;this.length=0,this.keys=[],this.values=[],Object(o.isUndefined)(t)||Object(i.forEach)(t,function(t){return e.put(t[0],t[1])})}return t.prototype.contains=function(t){return Object(i.indexOf)(this.keys,t)>-1},t.prototype.get=function(t){var e=Object(i.indexOf)(this.keys,t);return e>-1?Object(r.c)(this.values[e]):r.a},t.prototype.put=function(t,e){var n=Object(i.indexOf)(this.keys,t);if(n>-1){var o=this.values[n];return this.values[n]=e,Object(r.c)(o)}return this.keys.push(t),this.values.push(e),this.length=this.values.length,r.a},t.prototype.remove=function(t){var e=Object(i.indexOf)(this.keys,t);if(e>-1){var n=this.values[e];return this.keys.splice(e,1),this.values.splice(e,1),this.length=this.values.length,Object(r.c)(n)}return r.a},t.prototype.clear=function(){this.keys.splice(0,this.length),this.values.splice(0,this.length),this.length=0},t.prototype.size=function(){return this.length},t}()},function(t,e,n){n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=",r=16/9},function(t,e,n){var i=n(289),r=n(292),o=n(294),a=n(127);n.d(e,"a",function(){return a.a}),e.b={format:{getNewTrackedEvents:r.b,getNewTrackedEventsWithDebug:r.c,addFormatCustomTrackings:r.a,classic:{track:r.d,trackWithDebug:r.e,trackError:r.f,trackErrorWithDebug:r.g},headerBidding:{track:r.j,trackWithDebug:r.k,trackError:r.h,trackErrorWithDebug:r.i},thirdParty:r.l},vast:{getNewTrackedVastEvents:o.c,getNewTrackedVastEventsWithDebug:o.d,addVastCustomTrackings:o.b,addVastCustomProgressTrackings:o.a,registerVastTrackings:o.e,trackedEventsToEventsWithTrackingUrls:o.p,setStudioCreativeId:o.g,resetTrackedEvents:o.f,track:o.n,trackWithDebug:o.o,trackProgress:o.l,trackProgressWithDebug:o.m,trackError:o.h,trackErrorWithDebug:o.k,trackErrorWithCause:o.i,trackErrorWithCauseWithDebug:o.j},debug:{track:i.a}}},function(t,e,n){function i(t,e){var n=t.baseUrl,i=t.queryParameters;return void 0===e&&(e=w),Object(c.a)(A,function(t){return a.b(i,function(e){return Object(o.includes)(t,e)})},e,O,function(t){return n+"?"+Object(o.map)(t,function(t){return t+"="+encodeURIComponent(i[t])}).join("&")})(i)}n.d(e,"h",function(){return d}),n.d(e,"j",function(){return l}),n.d(e,"f",function(){return p}),n.d(e,"i",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"g",function(){return g}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return b}),n.d(e,"d",function(){return v}),e.e=i;var r=n(0),o=n(3),a=n(41),s=n(1),c=n(10),u=n(16),d=function(t){return t},l=function(t){return t},p=function(t){return t},h=function(t){return t},f=function(t){return t},g=function(t,e){void 0===e&&(e=s.a);var n=v(f(t));return i(Object(r.a)(Object(r.a)({},n),{queryParameters:Object(r.a)(Object(r.a)(Object(r.a)({},n.queryParameters),{action:"debug-"+n.queryParameters.action}),e.map(function(t){return{debug_metadata:encodeURIComponent(t)}}).getOrValue({}))}))},m=function(t,e){return{baseUrl:t,queryParameters:Object(r.a)(Object(r.a)({},e),{f:"1"})}},b=function(t,e){return void 0===e&&(e=s.a),i(Object(r.a)(Object(r.a)({},t),{queryParameters:Object(r.a)(Object(r.a)(Object(r.a)({},t.queryParameters),{action:"debug-"+t.queryParameters.action,f:"1"}),e.map(function(t){return{debug_metadata:t}}).getOrValue({}))}))},v=function(t){var e=u.r(t),n=Object(c.b)(e.search.substring(1).split("&"),o.cArray.map(function(t){return t.split("=")}),function(t){return Object(o.reduce)(t,function(t,e){var n,i=Object(r.e)(e,2),o=i[0],a=i[1];return Object(r.a)(Object(r.a)({},t),(n={},n[o]=decodeURIComponent(a),n))},{})});return{baseUrl:e.protocol+"//"+e.host+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname),queryParameters:n}},y=["gdpr_api_version","gdpr_cmp_id","gdpr_consent"],A=function(t){return Object(o.filter)(Object.keys(t),function(e){return""!==t[e]||Object(o.isMemberOf)(y)(e)})},w=function(t){return Object.keys(t)},O=function(t){return t.sort(function(t,e){return"action"===e?1:"action"===t?-1:"referer"===e?-1:0})}},function(t,e,n){n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return c});var i=/^(19503|19593|19742|20405|20406|20993|21076|21077|21918|22041|22268|22313|22560|23278|23388|23861|23862|24283|24642|24666|24857|24858|24991|24992|24993|24997|24998|24999|25000|25001|25058|25088|25129|25897|26007|26071|26072|26073|26074|26075|26076|26077|26078|26079|26248|26318|26403|26512|26547|26631|26632|26942|27348|27593|27696|28019|28222|28320|28321|28361|28419|28588|28589|28626|28627|28647|28687|28854|29017|29018|29019|29020|29399|29401|29402|29404|29715|29757|29758|29929|29930|29931|30964|30967|31752|31753|31760|31761|31762|31777|31778|31779|32105|32106|32107|32281|32282|32283|32284|32329|32330|32557|32601|32674|32675|32676|32677|33032|33033|33110|33366|33508|33521|33522|33523|33524|33525|33526|33538|33703|33704|33705|33706|33707|33708|33870|33896|33897|33898|33899|34364|34441|34574|34575|34709|34710|34711|34712|34713|34714|34804|34805|34806|34807|34894|34895|35173|35326|35327|35365|35636|35637|35982|35983|35985|35986|36125|36136|36184|36185|36186|36187|36188|36189|36190|36191|36192|36461|36462|36463|36464|36465|36466|36467|36468|36469|36470|36471|36472|36473|36476|36477|36478|36479|36480|36481|36482|36483|36484|36742|36743|36744|36745|36746|37071|37072|37073|37280|37950|37951|38197|38198|38199|38388|38762|38763|38764|38765|38766|39893|39969|40075|41033|41034|41035|41036|41043|41044|41045|41303|41493|41494|41910|41911|41912|41913|41914|41915|42084|42270|42271|42272|42273|42274|42275|42510|42511|42512|42513|42710|42711|42780|42781|42838|42839|42931|43102|43103|43104|43105|43106|43107|43112|43113|43356|43654|43658|43763|43765|43862|43863|43993|43994|43995|44005|44006|44322|44323|44404|44405|44588|45253|45254|45255|45256|45257|45258|45259|45260|45261|45262|45263|45264|45265|45266|45267|45268|45269|45270|45271|45272|45273|45274|45275|45277|45278|45279|45280|45281|45282|45283|45284|45285|45286|45287|45288|45289|45290|45291|45292|45293|45294|45295|45296|45297|45298|45299|45300|45351|45352|45353|45354|45355|45356|45357|45358|45359|45360|45361|45362|45363|45364|45365|45366|45367|45368|45369|45370|45371|45372|45373|45374|45375|45376|45377|45378|45379|45380|45381|45382|45383|45384|45385|45386|45387|45388|45389|45424|45425|45426|45427|45428|45429|45430|45431|45432|45481|45482|45483|45519|45520|45521|45522|45641|45642|45643|45735|45879|45892|45897|45949|45950|45951|45952|45954|45955|45961|45963|45964|46136|46137|46138|46244|46245|46246|46351|46379|46380|46383|46384|46385|46386|46447|46609|46610|46611|46612|46613|46614|46615|46616|46617|46618|46619|46620|46621|46622|46623|46624|46625|46626|46627|46628|46629|46630|46631|46632|46633|46634|46635|46636|46637|46638|46639|46640|46641|46642|46643|46644|46695|46696|46697|46698|46699|46700|46701|46703|46704|46705|46722|46723|46724|46726|46727|46728|46729|46730|46731|46732|46733|46734|46736|46737|46738|46739|46740|46741|46765|46766|46767|46768|46769|46770|46999|47000|47001|47002|47003|47004|47027|47028|47029|47074|47075|47076|47077|47078|47166|47167|47168|47169|47170|47171|47172|47173|47226|47261|47262|47263|47264|47440|47525|47526|47527|47620|47621|47677|47678|47679|47680|47681|47682|47683|47684|47685|47697|47698|47737|47738|47739|47740|47741|47742|47743|47744|47745|47746|47747|47748|47751|47752|47753|47754|47755|47756|47814|47815|47831|47841|47842|47946|47947|47948|47949|47950|47951|47952|47953|47979|47988|48088|48089|48091|48134|48135|48136|48137|48138|48139|48140|48141|48142|48143|48144|48145|48234|48235|48368|48379|48403|48404|48405|48466|48467|48468|48470|48510|48511|48512|48525|48552|48555|48558|48559|48596|48597|48598|48599|48600|48601|48602|48612|48667|48671|48673|48674|48675|48676|48677|48678|48679|48680|48681|48682|48683|48684|48685|48686|48687|48688|48689|48690|48691|48692|48693|48694|48695|48696|48895|48896|48897|48898|48906|48965|49101|49195|49247|49257|49260|49262|49264|49302|49303|49316|49317|49318|49319|49333|49334|49335|49359|49405|49431|49792|49798|49799|50062|50081|50167|50286|50287|50382|50392|50395|50396|50397|50467|50468|50469|50560|50561|50563|50564|50752|50753|51020|51073|51074|51123|51124|51286|51295|51296|51300|51308|51388|51651|51978|52057|52058|52059|52060|52061|52067|52098|52165|52169|52211|52240|52245|52248|52253|52538|52676|52677|52679|52680|52691|52708|52709|52711|52797|52801|52802|52829|52928|52979|53055|53056|53057|53058|53059|53060|53061|53062|53063|53064|53065|53066|53067|53257|53323|53324|53456|53457|53458|53814|53815|53816|53817|53818|53819|53820|53821|53906|53911|53939|53941|53942|54004|54005|54029|54034|54042|54147|54148|54149|54150|54151|54303|54304|54305|54310|54311|54422|54425|54426|54428|54429|54433|54548|54580|54581|54594|54639|54653|54654|54655|54656|54657|54658|54659|54660|54661|54728|54729|54834|54908|54970|54971|55034|55109|55165|55180|55184|55338|55339|55340|55414|55415|55416|55417|55419|55505|55506|55507|55508|55513|55514|55652|55653|55654|55655|55656|55657|55956|56182|56183|56184|56241|56242|56244|56444|56532|56536|56537|56538|56560|56561|56562|56563|56564|56565|56568|56570|56571|56572|56573|56574|56576|56579|56587|56593|56594|56596|56675|56676|56677|56678|56679|56680|56681|56682|56683|56684|56685|56688|56689|56690|56691|56692|56693|56694|56695|56696|56697|56698|56699|56700|56701|56702|56703|56704|56705|56781|56782|56783|56927|56928|56940|57247|57248|57249|57370|57461|57463|57611|58148|58149|58150|58151|58153|58154|58211|58305|58321|58322|58371|58389|58440|58473|58483|58933|58982|59013|59014|59019|59241|59284|59290|59378|59379|59579|59580|59956|59957|59958|59959|59961|59962|59965|59967|59999|60139|60140|60141|60142|60143|60144|60145|60146|60147|61067|61068|61069|61070|61199|61200|61205|61206|61363|61364|61381|61508|61779|61780|61781|61782|61783|61784|61785|61786|61787|61788|61789|61790|61819|61855|61856|61857|62302|62303|62354|62355|62356|62357|62358|62359|62362|62363|62364|62654|62656|62658|62659|62881|63215|63299|63300|63303|63304|63306|63307|63366|63367|63381|63382|63385|63386|63538|63539|63554|63829|63830|63831|63835|63969|63970|63972|64061|64062|64063|64064|64065|64066|64068|64069|64155|64156|64157|64158|64159|64247|64248|64249|64250|64251|64349|64350|64351|64352|64353|64354|64355|64356|64427|64433|64434|64548|64549|64550|64551|64552|64561|64562|64563|64564|64737|64738|64825|64826|64828|64829|64830|64971|64972|65222|65223|65226|65227|65228|65229|65230|65369|65370|65373|65374|65375|65376|65611|65612|65613|65614|65663|65808|65875|65876|65877|65878|65879|65880|65881|65882|65884|65885|65886|65887|65888|65889|65890|65891|65893|65895|65896|65897|65898|65900|65901|65902|65903|65904|65905|65906|65907|66078|66079|66080|66081|66082|66083|66084|66085|66086|66087|66088|66089|66382|66383|66384|66385|66386|66387|66662|66663|66666|66667|66668|66719|66975|66976|67222|67223|67224|67225|67281|67282|67404|67405|67406|67407|67410|67411|67412|67413|67543|67544|67545|67546|67547|67548|67549|67550|67551|67635|67636|67649|67650|67744|67745|67746|67747|67748|67749|68000|68001|68004|68005|68029|68031|68032|68033|68211|68214|68254|68255|68256|68257|68258|68259|68260|68261|68262|68263|68264|68265|68266|68267|68268|68269|68270|68271|68272|68414|68415|68416|68417|68419|68436|68437|68438|68440|68592|68593|68594|68595|68596|68597|68598|68599|68601|68602)$/,r=new RegExp("/videoplayback/id/(\\w+)/itag/"),o={xs:{className:"xs-screen",size:480},sm:{className:"sm-screen",size:640}},a=0,s=2147483647,c=[16,125,128]},function(t,e,n){var i=n(7),r=n(18),o=n(81),a=function(){function t(t,e){this.className=t,this.css=e}return t.prototype.initElement=function(){this.element=document.createElement("div"),this.element.className=this.className,Object(i.setCSSPropWithImportant)("margin-bottom","0",this.element),this.element.innerHTML=this.getInnerHtml()},t.prototype.getElement=function(){return this.element},t.prototype.getHTML=function(){var t=this.getInnerHtml();if(t)return'<div class="'+this.className+'">'+t+"</div>"},t.prototype.getCSS=function(){return o.a(this.css,{assetsPath:r.b.assetsUrl})},t.prototype.getInnerHtml=function(){return this.isEnabled()?this.innerHTML:""},t.prototype.hide=function(){this.element&&this.element.style.setProperty("display","none")},t.prototype.show=function(){this.element&&this.element.style.setProperty("display","block")},t}();e.a=a},function(t,e,n){n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var i,r=n(3),o=n(10),a=n(2);!function(t){t[t.XmlParsingError=100]="XmlParsingError",t[t.XmlInvalidSchema=101]="XmlInvalidSchema",t[t.UnsupportedVastVersion=102]="UnsupportedVastVersion",t[t.Trafficking=200]="Trafficking",t[t.PlayerExpectingDifferentLinearity=201]="PlayerExpectingDifferentLinearity",t[t.PlayerExpectingDifferentDuration=202]="PlayerExpectingDifferentDuration",t[t.PlayerExpectingDifferentSize=203]="PlayerExpectingDifferentSize",t[t.GeneralWrapper=300]="GeneralWrapper",t[t.WrapperTimeout=301]="WrapperTimeout",t[t.WrapperLimitReached=302]="WrapperLimitReached",t[t.NoAdsAfterWrappers=303]="NoAdsAfterWrappers",t[t.GeneralLinear=400]="GeneralLinear",t[t.MediaFileNotFound=401]="MediaFileNotFound",t[t.MediaFileTimeout=402]="MediaFileTimeout",t[t.UnsupportedMediaFile=403]="UnsupportedMediaFile",t[t.MediaFileDisplayProblem=405]="MediaFileDisplayProblem",t[t.GeneralNonLinear=500]="GeneralNonLinear",t[t.NonLinearCreativeDimensions=501]="NonLinearCreativeDimensions",t[t.NonLinearUnableFetch=502]="NonLinearUnableFetch",t[t.SupportedNonLinearNotFound=503]="SupportedNonLinearNotFound",t[t.GeneralCompanion=600]="GeneralCompanion",t[t.CompanionDimensions=601]="CompanionDimensions",t[t.CompanionDisplayProblem=602]="CompanionDisplayProblem",t[t.CompanionUnableFetch=603]="CompanionUnableFetch",t[t.SupportedCompanionNotFound=604]="SupportedCompanionNotFound",t[t.Undefined=900]="Undefined",t[t.GeneralVpaid=901]="GeneralVpaid"}(i||(i={}));var s=Object(o.b)(Object.keys(i),r.cArray.filter(Object(o.a)(function(t){return parseInt(t,10)},Object(a.not)(a.isNumber))),r.cArray.map(function(t){return i[t]}))},function(t,e,n){n.d(e,"i",function(){return d}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"h",function(){return g}),n.d(e,"c",function(){return m}),n.d(e,"g",function(){return b}),n.d(e,"d",function(){return v}),n.d(e,"f",function(){return y});var i=n(0),r=n(3),o=n(1),a=n(10),s=n(69),c=n(11),u=n(2),d=function(t,e){return[t,e]},l=function(t,e){var n=Object(i.e)(e,2),r=n[0],o=n[1];return t.replace(r,o)},p=function(t){return function(e){return Object(r.reduce)(t,function(t,e){return l(t,e)},e)}},h=function(){return[d("[CONTENTPLAYHEAD]","0"),d("[CACHEBUSTING]",Object(c.rand)(8)),d("[ASSETURI]",""),d("[MEDIAFILETYPE]","unknown"),d("[VIEWABILITY]","0")]},f=function(t){return Object(a.b)(t,o.d.filter(function(t){return t>0}),o.d.map(u.offset),o.d.getOrValue("0"),function(t){return d("[CONTENTPLAYHEAD]",t)})},g=function(t){return Object(a.b)(t,o.d.map(String),o.d.getOrValue("0"),function(t){return d("[VIEWABILITY]",t)})},m=function(t){return Object(a.b)(t,o.b.fromNullable,s.d,o.d.map(encodeURIComponent),o.d.getOrValue(""),function(t){return d("[ASSETURI]",t)})},b=function(t){return Object(a.b)(t,o.b.fromNullable,s.c,o.d.getOrValue("unknown"),function(t){return d("[MEDIAFILETYPE]",t)})},v=function(){return d("[CACHEBUSTING]",Object(c.rand)(8))},y=function(t){return d("[DEBUG_FORMAT]","[new|"+t.options.getFullContext()+"]")}},function(t,e,n){function i(t,e){void 0===e&&(e=0);var n=e;return p([h[t[n++]],h[t[n++]],h[t[n++]],h[t[n++]],"-",h[t[n++]],h[t[n++]],"-",h[t[n++]],h[t[n++]],"-",h[t[n++]],h[t[n++]],"-",h[t[n++]],h[t[n++]],h[t[n++]],h[t[n++]],h[t[n++]],h[t[n++]]].join(""))}function r(t){var e=t.match(/blob:(.*)/),n=e?e[1]:t;return p(n.substring(n.lastIndexOf("/")+1).toLowerCase())}function o(t,e){return void 0===e&&(e=window),t.map(function(t){var n=new e.Blob,i=t.createObjectURL(n);return t.revokeObjectURL(i),i}).map(r).getOrElse(function(){return i(Object(l.getRandomBytes)(16,e))})}function a(){return d.a.tryCatch(function(){var t=Object(c.a)()?Object(c.c)():u.a;return[o(t),o(t)]}).flatMap(function(t){var e=Object(s.e)(t,2),n=e[0];return n!==e[1]?Object(d.e)(n):Object(d.b)(new Error("Same auctid generated twice"))})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"toUuid",function(){return p}),e.bytesToUuid=i,e.getUuidFromBlobUrl=r,e.generateUuid=o,e.getUuid=a;for(var s=n(0),c=n(34),u=n(1),d=n(6),l=n(54),p=function(t){return t},h=[],f=0;f<256;++f)h[f]=function(t){return t}((f+256).toString(16).slice(1))},function(t,e,n){n.d(e,"b",function(){return d}),n.d(e,"e",function(){return l}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return g}),n.d(e,"a",function(){return m}),n.d(e,"d",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"f",function(){return y});var i=n(0),r=n(1),o=n(11),a=n(7),s=n(137),c=n(2),u=n(9),d=function(t){var e,n=void 0===t?{}:t,i=n.auctionId,o=void 0===i?r.b.empty():i,a=n.pageId,s=void 0===a?r.b.empty():a,c=n.pid,u=void 0===c?r.b.empty():c,d=n.insertionId,l=void 0===d?r.b.empty():d,p=n.connectionId,h=void 0===p?r.b.empty():p,f=n.slotType,g=void 0===f?r.b.empty():f,m=n.env,b=void 0===m?r.b.empty():m,v=n.impressionId,y=void 0===v?r.b.empty():v,w=n.cachebusting,O=void 0===w?r.b.empty():w,E=n.headerBiddingProvider,C=void 0===E?r.b.empty():E,I=n.gdprIab,S=void 0===I?r.b.empty():I,T=n.userStore,j=void 0===T?r.b.empty():T,k=n.portfolioItemId,P=void 0===k?r.b.empty():k,L=n.viewerId,V=void 0===L?r.b.empty():L,x=n.debugMetadata,_=void 0===x?r.b.empty():x,N=(e={},e["[auctid]"]=o.getOrValue(""),e["[pageId]"]=s.map(String).getOrValue(""),e["[pid]"]=u.map(String).getOrValue(""),e["[insertionId]"]=l.map(String).getOrValue(""),e["[connectionId]"]=h.map(String).getOrValue(""),e["[slotType]"]=g.getOrValue(""),e["[env]"]=C.match({some:function(){return"js-web"},none:function(){return b.getOrValue("")}}),e["[impressionId]"]=y.map(String).getOrValue(""),e["[CACHEBUSTING]"]=O.map(String).getOrValue(""),e["[headerBiddingProvider]"]=C.getOrValue(""),e["[pfid]"]=P.map(String).getOrValue(""),e["[viewerId]"]=V.getOrValue(""),e["[debugMetadata]"]=_.getOrValue(""),e);return S.forEach(function(t){var e=t.status,n=t.consent,i=t.reason,r=t.apiVersion,o=t.cmpId;N["[gdpr_status]"]=String(e),N["[gdpr_consent]"]=n,N["[gdpr_reason]"]=String(i),N["[gdpr_cmp_id]"]=o.map(String).getOrValue(""),N["[gdpr_api_version]"]=r.map(String).getOrValue(""),N["[gdpr_apply]"]=A(e).map(function(t){return t?"1":"0"}).getOrValue("")}),j.forEach(function(t){N["[userId]"]=t.userId,N["[os]"]=t.userDevice.os.toLowerCase(),N["[DEVICEID]"]=t.userDevice.device,N["[LIMIT_TRACKING]"]=String(t.userOptOut)}),N},l=function(t,e){var n,i=void 0===t?{}:t,a=i.currentTime,s=void 0===a?r.b.empty():a,u=i.errorCode,d=void 0===u?r.b.empty():u,l=i.assetUrl,p=void 0===l?r.b.empty():l,h=i.mediaFileType,f=void 0===h?r.b.empty():h,g=i.viewability,m=void 0===g?r.b.empty():g,b=i.userStore,v=void 0===b?r.b.empty():b,y=i.debugMetadata,A=void 0===y?r.b.empty():y,w=i.errorCause,O=void 0===w?r.b.empty():w;void 0===e&&(e=o.rand);var E=(n={},n["[CONTENTPLAYHEAD]"]=s.filter(function(t){return t>=0}).match({some:c.offset,none:function(){return"0"}}),n["[CACHEBUSTING]"]=e(8),n["[ERRORCODE]"]=d.map(String).getOrValue(""),n["[ASSETURI]"]=encodeURIComponent(p.getOrValue("")),n["[MEDIAFILETYPE]"]=f.getOrValue("unknown"),n["[VIEWABILITY]"]=m.map(String).getOrValue("0"),n["[debugMetadata]"]=A.getOrValue(""),n["[errorCause]"]=O.getOrValue(""),n);return v.forEach(function(t){E["[BUNDLEID]"]=t.userDevice.appId,E["[DEVICEID]"]=t.userDevice.device,E["[LIMIT_TRACKING]"]=String(t.userOptOut)}),E},p=function(t){var e,n,r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:e=[];for(n in t)e.push(n);r=0,i.label=1;case 1:return r<e.length?(o=e[r],t.hasOwnProperty(o)&&""!==t[o]?[4,[o,t[o]]]:[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return r++,[3,1];case 4:return[2]}})},h=function(t){return new RegExp(t.replace("[","\\[").replace("]","\\]"),"g")},f=function(t){return function(e){var n=Object(i.e)(e,2),r=n[0],o=n[1];return t.replace(h(r),o)}},g=function(t){return function(e){return s.a(p(t),function(t,e){return f(t)(e)},e)}},m=function(t,e){return Object(c.isNumber)(t)&&Object(c.isNumber)(e)?t-e:0},b=function(t){return void 0===t&&(t=r.a),t.map(function(t){return t.url.toString()})},v=function(t){return void 0===t&&(t=r.a),t.map(function(t){return Object(c.getExtensionFromMimeType)(t.type)})},y=function(t,e,n){var i=Math.ceil(100*Object(a.getPercentageInView)({element:t,elementAncestors:Object(a.findParentElements)(t),elementClientRect:Object(u.getBoundingClientRect)(t),mainWindow:r.b.fromNullable(Object(a.getWindow)(t)).getOrValue(window),elementHeight:e}));return(i<0||Object(a.checkElementVisibility)(t,n).isLeft())&&(i=0),i},A=function(t){switch(t){case 0:return Object(r.c)(!1);case 11:case 12:return Object(r.c)(!0);default:return r.a}}},function(t,e,n){function i(){if(a.isMobile()||a.isTablet())return!1;var t=Object(s.map)(o(),function(t){return parseInt(t,10)});return t[0]>=c[0]&&t[1]>=c[1]}function r(t){return t>=parseInt(o()[0],10)}function o(){try{var t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return["6","0","0"]}return new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){}}return["0","0","0"]}e.a=i,e.b=r;var a=n(5),s=n(3),c=[10,0]},function(t,e,n){var i=n(0),r=(n(143),n(32)),o=n(7),a=n(1),s=n(5),c=n(61),u=n(41),d=n(2),l=n(72),p=n(104),h=n(43),f=n(106),g=n(45),m=n(39),b=n(8),v=n(36),y=n(29),A=(n(153),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getCreativeWindow=function(t){return t.contentWindow||o.getWindow(t)},e}return Object(i.c)(e,t),e.prototype.loadVpaid=function(t,e,n){var i=this;this.url=t;var r=a.b.fromNullable(o.getWindow(this.container)),s=!1,c=function(t){r.forEach(function(t){return t[i.callbackName]=d.noop}),n(t),i.destroy()};this.callbackName="vpaidjsload_"+this.id,r.forEach(function(t){return t[i.callbackName]=function(n){if(s=!0,clearTimeout(i.loadTimeoutId),t[i.callbackName]=d.noop,n){var r=i.getCreativeWindow(i.creativeContainer);try{i.vpaid=r.getVPAIDAd()}catch(t){var o=h.g;return o.message+=" "+t,c(o)}i.logger.info("getVPAIDAd - Retrieve ad from creative"),r.teads=r.teads||{},r.teads.api=i.config.api,e(i.vpaid)}else c(h.h)}}),this.setUpCreativeContainers(this.container,t),this.loadTimeoutId=setTimeout(function(){s||c(h.i)},g.c)},e.prototype.setUpCreativeContainers=function(t,e){var n=this;this.mainContainer=document.createElement("div"),this.mainContainer.style.setProperty("position","relative"),t.appendChild(this.mainContainer),this.creativeContainer=o.createIframe(),this.creativeContainer.id="vpaid-"+this.id,this.mainContainer.appendChild(this.creativeContainer),a.b.fromNullable(this.getCreativeWindow(this.creativeContainer)).forEach(function(t){t.document.write(n.getCreativeTemplate(e,n.callbackName,n.backgroundColor)),t.document.close(),n.vpaidContainer=t.document.getElementById("vpaid-container"),n.videoContainer=t.document.getElementById("video-container")})},e.prototype.getCreativeTemplate=function(t,e,n){return'\n      <!DOCTYPE html>\n      <html>\n        <body style="margin:0px;padding:0px;overflow:hidden">\n          <script type="text/javascript">\n            var target = window.parent;\n            var script = document.createElement("script");\n            script.onload = function() {\n              target["'+e+'"](true)\n            };\n            script.onerror = function() {\n              target["'+e+'"](false)\n            };\n            script.async = true;\n            script.src = "'+t+'";\n            document.body.appendChild(script);\n          <\/script>\n          <div id="video-container"\n            style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+n+'">\n          </div>\n          <div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div>\n        </body>\n      </html>\n    '},e.prototype.getEnvironmentVars=function(t){var e=this;return void 0===t&&(t={}),a.b.fromNullable(this.environmentVars).getOrElse(function(){return e.environmentVars=Object(i.a)(Object(i.a)({},Object(u.a)({slot:e.vpaidContainer,videoSlot:e.initVideo(e.getCreativeWindow(e.creativeContainer)||window,e.config.useCustomVideo&&window.teads.video.HTMLVideoCanvas),videoSlotCanAutoPlay:!0},Object(d.not)(d.isNull))),t),e.environmentVars})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.mainContainer&&this.mainContainer.parentNode&&(this.mainContainer.parentNode.removeChild(this.mainContainer),this.mainContainer=null,this.videoContainer=null)},e.prototype.resize=function(t,e){if(this.currentWidth=t,this.currentHeight=e,this.mainContainer&&(this.mainContainer.style.setProperty("width",t+"px"),this.mainContainer.style.setProperty("height",e+"px")),this.creativeContainer&&(this.creativeContainer.style.setProperty("width",t+"px","important"),this.creativeContainer.style.setProperty("height",e+"px","important")),this.videoContainer){this.videoContainer.style.setProperty("width",t+"px"),this.videoContainer.style.setProperty("height",e+"px");var n=this.videoContainer.getElementsByTagName("video")[0];n&&(n.width=t,n.height=e,n.style.setProperty("width",t+"px"),n.style.setProperty("height",e+"px"))}this.vpaidContainer&&(this.vpaidContainer.style.setProperty("width",t+"px"),this.vpaidContainer.style.setProperty("height",e+"px"))},e.prototype.setBackground=function(e){t.prototype.setBackground.call(this,e),this.videoContainer&&this.videoContainer.style.setProperty("background-color",this.backgroundColor)},e.prototype.getType=function(){return m.a.JS},e.prototype.registerVPAIDEventHandler=function(t){var e=this;this.callback=t;var n=function(n){return a.b.fromNullable(e.vpaid).forEach(function(i){return i.subscribe(Object(v.b)(t,n),n,e)})},i=u.c(n);i(b.a),i(y.a)},e.prototype.overrideCreateElement=function(t){var e=a.b.fromNullable(this.creativeContainer.contentDocument||this.creativeContainer.ownerDocument);window.originalCreateElement=window.originalCreateElement||e.map(function(t){return t.createElement}).getOrNull();var n=this;e.forEach(function(e){e.createElement=function(i){return"video"===i.toLowerCase()?(n.logger.debug("createElement overriden for",i),t):window.originalCreateElement.call(e,i)}})},e.prototype.initVideo=function(t,e){var n=e?this.initCustomVideo(t):this.initClassicVideo(t);return(e||s.isWhiteListedIos10Safari())&&this.overrideCreateElement(n),a.b.fromNullable(this.videoContainer).forEach(function(t){return t.appendChild(n)}),this.resize(this.currentWidth,this.currentHeight),n},e.prototype.initCustomVideo=function(t){var e=this;t.document.registerElement=t.document.registerElement||document.registerElement,t.teads=t.teads||window.teads,t.teads.video=window.teads.video;var n=new t.teads.video.HTMLVideoCanvas;return n.addEventListener(l.error,function(t){if(e.logger.error("receive video error event",t,n.error),e.callback){e.logger.debug("callback ready to handle video error");var i=n.error&&n.error.code===p.a.MEDIA_ERR_NETWORK?"MediaProxy not ready":"unknow video error";e.logger.error(i),e.callback(new b.a(b.a.AdError,{message:i,id:r.b.UNSUPPORTED_MEDIAFILE.id}))}else e.logger.error("callback not ready to handle video error")},!1),n},e.prototype.initClassicVideo=function(t){var e=t.document.createElement("video");return e.setAttribute("webkit-playsinline","true"),e.setAttribute("playsinline","true"),e.setAttribute("muted","true"),s.isAndroid()&&s.isChromeWebView()&&e.setAttribute("poster",c.b),e},e}(f.a));e.a=A},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"abort",function(){return i}),n.d(e,"canplay",function(){return r}),n.d(e,"canplaythrough",function(){return o}),n.d(e,"durationchange",function(){return a}),n.d(e,"emptied",function(){return s}),n.d(e,"encrypted",function(){return c}),n.d(e,"ended",function(){return u}),n.d(e,"error",function(){return d}),n.d(e,"interruptbegin",function(){return l}),n.d(e,"interruptend",function(){return p}),n.d(e,"loadeddata",function(){return h}),n.d(e,"loadedmetadata",function(){return f}),n.d(e,"loadstart",function(){return g}),n.d(e,"pause",function(){return m}),n.d(e,"play",function(){return b}),n.d(e,"playing",function(){return v}),n.d(e,"progress",function(){return y}),n.d(e,"ratechange",function(){return A}),n.d(e,"seeked",function(){return w}),n.d(e,"seeking",function(){return O}),n.d(e,"stalled",function(){return E}),n.d(e,"suspend",function(){return C}),n.d(e,"timeupdate",function(){return I}),n.d(e,"volumechange",function(){return S}),n.d(e,"waiting",function(){return T});var i="abort",r="canplay",o="canplaythrough",a="durationchange",s="emptied",c="encrypted",u="ended",d="error",l="interruptbegin",p="interruptend",h="loadeddata",f="loadedmetadata",g="loadstart",m="pause",b="play",v="playing",y="progress",A="ratechange",w="seeked",O="seeking",E="stalled",C="suspend",I="timeupdate",S="volumechange",T="waiting"},function(t,e,n){n.d(e,"c",function(){return u}),n.d(e,"d",function(){return d}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return p});var i=n(0),r=n(3),o=n(1),a=n(10),s=n(66),c=n(85),u=["f","ts","fv","action","referer","pageId","pid","auctid","env","pfid","gid","sid","vid","slot","gdpr_status","gdpr_consent","gdpr_reason","gdpr_api_version","gdpr_cmp_id","hb_provider","ad_source_id","error_cause","cid","dsp_campaign_id","dsp_creative_id","scid","studio_cid"],d=Object(a.b)(Object.keys(c.a),r.cArray.map(function(t){return c.a[t]}),Object(r.exclude)(c.h),r.cArray.foldLeft([],function(t,e){return e===c.a.AdAvailableErrorVast?Object(i.g)(t,Object(a.b)(s.b,r.cArray.map(function(t){return Object(c.b)([e,t])}))):Object(i.g)(t,[e])})),l=Object(a.a)(o.d.map(String),o.d.getOrValue("")),p=Object(a.a)(o.b.fromNullable,l)},function(t,e,n){function i(t){return new V({slot:t})}function r(t,e){return new x({reason:t,information:e})}function o(t,e,n){void 0===n&&(n=N);var i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]=e(r,n[r](t)));return i}function a(t,e,n){return"inread"===t&&e?[n.safeFrame,n.image,n.video,n.minimum,n.btf,n.positionTop,n.height,n.avoid,n.textLength,n.children,n.size,n.filter]:[n.safeFrame,n.image,n.video,n.minimum,n.btf,n.avoid,n.filter]}function s(t,e){var n=function(e,i){return e.flatMap(function(){return i.length>0?n(Object(l.head)(i)(t),Object(l.tail)(i)):e})};return n(Object(l.head)(e)(t),Object(l.tail)(e))}function c(t,e,n){var o=function(e,r){return function(e){var o=e.slot;return _.info("Elected slot ["+r+" / "+t.length+"]",o),n.valid(1,1),i(o)}},a=function(e,n){return function(i){var o=i.reason,a=i.information;return _.info("Invalid slot ["+n+" / "+t.length+"] "+o+" => "+a,e),r(o,a)}},c=function(t,n){return s(t,e).fold(a(t,n),o(0,n))},u=function(t,e,n){return t.orElse(function(){return e.length>0?u(c(Object(l.head)(e),n),Object(l.tail)(e),n+1):t})};return t.length>0?u(c(Object(l.head)(t),0),Object(l.tail)(t),1):r(m.e.noSlot.selector)}function u(t,e,n,s){void 0===n&&(n=c),void 0===s&&(s=c);var u=t.placementConfig,d=o(u,R(t)),p=u.selector.getSlots(),h=function(n){var i=n.reason,o=n.information;if("inread"===t.name&&u.auto.isEnabled()){var c=new b.a(u.parentWindow.getWindow()),p=c.find(),h=Object(l.map)(p?Object(l.fromArrayLike)(p):[],function(t,e){var n=new v.a(t,e);return n.computeScore(u),n});return h.sort(function(t,e){return e.getScore()-t.getScore()}),s(h,a(t.name,!0,d),e)}return r(i,o)},f=function(t){var e=t.slot;return _.info("Slot available",e),i(e)},g=function(t){var n=t.reason,i=t.information;return _.info("No slot available"),Object(l.isEmpty)(p)&&!u.auto.isEnabled()?(e.valid(1,1,m.e.noSlot.selector,"error"),r(u.headerBiddingProvider.nonEmpty()?m.e.noSlot.hbSelector:m.e.noSlot.selector)):(e.valid(1,1,n,"error"),r(n,i))};return n(p,a(t.name,!1,d),e).orElse(function(t){return h(t)}).fold(g,f)}e.b=i,e.a=r,n.d(e,"c",function(){return D}),e.d=u;var d=n(0),l=n(3),p=n(9),h=n(22),f=n(6),g=n(4),m=n(35),b=n(371),v=n(222),y=n(496),A=n(498),w=n(499),O=n(500),E=n(501),C=n(502),I=n(503),S=n(504),T=n(505),j=n(506),k=n(507),P=n(508),L=n(509),V=function(t){function e(e){return t.call(this,e,"right")||this}return Object(d.c)(e,t),e}(f.a),x=function(t){function e(e){return t.call(this,e,"left")||this}return Object(d.c)(e,t),e}(f.a),_=new g.a("SlotChecker"),N={btf:A.a,minimum:I.a,minimumBelow:S.a,height:E.a,avoid:y.a,size:k.a,filter:O.a,positionTop:T.a,textLength:P.a,children:w.a,video:L.a,image:C.a,safeFrame:j.a},D={MIN_POSITION_TOP:100,MAX_POSITION_TOP:18e3,MIN_LONG_HEIGHT:30,MAX_LONG_HEIGHT:2e3,WIDTH_MARGIN:40,HEIGHT_MARGIN:20,LENGTH_MARGIN:150,LEVEL_POSITION:200},R=Object(h.a)(function(t,e,n){var i=t.placementConfig,r=p.getScrollTop(i.parentWindow.getWindow());switch(e){case"btf":return n({scrollTop:r,waterline:p.getWindowSize(i.parentWindow.getWindow()).height});case"height":return n({beforeHeightCheck:function(e){return t.initDom(e)},afterHeightCheck:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}});case"positionTop":return n({scrollTop:r});case"minimumBelow":case"filter":return n({elements:i.selector.getSlots()});default:return n({})}})},function(t,e,n){var i=(n(27),n(3)),r=n(5),o=n(9),a=n(7),s=n(54),c=n(11),u=n(2),d=n(68);r.init();var l=window.teads||{};l.ArrayHelper=i,l.Context=r,l.Dom=o,l.HTMLHelper=a,l.Random=s,l.StringHelper=c,l.Utils=u,l.Uuid=d,window.teads=l},,function(t,e,n){var i=n(0),r=n(91),o=n(93),a=n(97),s=n(44),c=n(4),u=n(13),d=n(15),l=n(5),p=n(28),h=n(102),f=n(23),g=n(16),m=function(t){function e(e,n,i,r){void 0===r&&(r={});var o=t.call(this,e,n,i)||this;return o.parameters=r,o.defaultVolume=0,o.logger=new c.a("canvas.player.CanvasPlayer"),o.audioSyncDiff=.5,o.waitForPlay=!1,o.logger.debug("constructor()",e,n,i,r.assetsPath),o.parameters.assetsPath&&o.parameters.assetsPath.match(/http:|https:/)||(o.logger.warn("assetsPath replace with default (relative path not allow)"),o.parameters.assetsPath=window.location.protocol+"//s8t.teads.tv/media/player"),o}return Object(i.c)(e,t),e.prototype.load=function(t,e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=h.a.NO_STREAM),this.logger.debug("load()",t,e,n),!t)return void(this.video.state===f.a.PLAYING&&this.pause());this.url=Object(g.u)(t),this.dispatch(d.a.LOAD_START),this.getMeta(this.url,function(t){var r=i.url.split("/");r.pop(),i.video=new s.b(r.join("/"),t,n,i),i.audio=new o.a(r.join("/"),t,n,i),i.buffer=new a.a(i),e&&i.listen(d.a.CAN_PLAY,function(){return i.play()}),i.buffer.show(),i.listen(d.a.CAN_PLAY,function(){return i.buffer.hide()}),i.listen(d.a.ENDED,function(){return i.audio.release()}),i.video.listen(d.a.STALLED,function(){return i.dispatch(d.a.STALLED)}),i.video.listen(d.a.STALLED,function(){return i.pause(!0)}),i.video.listen(d.a.RESUME_AFTER_STALLED,function(){return i.dispatch(d.a.RESUME_AFTER_STALLED)}),i.video.listen(d.a.RESUME_AFTER_STALLED,function(){return i.play()}),i.video.listen(d.a.TIME_UPDATE,function(){return i.onVideoProgress()}),i.video.listen(d.a.CAN_PLAY,function(){return i.canPlayAll()}),i.audio.listen(d.a.CAN_PLAY,function(){return i.canPlayAll()}),i.video.listen(d.a.ENDED,function(){return i.dispatch(d.a.ENDED)}),i.video.listen(d.a.LOADED,function(){return i.dispatch(d.a.LOADED)}),i.video.listen(d.a.ERROR,function(){return i.dispatch(d.a.ERROR,{error:"An error occured with the video."})})})},e.prototype.play=function(){var t=this;this.logger.info("play()"),this.canplay()?(this.waitForPlay=!1,this.video.play(),this.audio.play(),this.dispatch(d.a.PLAY),this.dispatch(d.a.PLAYING)):this.waitForPlay||(this.waitForPlay=!0,this.dispatch(d.a.STALLED),this.dispatch(d.a.PAUSE),this.listen(d.a.CAN_PLAY,function(){t.dispatch(d.a.RESUME_AFTER_STALLED),t.play()}))},e.prototype.pause=function(t){void 0===t&&(t=!1),this.video&&this.audio&&this.video.state!==f.a.ENDED?(this.video.pause(),this.audio.pause(),this.dispatch(d.a.PAUSE),this.logger.info("pause()"),t||this.video.state!==f.a.STALLED||(this.video.cleanStallTimeout(),this.buffer.hide())):(this.muteEvent(d.a.CAN_PLAY),this.waitForPlay=!1)},e.prototype.canplay=function(){return!(!this.video||!this.audio)&&(this.video.canplay()&&this.audio.canplay())},Object.defineProperty(e.prototype,"src",{get:function(){return this.url},set:function(t){this.load(t,!1,h.a.FULL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.video?this.video.getCurrentTime():0},set:function(t){this.video&&(this.logger.info("set currentTime",t),this.dispatch(d.a.SEEKING),this.video.setCurrentTime(t)&&(this.audio.currentTime=t),this.dispatch(d.a.SEEKED))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.video&&this.audio?this.video.duration||this.audio.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.audio?this.audio.volume:0},set:function(t){var e=this;if(this.logger.debug("set volume",t),this.audio){this.audio.volume=t;this.audio.canplay()&&this.video.state===f.a.PLAYING&&function(){e.audio.play(e.currentTime)}(),this.dispatch(d.a.VOLUME_CHANGE,{value:t})}else this.defaultVolume=t},enumerable:!1,configurable:!0}),e.prototype.onVideoProgress=function(){if(this.audio.api&&this.audio.playing()){var t=this.audio.currentTime-this.currentTime,e=Math.abs(t);e>=this.audioSyncDiff&&(t>0||this.video.meta.tv?this.video.setCurrentTime(this.audio.currentTime)||this.video.setCurrentTime(this.currentTime+this.audioSyncDiff):this.audio.currentTime=this.currentTime,this.logger.debug("sync audio (diff/audioTime)",e,this.audio.currentTime),this.dispatch(d.a.AUDIO_SYNC,{value:e}))}this.dispatch(d.a.TIME_UPDATE)},e.prototype.canPlayAll=function(){this.canplay()&&(this.dispatch(d.a.CAN_PLAY),this.dispatch(d.a.LOADED_METADATA))},e.prototype.getMeta=function(t,e){var n=this,i=Object(p.a)();i.open("GET",t.replace(/(\.mpg|\.mpeg|\.tv)(?!\/)/gi,".meta?v2"),!0),i.responseType="json",i.addEventListener("load",function(t){if(i.response){var r="string"==typeof i.response?JSON.parse(i.response):i.response;!r.tv&&(Object(l.isChromeIos)()||Object(l.isUIWebview)()||Object(l.isFacebookWebview)()||Object(l.isIpad)())?n.dispatch(d.a.ERROR,{error:"The metadata are missing."}):e(r)}else n.dispatch(d.a.ERROR,{error:"No response from the HTTPRequest, did the file exist?"})}),i.addEventListener("error",function(t){n.dispatch(d.a.ERROR,{error:"An error occured with the HTTPRequest."}),Object(u.a)(n.logger.error,n.logger)}),i.send()},e}(r.a);e.a=m},function(t,e,n){function i(t){return o.b.fromNullable(t.message).getOrElse(function(){return a.b(t)}).substr(0,s)}function r(t){return o.b.fromNullable(t.getFullMessage()).getOrElse(function(){return a.b(t)}).substr(0,s)}e.a=i,e.b=r;var o=n(1),a=n(19),s=120},function(t,e,n){var i,r=n(90),o=n(118),a=n(116),s=n(177),c=n(4),u=n(1),d=n(24),l=n(70),p=n(5),h=n(28),f=n(3),g=n(20),m=n(16),b=n(61);!function(t){t[t.VIDEO=0]="VIDEO",t[t.MPEG=1]="MPEG",t[t.TV=2]="TV",t[t.FLASH=3]="FLASH",t[t.VPAIDJS=4]="VPAIDJS",t[t.VPAIDFLASH=5]="VPAIDFLASH"}(i||(i={}));var v;!function(t){t.landscape="l",t.square="s",t.vertical="v"}(v||(v={}));var y=function(){function t(){}return t.getPreferredMediafileTypes=function(t){var e=[i.VIDEO,i.VPAIDJS,i.TV,i.MPEG,i.VPAIDFLASH,i.FLASH];return p.isDesktop()||(e=Object(f.filter)(e,function(t){return t!==i.VPAIDJS}).concat([i.VPAIDJS])),p.isIE()?e=Object(f.filter)(e,function(t){return t!==i.TV&&t!==i.MPEG}):p.isSDK()?e=[i.VIDEO,i.VPAIDJS]:p.isIos()&&d.d(p.getIosVersion(),"8")?e=t===r.a.HTML5?[i.VIDEO]:p.isIpad()?[i.MPEG,i.TV]:[]:(t===r.a.CANVAS||p.isIos()&&(d.d(p.getIosVersion(),"10")||!p.isWhiteListedIos10Safari()&&!p.isFacebookWebviewIOS10())&&t!==r.a.HTML5)&&(e=Object(f.filter)(e,function(t){return t!==i.VIDEO})),Object(l.a)()||(e=Object(f.filter)(e,function(t){return t!==i.FLASH&&t!==i.VPAIDFLASH})),e},t.getElectedMediafiles=function(e,n){var r=t.getPreferredMediafileTypes(n),o=[];Object(f.map)(e,function(t){t.api&&t.api.toLowerCase&&(t.api=t.api.toLowerCase()),t.type&&t.type.toLowerCase&&(t.type=t.type.toLowerCase())});for(var a=0,s=r.length;a<s&&0===o.length;){switch(r[a]){case i.VIDEO:o=Object(f.filter)(e,t.isPlayableVideo);break;case i.TV:o=Object(f.filter)(e,t.isTv);break;case i.MPEG:o=Object(f.filter)(e,t.isMpeg);break;case i.VPAIDJS:o=Object(f.filter)(e,t.isVpaidJS);break;case i.VPAIDFLASH:o=Object(f.filter)(e,t.isVpaidFlash);break;case i.FLASH:o=Object(f.filter)(e,t.isFlash)}a++}return o},t.getTargetedBitrate=function(t){return t>0?t/2:0},t.extractMediafileFromBitrate=function(t,e){if(e){var n=function(t,e,i){return i.length>0?t.bitrate<e?t:n(Object(f.head)(i),e,Object(f.tail)(i)):t};return n(Object(f.head)(t),e,Object(f.tail)(t))}return t[Math.floor(t.length/2)]},t.sortMediafilesByBitrate=function(t,e){var n=Object(f.map)(t,function(t){return t.bitrate=t.bitrate||2*e.max,t}),i=Object(f.filter)(n,function(t){return t.bitrate<=e.max&&t.bitrate>=e.min});return i=i.length?i:n,i.sort(function(t,e){return e.bitrate-t.bitrate})},t.getMaxBitrateForContext=function(){return p.isMobile()?t.bitrates.mobile:t.bitrates.default},t.getMediaProvider=function(e){switch(e.type){case"video/x-flv":return Object(l.a)()?o.a.FLASH:o.a.UNSUPPORTED;case"application/x-shockwave-flash":case"application/x-javascript":case"application/javascript":case"text/javascript":return o.a.VPAID;case"video/mpg":case"video/mpeg":case"video/tv":return p.cacheCanvasUsed(!0),o.a.CANVAS;default:return t.isPlayableVideo(e)?o.a.JS:o.a.UNSUPPORTED}},t.getOptimalMediaFiles=function(e,n,i,o,a){if(0===n.length)return null;var s=t.getEncodingCandidate(n.slice()),c=t.getElectedMediafiles(n,a),u=t.getDownloadSpeed();if(a!==r.a.CANVAS&&!d.a(p.getIosVersion(),"8")||0!==c.length&&!t.isVpaidJS(c[0])||!s)if(c.length>1){var l=t.getTargetedBitrate(u),h=p.isChrome()||p.isEdge()?t.limitBitrateForHAI(e,l):l,f=t.extractMediafileFromBitrate(t.sortMediafilesByBitrate(c,t.getMaxBitrateForContext()),h);this.logger.debug("Picked mediafile "+f.url+" with bitrate "+f.bitrate),i(f,u)}else if(1===c.length)i(c[0],null);else{var g="No Mediafile for this context";i(null,null,g),t.logger.info("getOptimalMediaFiles",g)}else t.waitForProxy(s.url,t.getMediaProxyBitrate(t.getTargetedBitrate(u)),function(t,e){s.url=t,s.type="video/tv",i(t?s:null,u,e)},o)},t.limitBitrateForHAI=function(t,e){this.logger.debug("limitBitrateForHAI called with duration "+t+" and target bitrate "+e);var n=Math.max(30,Math.min(0|t,60)),i=Math.floor(30720/n);return this.logger.debug("Maximum allowed bitrate "+i+" for "+n+" seconds"),Math.min(i,e)},t.waitForProxy=function(e,n,i,r){var o=location.hostname.match(/.+\.sandbox\.teads\.net|localdocker/),a="https://[HOST]/transcode?url=[URL]&bitrate=[BITRATE]".replace(/\[HOST\]/,o?o[0]+":18088":"mp.teads.tv").replace(/\[URL\]/,encodeURIComponent(e)).replace(/\[BITRATE\]/,n.toString()),s=h.a(),c=!1;s.open("GET",a,!0),s.onreadystatechange=function(){var e;if(4===s.readyState&&!c){switch(c=!0,s.status){case 200:i(s.responseText);break;case 202:e="Mediaproxy - encoding ongoing - need wait",i(null,e);break;case 201:e="Mediaproxy - encoding init - need one more call to encode",i(null,e);break;case 410:e="Mediaproxy - encoding failed",i(null,e);break;case 400:e="Mediaproxy - bad request",i(null,e);break;default:e="Mediaproxy - other error - "+s.status,i(null,e)}t.logger.debug("proxy resp",s.status),r.info(["proxy","resp",s.status].join(" "))}},s.send(),r.info("proxy call")},t.getOptimalMediaFile=function(e,n,i,o,a){var s=this;p.autoplayNeedTime().match({some:function(t){return setTimeout(function(){return s.getOptimalMediaFile(e,n,i,o,a)},t)},none:function(){o.formatConfig&&o.formatConfig.allowedPlayer?(p.isCanvasNeeded(o.formatConfig.allowedPlayer.isCustomContext())&&o.formatConfig.allowedPlayer.setValue(r.a.CANVAS),o.type=o.formatConfig.allowedPlayer.getValue()):p.isCanvasNeeded()&&(o.type=r.a.CANVAS),t.getOptimalMediaFiles(e,n,function(t,e,n){t?(a.info("media "+t.type,0),i(t,e?" -> dlSpeed: "+e+"kbit/s":"")):i(null,n)},a,o.type)}})},t.getOptimalHeight=function(e,n,i){return n?Math.ceil(n/t.getRatio(e,i)):0},t.getRatio=function(t,e){var n=!Object(m.k)(t.url);return!t.height||!t.width||!e&&n&&t.api&&"vpaid"===t.api.toLowerCase()&&t.width>t.height?b.a:t.width/t.height},t.getAssetFromMediaProvider=function(t){var e;switch(t){case o.a.JS:e=s.a.vpaidvideojs;break;case o.a.FLASH:e=s.a.vpaidvideoswf;break;case o.a.CANVAS:e=s.a.vpaidcanvas;break;default:e=""}return e},t.getEncodingCandidate=function(t){var e;return Object(f.forEach)(t,function(t){var n=t.type||"";switch(t.weight=0,n.split("/").pop()){case"mov":t.weight=150;break;case"mp4":t.weight=100;break;case"flv":case"x-flv":t.weight=75;break;case"webm":case"ogg":case"ogv":t.weight=50}(!e||e.weight<=t.weight)&&(e=e||t,(e.weight<t.weight||e.bitrate<t.bitrate)&&(e=t))}),e.weight?e:null},t.getMediaProxyBitrate=function(t){return t>=1e3?1e3:t>=700?700:t>=500?500:300},t.sendMediasToSumologic=function(e,n,i){try{var r={},o=Object(f.map)(Object(f.filter)(e.mediaFiles,function(t){return!r[t.type]&&(r[t.type]=!0,!0)}),function(t){return t.type}),a=Object(f.map)(e.wrappers,function(t){return Object(m.r)(t).hostname});i.info("[mf-"+n+"] "+o.join(" | ")+"||"+a.join(" > "),0)}catch(e){t.logger.error("sendMediasToSumologic error",e)}},t.getRatioCategory=function(t){return t.width>t.height?v.landscape:t.width===t.height?v.square:v.vertical},t.getMediaFileRatioLog=function(e,n,i){return"mediafile-ratio "+[t.getRatioCategory(e),""+n,i.map(String).getOrValue("n")].join("|")},t.isMpeg=function(t){return/^video\/mpe?g$/.test(t.type)},t.isTv=function(t){return"video/tv"===t.type},t.isFlash=function(t){return"video/x-flv"===t.type},t.isVideo=function(e){return!t.isMpeg(e)&&!t.isTv(e)&&!t.isFlash(e)&&/^video\/*/.test(e.type)},t.isPlayableVideo=function(e){return t.isVideo(e)&&a.a(e.type)},t.isVpaidFlash=function(t){return"vpaid"===t.api&&t.type.indexOf("application/x-shockwave-flash")>-1},t.isVpaidJS=function(t){return"vpaid"===t.api&&t.type.indexOf("javascript")>-1},t.getDownloadSpeed=function(e){var n;return void 0===e&&(e=window.navigator),u.b.fromNullable(null===(n=null===e||void 0===e?void 0:e.connection)||void 0===n?void 0:n.downlink).match({some:function(t){return 1024*t},none:function(){return Object(g.d)().map(function(t){return t.sort(function(t,e){return e.transferSize-t.transferSize})}).map(function(e){return Object(g.c)(e.slice(0,Math.round(e.length*t.percentResourcesAmount)))}).getOrValue(0)}})},t.logger=new c.a("player.MediaFileHelper"),t.bitrates={mobile:{min:200,max:5e3},default:{min:200,max:1e4}},t.percentResourcesAmount=.1,t}();e.a=y},function(t,e,n){n.d(e,"a",function(){return A}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return C});var i=(n(27),n(5)),r=n(14),o=n(9),a=n(10),s=n(7),c=n(19),u=n(4),d=n(28),l=n(2),p=n(6),h=n(16),f=n(11),g=n(3),m=n(1),b=n(52),v=n(182),y=n.n(v),A="wigo.teads.tv",w=function(){function t(){var e=this;if(this.color="blue",this.statusDetails="",this.bottomPxPosition=10,this.position=1,this.buttonHeight=0,window.teads.WIGO_DEBUG_KEY=!window.teads.WIGO_DEBUG_KEY&&window.teads.HAS_DEBUG_LOGS?"debug":window.teads.WIGO_DEBUG_KEY,this.elapsedTime=0,this.logfile={context:(Object(i.getDevice)().toString()+"-"+Object(i.getOS)().toString()+"-"+Object(i.getBrowser)().toString()).replace(/\|/g," "),url:location.href,steps:[],logs:[],timeline:[],vasts:[]},m.b.fromNullable(t.reportPromise).forEach(function(t){return t.then(function(t){return e.report=t})}),this.topWindow=Object(s.findTopWindow)(document.body),window.teads.WIGO_DEBUG_KEY)this.createDebugButton(this.color),this.recordUserActions();else{var n=function(t){var n=t.data.wigoLiveDebug;n&&n.length&&n.length>1&&e.enableWigo(n[1])};try{this.topWindow.addEventListener("message",n)}catch(t){this.topWindow=window,this.topWindow.addEventListener("message",n)}}t.storeInstance(this)}return t.getInstances=function(){return t.instances},t.loadAndStoreReportIfNeeded=function(e){var n=Object(h.h)(),i=Object(h.s)(n),r=i.teadsWigoDebug||i.teadswigodebug;r&&(e.info("wigo debug "+r+" on "+location.href,1),t.reportPromise=t.loadReport(r))},t.isCeltraParameterSet=function(t){return"true"===Object(h.s)(t).celtra},t.storeInstance=function(e){t.instances.push(e)},t.loadReport=function(t){return new b.a(function(e,n){var i=Object(d.a)();i.open("GET",Object(l.getProtocol)()+"//wigo.teads.tv/livedebug/upload/"+t+".json"),i.onload=function(){p.a.tryCatch(function(){return JSON.parse(i.response)}).orElse(function(){return p.a.tryCatch(function(){return JSON.parse(i.responseText)})}).tapLeft(function(t){new u.a("WIGO").error(t)}).orElse(function(){return Object(p.b)(new Error("report is not available from xhr response"))}).fold(n,e)},i.onerror=n,i.send()})},t.prototype.enableWigo=function(t){void 0===t&&(t="enableFromAdSettings"),window.teads.WIGO_DEBUG_KEY=t,this.createDebugButton(this.color),this.recordUserActions()},t.prototype.setPlayerContainer=function(t){this.playerContainer=t,this.setElementToFollow(this.playerContainer)},t.prototype.setElementToFollow=function(t){this.elementToFollow=t,this.elementToFollowRelativeRect=Object(o.getClientRectRelativeToDocument)(Object(o.getBoundingClientRect)(t),{x:Object(o.getScrollLeft)(this.topWindow),y:Object(o.getScrollTop)(this.topWindow)})},t.prototype.valid=function(t,e,n,i){if(this.addValidEvent(t,e,{store:n,type:i}),"error"===i){var r=m.b.fromNullable(n),o=r.filter(l.isString).orElse(function(){return r.filter(function(t){return!!t.message}).map(function(t){return m.b.fromNullable(t.id).filter(function(t){return!!t}).map(function(e){return e+" - "+t.message}).getOrValue(""+t.message)})}).orElse(function(){return r.filter(function(t){return t.length>0}).map(String)}).getOrElse(function(){return JSON.stringify(n)});this.setStatus(!1,o)}else 3===t&&2===e?this.setStatus(!0,"AdLoaded"):3===t&&3===e&&this.setStatus(!0,"AdStarted")},t.prototype.vastEvent=function(t,e,n,i){if(this.addValidEvent(0,0,{store:{name:t,time:e,percent:n,pixels:i},type:"vastEvent"}),"complete"===t)this.setStatus(!0,"AdComplete");else if("pause"===t)this.setStatus(!0,"AdPaused"),this.lastTracking="pause";else if("pause"===this.lastTracking)this.lastTracking=null;else if("progress"===t){var r=e?e.split(".")[0]+"s":"";this.setStatus(!0,"AdPlaying: "+r)}},t.prototype.setStatus=function(t,e){void 0===e&&(e="");var n=t?"green":"red";this.button?(this.status.style.setProperty("background-color",n),this.status.style.setProperty("display","block"),this.loader.style.setProperty("display","none"),this.status.innerHTML=e):(this.color=n,this.statusDetails=e)},t.prototype.moveButton=function(e){this.bottomPxPosition=t.initialBottomPosition+(e-1)*t.bottomPxInterval,this.position=e,this.button&&this.button.style.setProperty("bottom",this.bottomPxPosition+"px")},t.prototype.followElement=function(){if(this.isActivated()){var e=Object(o.getBoundingClientRect)(this.elementToFollow);this.elementToFollowRelativeRect=Object(o.isEmptyBoundingClientRect)(e)?this.elementToFollowRelativeRect:Object(o.getClientRectRelativeToDocument)(e,{x:Object(o.getScrollLeft)(this.topWindow),y:Object(o.getScrollTop)(this.topWindow)});var n=Object(o.getClientRectFromClientRectRelativeToDocument)(this.elementToFollowRelativeRect,{x:Object(o.getScrollLeft)(this.topWindow),y:Object(o.getScrollTop)(this.topWindow)}),i=this.topWindow.innerHeight-this.buttonHeight-(t.initialBottomPosition+(t.instances.length-this.position)*t.bottomPxInterval),r=this.topWindow.innerHeight-n.bottom+n.height/2-this.buttonHeight/2,a=10;r<this.bottomPxPosition?r=this.bottomPxPosition:r>i?r=i:a=50,this.button.style.setProperty("bottom",r+"px"),this.button.style.setProperty("right",a+"px")}},t.prototype.forceReportWithKey=function(t){window.teads.WIGO_DEBUG_KEY=t,this.sendLogsToWigo(function(){})},t.prototype.isActivated=function(){return!(!window.teads.WIGO_DEBUG_KEY||!this.button)},t.prototype.setVast=function(t,e,n){void 0===n&&(n=""),this.logfile.vasts.push({url:t,content:e,uploadedUrl:n})},t.prototype.getVastUrl=function(t){var e;return m.b.fromNullable(null===(e=this.report)||void 0===e?void 0:e.vasts).map(function(e){return Object(g.filter)(e,function(e){return e.url===t})}).filter(g.isNotEmpty).map(function(t){return t[0].uploadedUrl}).getOrValue(t)},t.prototype.saveVast=function(t){window.location.hostname!==A&&"localhost"!==window.location.hostname||this.sendLogsToWigo(function(){},t)},t.prototype.recordUserActions=function(){var e=this;this.elapsedTime<3e5&&setTimeout(function(){var n=e.logfile.timeline[e.logfile.timeline.length-1],i=Object(o.getWindowSize)(e.topWindow),r=Object(o.getScrollLeft)(e.topWindow),a=Object(o.getScrollTop)(e.topWindow);if(!n||e.hasInteracted(n,i,r,a)){var s={time:e.elapsedTime,scrollX:r,scrollY:a,screenWidth:i.width,screenHeight:i.height,player:{top:0,height:0,left:0,width:0}};if(e.playerContainer){var c=Object(o.getBoundingClientRect)(e.playerContainer);s.player={top:c.top,height:c.height,left:c.left,width:c.width}}e.logfile.timeline.push(s)}e.elapsedTime+=t.recordUserActionsTiming,e.recordUserActions()},t.recordUserActionsTiming)},t.prototype.addValidEvent=function(t,e,n){this.logfile.steps.push({step:t,substep:e,info:n})},t.prototype.createDebugButton=function(e){var n=this;if(window.teads.WIGO_DEBUG_KEY&&!this.button){var r=this.topWindow.document.createElement("div");r.innerHTML=t.TEMPLATE,this.button=r.firstChild,this.button.onclick=function(t){n.openWigoReport(),t.stopPropagation()},this.button.style.setProperty("bottom",this.bottomPxPosition+"px"),this.topWindow.document.body.appendChild(this.button),this.status=this.button.firstChild,this.status.style.setProperty("background-color",e),this.status.innerHTML=this.statusDetails,this.loader=this.status.nextSibling,"blue"!==this.color?(this.status.style.setProperty("display","block"),this.loader.style.setProperty("display","none")):(this.status.style.setProperty("display","none"),this.loader.style.setProperty("display","block")),this.buttonHeight=Object(o.getBoundingClientRect)(this.button).height,Object(i.isAmp)()&&teads.helper.AmpResize&&("red"===e&&(teads.helper.AmpResize.ratio=4),setTimeout(function(){return n.forceAmpOpen()},1e3))}},t.prototype.forceAmpOpen=function(){var t=this;if(!teads.helper.AmpResize.isVisible()){var e=setTimeout(function(){return t.forceAmpOpen()},1e3);teads.helper.AmpResize.open(function(){t.button.style.setProperty("display","none"),setTimeout(function(){return t.button.style.setProperty("display","block")},100),clearTimeout(e)})}},t.prototype.openWigoReport=function(){var t=this;if(window.teads.WIGO_DEBUG_KEY){this.button.onclick=function(t){t.stopPropagation()};var e=function(e){setTimeout(function(){t.button.onclick=function(e){t.openWigoReport(),e.stopPropagation()}},500)};window.open(this.sendLogsToWigo(e))}},t.prototype.sendLogsToWigo=function(e,n){void 0===n&&(n=window.teads.WIGO_DEBUG_KEY+"_"+Object(r.a)()+".json"),this.logfile.logs=u.a.getFullLogs(),this.sendVastsToWigo(this.logfile.vasts);var i=Object(d.a)();return i.open("PUT",t.serviceUrl+"/livedebug/upload/"+n,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.onload=e,i.onerror=e,i.send(c.b(this.logfile,!0)),t.serviceUrl+"/livedebug?file="+n},t.prototype.sendVastsToWigo=function(e){Object(g.forEach)(Object(g.filter)(e,function(t){return!t.uploadedUrl}),function(e){var n=t.serviceUrl+"/livedebug/upload/"+Object(f.rand)(20,!1)+".xml",i=Object(d.a)();i.open("PUT",n,!0),i.setRequestHeader("Content-Type","application/xml; charset=UTF-8"),i.send(e.content),e.uploadedUrl=n,delete e.content})},t.prototype.hasInteracted=function(t,e,n,i){return t.scrollY!==i||t.scrollX!==n||t.screenHeight!==e.height||t.screenWidth!==e.width},t.bottomPxInterval=80,t.recordUserActionsTiming=1e3,t.serviceUrl=location.hostname.match(/(sandbox\.teads\.net|par2\.teads\.tech|wigo|localhost)$/)?Object(l.getProtocol)()+"//"+location.hostname+":18091":"https://"+A,t.instances=[],t.initialBottomPosition=10,t.TEMPLATE=y.a,t}(),O=function(t){return Object(a.b)(t,m.d.map(function(t){return t.toFixed(2)}),m.d.getOrValue(""))},E=function(t,e){return Object(a.b)(e,m.d.filter(function(t){return t>0}),m.d.map(function(e){return Object(a.b)(t,m.d.map(function(t){return 100*t}),m.d.getOrValue(0))/e}),m.d.map(Math.floor),m.d.getOrValue(0))},C=function(t){var e=t.wigo,n=t.durationPlayed,i=t.totalDuration;return function(t){var r=t.event,o=t.trackingUrls;return e.vastEvent(r,O(n),E(n,i),Object(g.map)(o,function(t){return{url:t}}))}}},function(t,e,n){function i(t,e){if(e)for(var n in e)t=t.replace(new RegExp(r+n+o,"g"),e[n]);return t}e.a=i;var r=(n(3),"{{"),o="}}"},function(t,e,n){var i=n(0),r=n(43),o=n(71),a=n(1),s=n(124),c=n.n(s),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.loadVpaid=function(n,i,r){n===e.CANVAS?this.loadBundled(e.CANVAS,i,r):n===e.VIDEO?this.loadBundled(e.VIDEO,i,r):t.prototype.loadVpaid.call(this,n,i,r)},e.prototype.loadBundled=function(t,n,i){var o=this;this.setUpCreativeContainers(this.container,t),a.b.fromNullable(this.getCreativeWindow(this.creativeContainer)).forEach(function(n){switch(n.teads=window.teads,n.teads.api=o.config.api,t){case e.VIDEO:o.vpaid=new n.teads.video.VPAIDVideo;break;case e.CANVAS:o.vpaid=new n.teads.video.VPAIDCanvas;break;default:return i(r.a)}}),a.b.fromNullable(this.vpaid).forEach(function(t){return n(t)})},e.prototype.getCreativeTemplate=function(t,e,n){return"\n      <!DOCTYPE html>\n      <html>\n        <head>\n            "+c.a+'\n        </head>\n        <body style="margin:0px;padding:0px;overflow:hidden">\n          <div id="video-container" style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+n+'"></div>\n          <div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div>\n        </body>\n      </html>\n    '},e.CANVAS="canvas",e.VIDEO="video",e}(o.a);e.a=u},function(t,e,n){var i=function(){function t(){}return t.READY="ready",t.ERROR="error",t.WAITING="waiting",t}();e.a=i},function(t,e,n){var i=n(191),r=n.n(i);n.d(e,"b",function(){return r.a});var o=n(192),a=n.n(o);n.d(e,"e",function(){return a.a});var s=n(275),c=n.n(s);n.d(e,"a",function(){return c.a});var u=n(277),d=(n.n(u),n(278)),l=n.n(d);n.d(e,"d",function(){return l.a});var p=n(280),h=n.n(p);n.d(e,"c",function(){return h.a});var f=n(282),g=(n.n(f),n(283)),m=(n.n(g),n(285)),b=(n.n(m),n(286)),v=n.n(b);n.d(e,"f",function(){return v.a});var y=n(288),A=n.n(y);n.d(e,"g",function(){return A.a})},function(t,e,n){n.d(e,"a",function(){return r}),n.d(e,"l",function(){return d}),n.d(e,"e",function(){return l}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return h}),n.d(e,"i",function(){return f}),n.d(e,"h",function(){return g}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"k",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return A});var i,r,o=n(0),a=n(3),s=n(6),c=n(10),u=n(2);!function(t){t.LimitedCapabilities="limitedCapabilities",t.PlacementCall="placementCall",t.FallbackIntegration="passback-integration",t.FallbackNoAd="passback-noAd",t.NoSlotSelector="noSlot-selector",t.HbNoSlotSelector="hbNoSlot-selector",t.NoSlotFilter="noSlot-filter",t.NoSlotAvoid="noSlot-avoid",t.NoSlotSize="noSlot-size",t.NoSlotBtf="noSlot-BTF",t.NoSlotMinimum="noSlot-minimum",t.NoSlotMinimumBelow="noSlot-minimumBelow",t.NoSlotContent="noSlot-content",t.NoSlotPosition="noSlot-position",t.NoSlotVideoArticle="noSlot-videoArticle",t.NoSlotVideoSlot="noSlot-videoSlot",t.NoSlotImageSlot="noSlot-imageSlot",t.NoSlotSafeFrame="noSlot-safeFrame",t.IncompatibilityBrowser="incompatibility-browser",t.IncompatibilityContext="incompatibility-context",t.IncompatibilityFormat="incompatibility-format",t.IncompatibilityVideo="incompatibility-video",t.PlacementCapping="placementCapping",t.SlotAvailable="slotAvailable",t.HbSlotAvailable="hbSlotAvailable",t.AdReceived="adReceived",t.AdNotAvailableNetworkError="adNotAvailable-networkError",t.AdNotAvailableServerError="adNotAvailable-serverError",t.AdAvailableErrorParseTimeout="adAvailable-error-parseTimeout",t.AdAvailableErrorBadResponse="adAvailable-error-badResponse",t.AdAvailableErrorVast="adAvailable-error-vast-{code}",t.AdAvailableErrorSettings="adAvailable-error-settings",t.AdAvailableErrorSameAd="adAvailable-error-sameAd",t.AdAvailableSuccess="adAvailable-success",t.AdCall="adCall",t.ErrorBeforeAdReached="errorBeforeAdReached",t.AdReached="adReached",t.NoAdServerError="noAd-serverError",t.NoAdNetworkError="noAd-networkError",t.NoAdVastError="noAd-vastError-{code}",t.NoAdParseTimeout="noAd-parseTimeout",t.NoAdSettingsError="noAd-settingsError",t.NoAdBadResponse="noAd-badResponse",t.NoAdSameAd="noAd-sameAd",t.NoAdIvtDoubleVerify="noAd-ivt-doubleVerify",t.NoAdIvtTag="noAd-ivt-tag",t.NoAdBlockedSiteDoubleVerify="noAd-blockedSite-doubleVerify",t.NoAdBlockedSiteTeads="noAd-blockedSite-teads",t.EarlyClick="early-click",t.ClickReplay="click-replay",t.Bts="bts",t.SlotVisibilityTiny="slotVisibility-tiny",t.SlotVisibilityInvalidDom="slotVisibility-invalid-dom",t.SlotVisibilityHiddenDisplay="slotVisibility-hidden-display",t.SlotVisibilityHiddenOverflow="slotVisibility-hidden-overflow",t.Warning="warning"}(r||(r={}));var d=Object(c.a)(s.a.of,s.f.filterOrElse(Object(a.isMemberOf)(["IVT DoubleVerify","IVT Tag","BlockedSite DoubleVerify","Teads Blacklist"]),function(t){return"Got an unknown fraud reason: "+t})),l=function(t){switch(t){case"tiny":return r.SlotVisibilityTiny;case"invalid-dom":return r.SlotVisibilityInvalidDom;case"hidden-display":return r.SlotVisibilityHiddenDisplay;case"hidden-overflow":return r.SlotVisibilityHiddenOverflow;default:return Object(u.exhaustive)(t)}},p=(i={},i[r.AdNotAvailableServerError]=r.NoAdServerError,i[r.AdNotAvailableNetworkError]=r.NoAdNetworkError,i[r.AdAvailableErrorVast]=r.NoAdVastError,i[r.AdAvailableErrorParseTimeout]=r.NoAdParseTimeout,i[r.AdAvailableErrorSettings]=r.NoAdSettingsError,i[r.AdAvailableErrorBadResponse]=r.NoAdBadResponse,i[r.AdAvailableErrorSameAd]=r.NoAdSameAd,i),h=Object.keys(p),f=Object(c.b)(h,a.cArray.filter(Object(u.not)(Object(u.equals)(r.AdAvailableErrorVast)))),g=Object(c.b)(h,a.cArray.map(function(t){return p[t]})),m=Object(c.b)(g,a.cArray.filter(Object(u.not)(Object(u.equals)(r.NoAdVastError)))),b=function(t){var e=Object(o.e)(t,2),n=e[0],i=e[1];return n.replace("{code}",i.toString())},v=function(t){return Object(c.b)(t.split("-"),a.last,function(t){return parseInt(t,10)},function(e){return[y(t)?r.AdAvailableErrorVast:r.NoAdVastError,e]})},y=function(t){return new RegExp(r.AdAvailableErrorVast.replace("{code}","\\d{3}")).test(t)},A=function(t){return new RegExp(r.NoAdVastError.replace("{code}","\\d{3}")).test(t)}},function(t,e,n){n.d(e,"a",function(){return o});var i=n(0),r=function(t){var e=Object(i.e)(t,2),n=Object(i.e)(e[0],2),r=n[0],o=n[1],a=Object(i.e)(e[1],2);return[[r,a[0]],[o,a[1]]]},o={bimap:function(t,e){return function(n){var r=Object(i.e)(n,2),o=r[0],a=r[1];return[t(o),e(a)]}},fstMap:function(t){return function(e){var n=Object(i.e)(e,2),r=n[0],o=n[1];return[t(r),o]}},sndMap:function(t){return function(e){var n=Object(i.e)(e,2),r=n[0],o=n[1];return[r,t(o)]}},biforeach:function(t,e){return function(n){var r=Object(i.e)(n,2),o=r[0],a=r[1];t(o),e(a)}},fstForeach:function(t){return function(e){var n=Object(i.e)(e,1),r=n[0];return t(r)}},sndForeach:function(t){return function(e){var n=Object(i.e)(e,2),r=n[1];return t(r)}},zip:r}},function(t,e,n){function i(t){var e=Number(t.getAdDuration()),n=t.getAdRemainingTime()>0?t.getAdRemainingTime():e;return e>0?e-n:0}function r(t){return!(t.getAdVolume()>0)}e.a=i,e.b=r},function(t,e,n){n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var i=n(3),r=function(t){return Object(i.includes)([36,37,38,39],t)},o=function(t){return Object(i.includes)([25],t)},a=function(t){return Object(i.includes)([22,23],t)}},function(t,e,n){function i(t){return t.fold(function(t){return t.insertionId},function(t){return 0===t.type||2===t.type?Object(g.c)(t.insertionId):g.a})}function r(t){return t.fold(function(t){return t.connectionId},function(t){return 1===t.type||2===t.type?Object(g.c)(t.connectionId):g.a})}function o(t){return Object(h.filter)(Object(h.map)(t,function(t){return t.url}),b.q)}function a(t){var e=Object(b.s)(t),n=e.pid,i=e.gid,r=e.sid;return{placementId:g.b.fromNullable(n).map(parseInt).filter(v.isNumber),insertionId:g.b.fromNullable(i).map(parseInt).filter(v.isNumber),connectionId:g.b.fromNullable(r).map(parseInt).filter(v.isNumber)}}function s(t){var e=t.placementId,n=t.insertionId,i=t.connectionId;return e.nonEmpty()&&n.nonEmpty()&&i.nonEmpty()}function c(t,e){return Object(f.d)({type:0,placementId:t,insertionId:e})}function u(t,e){return Object(f.d)({type:1,placementId:t,connectionId:e})}function d(t,e,n){return Object(f.d)({type:2,placementId:t,insertionId:e,connectionId:n})}function l(t,e){var n=e.insertionId,i=e.connectionId;return n.match({some:function(e){return i.map(function(n){return d(t,e,n)}).getOrElse(function(){return c(t,e)})},none:function(){return i.map(function(e){return u(t,e)}).getOrElse(function(){return Object(f.c)({placementId:Object(g.c)(t),insertionId:n,connectionId:i})})}})}function p(t,e){return t.orElse(function(t){return g.b.fromNullable(Object(h.head)(e)).map(a).match({none:function(){return y.warn("Could not extract all the business IDs from the Teads URLs, and there is no more URL to check"),Object(f.c)(t)},some:function(n){var i={placementId:n.placementId.orElse(function(){return t.placementId}),insertionId:n.insertionId.orElse(function(){return t.insertionId}),connectionId:n.connectionId.orElse(function(){return t.connectionId})};return i.placementId.match({none:function(){return p(Object(f.c)(i),Object(h.tail)(e)||[])},some:function(t){var n=Object(h.tail)(e)||[];return 0===n.length||s(i)?l(t,i):p(Object(f.c)(i),n)}})}})})}n.d(e,"a",function(){return A}),e.d=i,e.c=r,e.e=o,e.b=p;var h=n(3),f=n(6),g=n(1),m=n(4),b=n(16),v=n(2),y=new m.a("BusinessIds"),A=Object(f.c)({placementId:g.a,insertionId:g.a,connectionId:g.a})},function(t,e,n){n.d(e,"a",function(){return i});var i;!function(t){t[t.CANVAS=0]="CANVAS",t[t.HTML5=1]="HTML5",t[t.ANY=2]="ANY"}(i||(i={}))},function(t,e,n){var i=n(0),r=n(92),o=n(17),a=n(15),s=n(40),c=n(4),u=n(1),d=new c.a("Canvas"),l=function(t){function e(e,n,i){var r=t.call(this)||this;return r.container=e,r.cWidth=n,r.cHeight=i,r.totalPrintingTime=0,r.totalPrintedFrame=0,r.canvas=document.createElement("canvas"),r.canvas.width=n,r.canvas.height=i,r.canvas.style.setProperty("background","#000"),r.canvasContext=r.canvas.getContext("2d"),e.appendChild(r.canvas),r.initWebGL(),r}return Object(i.c)(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this.cWidth},set:function(t){this.cWidth=t,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.cHeight},set:function(t){this.cHeight=t,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this._videoHeight},set:function(t){this._videoHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this._videoWidth},set:function(t){this._videoWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.html5video?this.html5video.parentNode:this.canvas.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.html5video?this.html5video.style:this.canvas.style},enumerable:!1,configurable:!0}),e.prototype.useCustomDisplay=function(t){var e=this;this.html5video=t,u.b.fromNullable(this.canvas.parentNode).forEach(function(n){return n.replaceChild(t,e.canvas)}),this.resize()},e.prototype.resize=function(t,e){var n=this;u.b.fromNullable(this.html5video).match({some:function(){return n.resizeHtml5(t,e)},none:function(){return n.resizeCanvas(t,e)}}),this.dispatch(a.a.RESIZE,{width:this.width,height:this.height})},e.prototype.resizeCanvas=function(t,e){t&&(this.canvas.width=this.decoderWidth=t),e&&(this.canvas.height=this.decoderHeight=e);var n=this.cWidth/this.canvas.width,i=this.cHeight/this.canvas.height,r=parseInt(Math.max((this.cHeight-this.canvas.height*n)/2,0).toFixed(2),10),o=parseInt(Math.max((this.cWidth-this.canvas.width*i)/2,0).toFixed(2),10),a=Math.min(n,i);Object(s.applyVendorProperties)(this.canvas,"transformOrigin","0 0"),Object(s.applyVendorProperties)(this.canvas,"transform","translateX("+o+"px) translateY("+r+"px) scale("+a+")"),t&&e&&(this.gl?(this.gl.useProgram(this.program),this.gl.viewport(0,0,t,e)):this.canvasContext&&(this.currentRGBA=this.canvasContext.getImageData(0,0,t,e),Object(s.fillArray)(this.currentRGBA.data,255)))},e.prototype.resizeHtml5=function(t,e){this.html5video.style.setProperty("width",this.width+"px"),this.html5video.style.setProperty("height",this.height+"px")},e.prototype.renderFrame=function(t){var e=Object(s.now)();this.gl?this.renderFrameGL(t):this.renderFrame2D(t),this.totalPrintingTime+=Object(s.now)()-e,this.totalPrintedFrame++},e.prototype.renderHtmlImageElement=function(t){var e=Object(s.now)();this.canvasContext&&this.canvasContext.drawImage(t,0,0),this.totalPrintingTime+=Object(s.now)()-e,this.totalPrintedFrame++},e.prototype.averagePrintingTime=function(){return this.totalPrintingTime/this.totalPrintedFrame},e.prototype.initWebGL=function(){try{this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")}catch(t){return d.error('Unable to get a WebGL context: "'+t+'"'),!1}if(!this.gl)return!1;var t=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),this.gl.STATIC_DRAW),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.compileShader(this.gl.VERTEX_SHADER,r.SHADER_VERTEX_IDENTITY)),this.gl.attachShader(this.program,this.compileShader(this.gl.FRAGMENT_SHADER,r.SHADER_FRAGMENT_YCBCRTORGBA)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw new Error(this.gl.getProgramInfoLog(this.program));this.gl.useProgram(this.program),this.YTexture=this.createTexture(0,"YTexture"),this.CBTexture=this.createTexture(1,"CBTexture"),this.CRTexture=this.createTexture(2,"CRTexture");var e=this.gl.getAttribLocation(this.program,"vertex");return this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0),this.loadingProgram=this.gl.createProgram(),this.gl.attachShader(this.loadingProgram,this.compileShader(this.gl.VERTEX_SHADER,r.SHADER_VERTEX_IDENTITY)),this.gl.attachShader(this.loadingProgram,this.compileShader(this.gl.FRAGMENT_SHADER,r.SHADER_FRAGMENT_LOADING)),this.gl.linkProgram(this.loadingProgram),this.gl.useProgram(this.loadingProgram),e=this.gl.getAttribLocation(this.loadingProgram,"vertex"),this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0),!0},e.prototype.renderFrameGL=function(t){this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.YTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.codedWidth,this.canvas.height,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentY),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.CBTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.halfWidth,this.canvas.height/2,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentCr),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.CRTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.halfWidth,this.canvas.height/2,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentCb),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},e.prototype.compileShader=function(t,e){var n=this.gl.createShader(t);if(this.gl.shaderSource(n,e),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))throw new Error(this.gl.getShaderInfoLog(n));return n},e.prototype.createTexture=function(t,e){var n=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.uniform1i(this.gl.getUniformLocation(this.program,e),t),n},e.prototype.YCbCrToRGBA=function(t){for(var e,n,i,r,o,a=t.currentY,s=t.currentCb,c=t.currentCr,u=this.currentRGBA.data,d=0,l=t.codedWidth,p=t.codedWidth+(t.codedWidth-this.decoderWidth),h=0,f=t.halfWidth-(this.decoderWidth>>1),g=0,m=4*this.decoderWidth,b=4*this.decoderWidth,v=this.decoderWidth>>1,y=this.decoderHeight>>1,A=0;A<y;A++){for(var w=0;w<v;w++){e=s[h],n=c[h],h++,i=n+(103*n>>8)-179,r=(88*e>>8)-44+(183*n>>8)-91,o=e+(198*e>>8)-227;var O=a[d++],E=a[d++];u[g]=O+i,u[g+1]=O-r,u[g+2]=O+o,u[g+4]=E+i,u[g+5]=E-r,u[g+6]=E+o,g+=8;var C=a[l++],I=a[l++];u[m]=C+i,u[m+1]=C-r,u[m+2]=C+o,u[m+4]=I+i,u[m+5]=I-r,u[m+6]=I+o,m+=8}d+=p,l+=p,g+=b,m+=b,h+=f}},e.prototype.renderFrame2D=function(t){this.YCbCrToRGBA(t),this.canvasContext&&this.canvasContext.putImageData(this.currentRGBA,0,0)},e}(o.a);e.a=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SHADER_FRAGMENT_YCBCRTORGBA",function(){return i}),n.d(e,"SHADER_FRAGMENT_LOADING",function(){return r}),n.d(e,"SHADER_VERTEX_IDENTITY",function(){return o});var i=["precision mediump float;","uniform sampler2D YTexture;","uniform sampler2D CBTexture;","uniform sampler2D CRTexture;","varying vec2 texCoord;","void main() {","float y = texture2D(YTexture, texCoord).r;","float cr = texture2D(CBTexture, texCoord).r - 0.5;","float cb = texture2D(CRTexture, texCoord).r - 0.5;","gl_FragColor = vec4(","y + 1.4 * cr,","y + -0.343 * cb - 0.711 * cr,","y + 1.765 * cb,","1.0",");","}"].join("\n"),r=["precision mediump float;","uniform float loaded;","varying vec2 texCoord;","void main() {","float c = ceil(loaded-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),o=["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},function(t,e,n){var i=n(0),r=n(17),o=n(94),a=n(96),s=n(15),c=n(5),u=n(2),d=n(24),l=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.baseUrl=e,o.meta=n,o.stream=i,o.player=r,n.audio.length&&o.init(),o}return Object(i.c)(e,t),e.prototype.authorizeAudio=function(t){this.api?this.api.authorizeAudio(t):t()},e.prototype.play=function(t){void 0===t&&(t=0),this.api&&this.api.play(t)},e.prototype.pause=function(){this.api&&this.api.pause()},Object.defineProperty(e.prototype,"duration",{get:function(){return this.api?this.api.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.api?this.api.currentTime:0},set:function(t){this.api&&(this.api.currentTime=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.api?this.api.volume:0},set:function(t){this.api&&(this.api.volume=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorized",{get:function(){return!this.api||this.api.authorized},enumerable:!1,configurable:!0}),e.prototype.canplay=function(){return!this.api||this.api.canplay()},e.prototype.playing=function(){return!!this.api&&this.api.playing()},e.prototype.release=function(){this.api&&this.api.release()},e.prototype.init=function(){var t=this;(Object(c.isAndroid)()||Object(d.a)(Object(c.getIosVersion)(),"9.1")&&this.meta.infos.audio_size<4e5)&&Object(u.getAudioContext)()?this.api=new o.a(this.baseUrl,this.meta,this.stream,this.player.defaultVolume):this.api=new a.a(this.baseUrl,this.meta,this.player.defaultVolume),this.api.listen(s.a.CAN_PLAY,function(){return t.dispatch(s.a.CAN_PLAY)})},e}(r.a);e.a=l},function(t,e,n){var i=n(0),r=n(5),o=n(13),a=n(4),s=n(2),c=n(17),u=n(15),d=n(95),l=n(23),p=function(t){function e(e,n,i,c){void 0===c&&(c=0);var p=t.call(this)||this;p.baseUrl=e,p.meta=n,p.stream=i,p.aVolume=c,p.estimatedDuration=0,p.iosReady=!1,p.logger=new a.a("canvas.player.components.Audio"),p.file=new d.a(p.baseUrl,p.meta.audio,p.stream);var h=Object(s.getAudioContext)();return p.context=new h,p.file.listen(u.a.LOADED_DATA,Object(o.a)(p.oninit,p)),p.file.listen(u.a.PROGRESS,Object(o.a)(p.onloadprogress,p)),p.file.listen(u.a.LOADED,Object(o.a)(p.onload,p)),p.file.listen(u.a.CAN_PLAY,Object(o.a)(p.oncanplay,p)),p.file.state=l.a.INIT,Object(r.isIos)()&&(p.aVolume=0),p.iosReady=!Object(r.getIosVersion)(),p}return Object(i.c)(e,t),e.decodeAudioData=function(t,e,n,i){t.decodeAudioData(e.slice(0,e.byteLength),n,i)},e.prototype.authorizeAudio=function(t){if(void 0===t&&(t=function(){}),!this.iosReady){var e=Object(s.getAudioContext)(),n=this.context.createBuffer(1,1,44100),i=this.context.createBufferSource();i.buffer=n,i.connect(this.context.destination),i.start(0),i.disconnect(),this.context.close&&this.context.close(),this.context=new e,this.iosReady=!0,t()}},e.prototype.play=function(t){var e=this;if(void 0===t&&(t=0),this.file.state!==l.a.PLAYING&&this.volume&&this.iosReady){if(!this.buffer)return void setTimeout(function(){return e.play(t+.05)},50);this.resetAudio(),this.source&&(this.noteOnAt&&!t?(this.source.start(0,this.noteOnAt/1e3),this.noteOnAt=Date.now()-this.noteOnAt):(this.noteOnAt=Date.now()-1e3*t,this.source.start(0,t))),this.file.state=l.a.PLAYING}},e.prototype.pause=function(){this.file.state!==l.a.PAUSED&&this.source&&(this.noteOnAt=Date.now()-this.noteOnAt,this.source.stop(0),this.file.state!==l.a.STALLED&&(this.file.state=l.a.PAUSED))},e.prototype.canplay=function(){return this.file.canplay()},e.prototype.playing=function(){return this.file.state===l.a.PLAYING},e.prototype.release=function(){var t=this;this.context.close&&this.context.close().then(function(){t.buffer=null,t.gainNode&&t.gainNode.disconnect&&(t.gainNode.disconnect(),t.gainNode=null),t.source&&t.source.disconnect&&(t.source.disconnect(),t.source=null)}),this.file.state=l.a.ENDED},Object.defineProperty(e.prototype,"duration",{get:function(){return this.estimatedDuration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return(this.file.state===l.a.PLAYING?Date.now()-this.noteOnAt:this.noteOnAt)/1e3},set:function(t){this.file.state===l.a.PLAYING&&(this.pause(),this.noteOnAt=1e3*t,this.play())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.aVolume},set:function(t){this.aVolume=t,this.gainNode&&(this.gainNode.gain.value=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorized",{get:function(){return this.iosReady},enumerable:!1,configurable:!0}),e.prototype.oninit=function(t){var n=this;this.data=t,e.decodeAudioData(this.context,t,function(t){var e=Math.ceil(n.meta.infos.audio_size/n.meta.infos.chunk_size)*t.length;n.estimatedDuration=e/t.sampleRate,n.buffer=n.context.createBuffer(t.numberOfChannels,e,t.sampleRate),n.setToMainBuffer(t)},Object(o.a)(this.logger.error,this.logger))},e.prototype.onloadprogress=function(t){t&&(this.appendFileToData(t),this.decodeData())},e.prototype.onload=function(){var t=this;this.source&&this.source.buffer?this.estimatedDuration=this.source.buffer.duration:setTimeout(function(){return t.onload()},50)},e.prototype.appendFileToData=function(t){var e=new Uint8Array(this.data.byteLength+t.byteLength);e.set(new Uint8Array(this.data),0),e.set(new Uint8Array(t),this.data.byteLength),this.data=e.buffer.slice(0,e.buffer.byteLength)},e.prototype.decodeData=function(){var t=this;e.decodeAudioData(this.context,this.data,function(e){t.setToMainBuffer(e)},Object(o.a)(this.logger.error,this.logger))},e.prototype.setToMainBuffer=function(t){if(this.buffer)for(var e=0;e<t.numberOfChannels;e++){var n=this.buffer.getChannelData(e);n.set(t.getChannelData(e),0)}},e.prototype.oncanplay=function(){this.file.state=l.a.CAN_PLAY,this.dispatch(u.a.CAN_PLAY)},e.prototype.resetAudio=function(){if(this.source)try{this.source.stop(0)}catch(t){this.logger.debug("Error when resetting audio",t)}this.gainNode=this.context.createGain(),this.source=this.context.createBufferSource(),this.source&&(this.source.buffer=this.buffer,this.gainNode&&this.source.connect(this.gainNode)),this.gainNode&&this.gainNode.connect(this.context.destination),this.volume=this.aVolume},e}(c.a);e.a=p},function(t,e,n){var i=n(0),r=n(17),o=n(23),a=n(4),s=n(13),c=n(15),u=n(28),d=function(t){function e(e,n,i){var r=t.call(this)||this;return r.baseUrl=e,r.chunkUrls=n,r.streamType=i,r.chunkLoaded=0,r.chunkLength=0,r.loggerF=new a.a("canvas.player.components.File"),r.chunkNumStart=1,r.chunkNumCanPlay=3,r.chunkLength=r.chunkUrls.length,r.streamLoad(),r}return Object(i.c)(e,t),e.prototype.canplay=function(){return this.state===o.a.CAN_PLAY||this.state===o.a.PLAYING||this.state===o.a.PAUSED||this.state===o.a.LOADED||this.state===o.a.ENDED},e.prototype.streamLoad=function(){var t=this,e=this.baseUrl+"/"+this.chunkUrls.shift(),n=Object(u.a)();n.open("GET",e,!0),n.responseType="arraybuffer",n.addEventListener("load",function(e){t.chunkLoaded++,t.chunkLoaded===t.chunkNumStart?t.dispatch(c.a.LOADED_DATA,n.response):t.dispatch(c.a.PROGRESS,n.response),(t.chunkLoaded===t.chunkNumCanPlay||t.chunkLength<t.chunkNumCanPlay)&&t.dispatch(c.a.CAN_PLAY),t.chunkLoaded===t.chunkLength&&t.dispatch(c.a.LOADED),t.chunkUrls.length&&t.streamLoad()}),n.addEventListener("error",Object(s.a)(this.loggerF.error,this.loggerF)),n.send()},e}(r.a);e.a=d},function(t,e,n){var i=n(0),r=n(5),o=n(17),a=n(23),s=n(15),c=function(t){function e(e,n,i){void 0===i&&(i=0);var o=t.call(this)||this;return o.baseUrl=e,o.meta=n,o.fakeVolume=i,o.touchOk=!1,o.node=document.createElement("audio"),o.node.src=o.baseUrl+"/"+o.meta.audio[0].replace(/\.mp3\.\w\w\w/gi,".mp3"),o.node.preload="auto",o.dispatch(s.a.CAN_PLAY),r.isIos()&&(o.fakeVolume=0),o}return Object(i.c)(e,t),e.prototype.authorizeAudio=function(t){void 0===t&&(t=function(){}),(!this.touchOk||this.node.readyState<=2)&&(this.touchOk=!0,this.node.play(),this.node.pause(),t())},e.prototype.play=function(t){var e=this;void 0===t&&(t=0),0!==this.fakeVolume&&this.state!==a.a.PLAYING&&(this.node.readyState<=2?setTimeout(function(){return e.play(t+.1)},100):(t&&(this.currentTime=t),this.node.play(),this.state=a.a.PLAYING))},e.prototype.pause=function(){this.node.pause(),this.state=a.a.PAUSED},Object.defineProperty(e.prototype,"duration",{get:function(){return this.node.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.node.currentTime},set:function(t){this.node.currentTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.fakeVolume},set:function(t){0===t&&this.pause(),this.fakeVolume=t,this.node.volume=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorized",{get:function(){return this.touchOk&&this.node.readyState>=3},enumerable:!1,configurable:!0}),e.prototype.canplay=function(){return!0},e.prototype.playing=function(){return this.state===a.a.PLAYING},e.prototype.release=function(){},e}(o.a);e.a=c},function(t,e,n){var i=n(15),r=n(122),o=n.n(r),a=function(){function t(t){var e=this;this.player=t,this.initBufferDiv(),this.player.video.listen(i.a.STALLED,function(){return e.show()}),this.player.video.listen(i.a.RESUME_AFTER_STALLED,function(){return e.hide()}),this.player.video.listen(i.a.TIME_UPDATE,function(){return e.hide()}),this.player.listen(i.a.RESIZE,function(t){return e.resize(t)})}return t.prototype.show=function(){this.player.container.insertBefore(this.container,this.player.html5video||this.player.canvas||null)},t.prototype.hide=function(){this.container.parentNode&&this.player.container.removeChild(this.container)},t.prototype.resize=function(t){this.container.style.setProperty("top",t.height/2-this.container.offsetHeight+"px"),this.container.style.setProperty("left",t.width/2-this.container.offsetWidth/2+"px")},t.prototype.initBufferDiv=function(){var e=document.createElement("div");e.innerHTML=t.TEMPLATE,this.container=e.firstChild},t.TEMPLATE=o.a,t}();e.a=a},function(t,e,n){var i=n(0),r=n(17),o=n(23),a=n(28),s=n(40),c=n(15),u=n(5),d=n(1),l=n(21),p=n(13),h=n(2),f=2*"frame[xxxxxx]".length,g=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.meta=n,o.player=r,o.videoFrames=[],o.headBuffer=0,o.head=0,o.frameWait=1e3/24,o.frameRate=24,o.frameCachedLimit=24,o.reading=!1,o.decodingTime=0,o.extractTime=0,o.extractCount=0,o.load(e+"/"+n.tv),o}return Object(i.c)(e,t),e.prototype.canplay=function(){return this.head+this.frameCachedLimit<=this.videoFrames.length},e.prototype.play=function(){this.state!==o.a.PLAYING&&(this.state=o.a.PLAYING,this.isTickTimerStarted()||this.initTickTimer())},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED)},e.prototype.getCurrentTime=function(){return this.state===o.a.INIT?0:this.head/this.frameRate},e.prototype.setCurrentTime=function(t){var e=Math.ceil(t*this.frameRate);return!!this.videoFrames[e]&&(this.head=e,this.player.renderHtmlImageElement(this.videoFrames[this.head]),!0)},Object.defineProperty(e.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return this.decodingTime/this.videoFrames.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageExtractTime",{get:function(){return this.extractTime/this.extractCount},enumerable:!1,configurable:!0}),e.prototype.cleanStallTimeout=function(){},e.prototype.load=function(t){this.xhr=Object(a.a)(),this.xhr.open("GET",t,!0),this.xhr.responseType="text",this.xhr.onreadystatechange=Object(p.a)(this.onStateChange,this),this.xhr.onload=Object(p.a)(this.onload,this),this.xhr.send()},e.prototype.onStateChange=function(){this.xhr.responseText&&this.xhr.readyState>=3&&!this.reading&&(this.slidingWindowSize=d.b.fromNullable(this.meta.infos.maxFrameSize).filter(h.isNumber).map(function(t){return t+f}).getOrValue(10*this.meta.infos.averageFrameSize),this.readResponseRecursive())},e.prototype.readResponseRecursive=function(){if(this.reading){var t=Object(s.now)(),e=this.xhr.responseText.substr(this.headBuffer,this.slidingWindowSize),n=new RegExp("frame\\[("+this.videoFrames.length+")\\](.*)frame\\["+(this.videoFrames.length+1)+"\\]"),i=n.exec(e);if(this.extractTime+=Object(s.now)()-t,this.extractCount++,i)this.headBuffer+=7+this.videoFrames.length.toString().length+i[2].length,this.extractFrame(i);else{if(this.loaded){var r=new RegExp("frame\\[("+this.videoFrames.length+")\\](.*)"),o=r.exec(e);o&&(this.headBuffer+=7+this.videoFrames.length.toString().length+o[2].length,this.extractFrame(o))}this.headBuffer>=this.xhr.responseText.length&&(this.reading=!1,this.frameCachedLimit=0)}}else this.reading=!0,this.initTickTimer()},e.prototype.initTickTimer=function(){var t=this,e=function(){t.reading&&t.readResponseRecursive(),t.state===o.a.PLAYING&&t.loopPlay()};try{this.timer=l.c(e,1,Object(u.isAmpInABox)()||Object(u.isAmp)()||Object(u.isFacebookWebview)())}catch(t){this.tickInterval=setInterval(e,1)}},e.prototype.stopTickTimer=function(){this.timer?(this.timer.clear(),this.timer=null):this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null)},e.prototype.onload=function(){this.loaded=!0,this.dispatch(c.a.LOADED)},e.prototype.oninit=function(){this.state=o.a.INIT_VIDEO,this.player.resize(this.videoFrames[0].width,this.videoFrames[0].height),this.player.videoWidth=this.videoFrames[0].width,this.player.videoHeight=this.videoFrames[0].height,this.player.dispatch(c.a.LOADED_METADATA),this.player.dispatch(c.a.DURATION_CHANGE),this.player.dispatch(c.a.LOADED_DATA),this.player.renderHtmlImageElement(this.videoFrames[0])},e.prototype.oncanplay=function(){this.state===o.a.INIT_VIDEO&&(this.state=o.a.CAN_PLAY,this.dispatch(c.a.CAN_PLAY))},e.prototype.onstalled=function(){var t=this;this.state=o.a.STALLED,this.dispatch(c.a.STALLED),this.listen(c.a.LOADED,function(){return t.onresumestalled()})},e.prototype.onresumestalled=function(){this.state===o.a.STALLED&&this.dispatch(c.a.RESUME_AFTER_STALLED)},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(c.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.state=o.a.ENDED,this.dispatch(c.a.ENDED)},e.prototype.extractFrame=function(t){var e=this,n=Object(s.now)(),i=this.videoFrames[t[1]]=new Image;i.src="data:image/jpeg;base64,"+t[2],i.onload=function(){return e.decodingTime+=Object(s.now)()-n},1===this.videoFrames.length?i.onload=function(){return e.oninit()}:this.videoFrames.length>=this.frameCachedLimit&&this.oncanplay(),this.head+this.frameCachedLimit<=this.videoFrames.length&&this.onresumestalled()},e.prototype.loopPlay=function(){if(!(Object(s.now)()<this.targetTime)){this.head++;var t=this.targetTime?Math.max(-this.frameWait/2,this.targetTime-Object(s.now)()):0;this.head>=this.videoFrames.length-1?(this.loaded&&!this.reading?(this.stopTickTimer(),this.onfinish()):this.onstalled(),this.targetTime=0):this.state===o.a.PLAYING&&(this.targetTime=Object(s.now)()+this.frameWait+t),this.head&&this.videoFrames&&this.videoFrames[this.head]&&this.player.renderHtmlImageElement(this.videoFrames[this.head]),this.head%this.frameRate==0&&this.ondecodeframe()}},e.prototype.isTickTimerStarted=function(){return!this.timer&&!this.tickInterval},e}(r.a);e.a=g},function(t,e,n){var i=n(0),r=n(17),o=n(23),a=n(15),s=n(5),c=n(40),u=n(9),d=n(13),l=n(44),p=n(123),h=n.n(p),f=function(t){function e(n,i,r,a){var c=t.call(this)||this;c.meta=i,c.player=r,c.targetTime=0,c.frameWait=1e3/24,c.frameWaitS=1/24;var p=n+"/"+i.mp4;c.authorized=!!l.a[p]||!Object(s.isMobile)()&&!Object(s.isTablet)(),c.state=o.a.INIT_VIDEO,c.load(p),c.authorized||Object(u.addEventListener)("touchstart",a,Object(d.a)(c.authorize,c));var h=document.createElement("div");return h.innerHTML=e.TEMPLATE,c.player.container.appendChild(h.firstChild),c}return Object(i.c)(e,t),e.prototype.canplay=function(){return!0},e.prototype.play=function(){var t=this;this.state!==o.a.PLAYING&&this.authorized?(this.state=o.a.PLAYING,this.loopPlay()):this.authorized||this.listen(a.a.CAN_PLAY,function(){return t.play()})},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED,this.timer&&(clearTimeout(this.timer),this.timer=null))},e.prototype.getCurrentTime=function(){return this.video.currentTime},e.prototype.setCurrentTime=function(t){return!!(this.video.currentTime=t)},Object.defineProperty(e.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageExtractTime",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.cleanStallTimeout=function(){},e.prototype.authorize=function(){this.authorized||(this.video.play(),this.video.pause(),this.authorized=!0,this.oncanplay())},e.prototype.load=function(t){var e=this,n=!!l.a[t];this.video=l.a[t]=l.a[t]||document.createElement("video"),this.video.muted=!0,n||(this.video.src=t),this.player.useCustomDisplay(this.video),this.video.onload=function(){return e.onload()},this.video.ontimeupdate=function(){return e.ondecodeframe()},this.video.onloadedmetadata=function(){e.player.videoWidth=e.video.videoWidth,e.player.videoHeight=e.video.videoHeight,e.player.dispatch(a.a.LOADED_METADATA),e.player.dispatch(a.a.DURATION_CHANGE),e.player.dispatch(a.a.LOADED_DATA),e.oncanplay()}},e.prototype.onload=function(){this.dispatch(a.a.LOADED)},e.prototype.oncanplay=function(){this.state===o.a.INIT_VIDEO&&this.authorized&&(this.state=o.a.CAN_PLAY,this.dispatch(a.a.CAN_PLAY))},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(a.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.pause(),this.video.currentTime=0,this.state=o.a.ENDED,this.dispatch(a.a.ENDED)},e.prototype.loopPlay=function(){var t=this;if(this.video.currentTime+this.frameWaitS>this.video.duration)return this.video.currentTime=this.video.duration,this.onfinish();this.video.currentTime+=this.frameWaitS;var e=this.targetTime?Math.max(-this.frameWait/2,this.targetTime-Object(c.now)()):0;this.state===o.a.PLAYING&&(this.targetTime=Object(c.now)()+this.frameWait+e,this.timer=window.setTimeout(function(){return t.loopPlay()},this.frameWait+e))},e.TEMPLATE=h.a,e}(r.a);e.a=f},function(t,e,n){var i=n(0),r=n(17),o=n(23),a=n(15),s=n(9),c=n(13),u=n(44),d=function(t){function e(e,n,i,r){var a=t.call(this)||this;a.meta=n,a.player=i;var d=e+"/"+n.mp4;return a.authorized=!!u.a[d],a.state=o.a.INIT_VIDEO,a.load(d),a.authorized||Object(s.addEventListener)("touchstart",r,Object(c.a)(a.authorize,a)),a}return Object(i.c)(e,t),e.prototype.canplay=function(){return!0},e.prototype.play=function(){this.state!==o.a.PLAYING&&(this.state=o.a.PLAYING,this.video.play())},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED,this.video.pause())},e.prototype.getCurrentTime=function(){return this.video.currentTime},e.prototype.setCurrentTime=function(t){return!!(this.video.currentTime=t)},Object.defineProperty(e.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageExtractTime",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.cleanStallTimeout=function(){},e.prototype.authorize=function(){this.authorized||(this.authorized=!0,this.video.play(),this.state!==o.a.PLAYING&&this.video.pause(),this.oncanplay())},e.prototype.load=function(t){var e=this;this.video=u.a[t]=u.a[t]||document.createElement("video"),this.video.setAttribute("webkit-playsinline","true"),this.video.src=t,this.video.onload=function(){return e.onload()},this.video.onended=function(){return e.onfinish()},this.video.ontimeupdate=function(){return e.ondecodeframe()},this.video.onloadedmetadata=function(){e.player.videoWidth=e.video.videoWidth,e.player.videoHeight=e.video.videoHeight,e.player.dispatch(a.a.LOADED_METADATA),e.player.dispatch(a.a.DURATION_CHANGE),e.player.dispatch(a.a.LOADED_DATA),e.oncanplay()},this.player.useCustomDisplay(this.video)},e.prototype.onload=function(){this.dispatch(a.a.LOADED)},e.prototype.oncanplay=function(){this.state===o.a.INIT_VIDEO&&this.authorized&&(this.state=o.a.CAN_PLAY,this.dispatch(a.a.CAN_PLAY))},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(a.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.state=o.a.ENDED,this.dispatch(a.a.ENDED)},e}(r.a);e.a=d},function(t,e,n){var i=n(0),r=n(17),o=n(23),a=n(4),s=n(15),c=n(40),u=n(34),d=n(13),l=n(1),p=function(t){function e(e,n,i,r){var s=t.call(this)||this;s.meta=n,s.player=r,s.logger=new a.a("canvas.player.components.Video"),s.head=0,s.targetTime=0,s.decodeFinish=!1,s.benchFps=0,s.benchFpsRetained=0,s.benchFpsCount=0,s.fpsLimit=0,s.frameRate=24,s.frameStart=1,s.frameCachedLimit=24,s.videoFrames=[],s.frameWait=Math.floor(1e3/s.frameRate);var c=Object(u.b)('importScripts("'+s.player.parameters.assetsPath+'/teads-mpeg-decoder.min.js")');return s.worker=Object(u.c)().map(function(t){var i=new Worker(t.createObjectURL(c));return i.onmessage=Object(d.a)(s.onmessage,s),i.postMessage(["init",e,n]),i}),s.state=o.a.INIT,s}return Object(i.c)(e,t),e.prototype.canplay=function(){return this.state===o.a.CAN_PLAY||this.state===o.a.PLAYING||this.state===o.a.PAUSED||this.state===o.a.LOADED||this.state===o.a.ENDED},e.prototype.play=function(){this.state!==o.a.PLAYING&&(this.state=o.a.PLAYING,this.loopPlay())},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED)},e.prototype.getCurrentTime=function(){return this.state===o.a.INIT?0:this.head/this.frameRate},e.prototype.setCurrentTime=function(t){var e=Math.ceil(t*this.frameRate);return!!this.videoFrames[e]&&(this.cleanFrame(this.head,e),this.head=e,!0)},Object.defineProperty(e.prototype,"duration",{get:function(){return this.decodeFinish?this.videoFrames.length/this.frameRate:parseFloat(this.meta.infos.duration)},enumerable:!1,configurable:!0}),e.prototype.cleanStallTimeout=function(){var t=this;l.b.fromNullable(this.timeoutStalled).forEach(function(e){clearTimeout(e),t.timeoutStalled=null,t.state=o.a.PAUSED})},e.prototype.onload=function(){this.dispatch(s.a.LOADED),this.decodeFinish=!0},e.prototype.oninit=function(){this.benchFps=Object(c.now)(),this.state=o.a.INIT_VIDEO,this.renderFrame()},e.prototype.oncanplay=function(){this.state=o.a.CAN_PLAY,this.dispatch(s.a.CAN_PLAY)},e.prototype.onstalled=function(){var t=this;this.state=o.a.STALLED,this.dispatch(s.a.STALLED),this.listen(s.a.LOADED,function(){return t.onresumestalled()})},e.prototype.onresumestalled=function(){this.state===o.a.STALLED&&(this.cleanStallTimeout(),this.dispatch(s.a.RESUME_AFTER_STALLED))},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(s.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.state=o.a.ENDED,this.dispatch(s.a.ENDED)},e.prototype.onmessage=function(t){switch(t.data[0]){case"frame":this.appendFrames(t.data),this.videoFrames.length===this.frameStart?this.oninit():this.videoFrames.length===this.frameCachedLimit&&this.oncanplay();break;case"initCanvas":this.player.resize(t.data[1],t.data[2]);break;case"finish":this.averageDecodingTime=t.data[1],this.onload();break;default:this.logger.debug(t.data)}},e.prototype.appendFrames=function(t){var e=this;if(this.videoFrames.push({codedWidth:t[1],halfWidth:t[2],currentY:new Uint8Array(t[3]),currentCr:new Uint8Array(t[4]),currentCb:new Uint8Array(t[5])}),this.averageDecodingTime=t[6],++this.benchFpsCount===this.frameCachedLimit){this.benchFpsRetained=Object(c.now)()-this.benchFps;var n=Math.ceil(this.frameRate*this.benchFpsRetained/1e3);this.fpsLimit=Math.max(3,Math.min(this.frameCachedLimit,n+1))}this.state===o.a.STALLED&&this.head+this.frameCachedLimit<=this.videoFrames.length&&(this.averageDecodingTime<=1e3/this.frameRate?this.timeoutStalled||(this.logger.warn("We are stalled and have",this.frameCachedLimit,"in memory, but stalled for download, so wait",2*this.benchFpsRetained,"ms"),this.timeoutStalled=setTimeout(function(){return e.onresumestalled()},2*this.benchFpsRetained),this.dispatch(s.a.BENCH_FPS,2*this.benchFpsRetained)):this.onresumestalled())},e.prototype.loopPlay=function(){var t=this;this.head++;var e=this.targetTime?Math.max(-this.frameWait/2,Math.min(0,this.targetTime-Object(c.now)())):0;this.head>=this.videoFrames.length-1?(this.decodeFinish?this.onfinish():this.onstalled(),this.targetTime=0):this.state===o.a.PLAYING&&(this.targetTime=Object(c.now)()+this.frameWait,window.setTimeout(function(){return t.loopPlay()},this.frameWait+e)),this.renderFrame(),this.head%this.frameRate==0&&this.ondecodeframe()},e.prototype.renderFrame=function(){this.videoFrames[this.head]&&(this.player.renderFrame(this.videoFrames[this.head]),this.videoFrames[this.head]=null,this.videoFrames.length<this.head+this.fpsLimit&&(this.benchFps=Object(c.now)(),this.benchFpsCount=0,this.worker.forEach(function(t){return t.postMessage(["resume"])})))},e.prototype.cleanFrame=function(t,e){for(var n=t;n<e;n++)this.videoFrames[n]=null},e}(r.a);e.a=p},function(t,e,n){n.d(e,"a",function(){return i});var i;!function(t){t[t.FULL=0]="FULL",t[t.SMART=1]="SMART",t[t.NO_STREAM=2]="NO_STREAM"}(i||(i={}))},function(t,e,n){function i(){var t=u();if(t)return T.error("init","failed",t),I.a.error("SF "+t),t;b=new w.a;var e=g.self.w;return y.$sf.ext.register(e||y.innerWidth,1,function(t,e){return l(t,e)}),T.debug("init - register (width-innerWidth-geom)",e,y.innerWidth,g),r(function(){return g=y.$sf.ext.geom()}),t}function r(t){var e=k.push(t);return function(){return k[e-1]=function(){}}}function o(t){var e=L.push(t);return function(){return L[e-1]=function(){}}}function a(t){void 0===t&&(t=function(){}),T.debug("initSlot"),0===y.innerWidth?(T.debug("initSlot - window.innerWidth=0 so wait for resize"),f(t)):1===g.self.w&&1===g.self.h?p(t):t()}function s(t,e){void 0===e&&(e=function(){});var n=function(t){return d({name:"open "+t,action:function(){return y.$sf.ext.expand({b:t,r:v,push:!0})},callback:function(t){var n="expanded"===t;S=n?2:0,e(n)}})},i=g.self.h,r=t-i;2!==S&&r>0?y.$sf.ext.supports()["exp-push"]?r<=g.exp.b?(T.debug("open (askedHeight - currentHeight - allowed - requiredHeight)",t,i,g.exp.b,r),1===S?(T.debug("open - slot already open by init - close it before"),c(function(){var t=Math.min(Math.floor(y.$sf.ext.geom().exp.b),r);n(t)})):n(r)):(T.debug("open not allowed (askedHeight - currentHeight - allowed - requiredHeight)",t,i,g.exp.b,r),e(!1)):(T.error("open failed - exp-push not supported"),f(function(){return e(!0)}),e(!1)):(T.debug("already open (askedHeight - currentHeight - requiredHeight)",t,i,r),e(!0))}function c(t){void 0===t&&(t=function(){}),0!==S?(T.debug("close"),d({name:"close",action:function(){return y.$sf.ext.collapse()},callback:function(){return t(!0)}}),S=0):t(!0)}function u(){return Object(O.isIABSafeFrame)()?(y=Object(O.getIABSafeFrameWindow)(),Object(E.isUndefined)(y)?"IABSafeFrame window not found":y.$sf.ext.geom?(g=y.$sf.ext.geom())?y.$sf.ext.supports?void 0:"window.$sf.ext.supports not present":"window.$sf.ext.geom() return falsy value":"window.$sf.ext.geom not present"):"not in IABSafeFrame context"}function d(t){t&&(T.debug("processRequest add to list",t.name),j.push(t)),!m&&j.length&&(m=j.shift(),T.debug("processRequest - process",m.name),m.action())}function l(t,e){switch(T.debug("event received",t,e),t){case"expanded":case"collapsed":case"failed":m&&m.callback&&m.callback(t),m=null,d();break;case"geom-update":"focus-update"===(null===e||void 0===e?void 0:e.cmd)?Object(C.forEach)(P,function(t){return t(e)}):Object(C.forEach)(k,function(t){return t(e)});break;case"focus-change":Object(C.forEach)(P,function(t){return t(e)});break;case"cmpReturn":Object(C.forEach)(L,function(t){return t(e)})}}function p(t){if(y.$sf.ext.supports()["exp-push"]){T.debug("initSlot - 1x1 detected - need to wait to get the slot width available");var e=function(){T.debug("initSlot - 1x1 detected - expand available - get width"),d({name:"initial expand",action:function(){return y.$sf.ext.expand({r:g.exp.r,push:!0})},callback:function(e){var n="expanded"===e;S=n?1:0,n?(v=g.exp.r,T.debug("initSlot - 1x1 detected - initial expand done - width",v),t()):(T.error("initSlot - 1x1 detected - initial expand refused"),f(t))}})};if(g.exp.r)e();else var n=r(function(){g.exp.r&&(n(),e())})}else T.error("initSlot - 1x1 detected - but exp-push not supported"),f(t)}function h(t,e){return t>=10&&e>=10}function f(t){T.debug("wait for auto expand");var e=function(t){return Object(C.forEach)(t,function(t){return t()})},n=function(e,n){T.debug("slot has auto expanded with w: "+e+", h: "+n),S=2,t()};if(h(window.innerWidth,window.innerHeight))n(window.innerWidth,window.innerHeight);else{var i=r(function(){h(g.self.w,g.self.h)&&(e([i,o]),n(g.self.w,g.self.h))}),o=function(){return b.remove("resize")};b.add("resize",y,function(){h(window.innerWidth,window.innerHeight)&&(e([i,o]),n(window.innerWidth,window.innerHeight))})}}e.b=i,e.e=r,e.d=o,e.c=a,e.f=s,e.a=c;var g,m,b,v,y,A=n(4),w=n(38),O=n(5),E=n(2),C=n(3),I=n(42),S=0,T=new A.a("helper.IABSafeFrame"),j=[],k=[],P=[],L=[]},function(t,e,n){var i;!function(t){t[t.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",t[t.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",t[t.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",t[t.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED"}(i||(i={})),e.a=i},function(t,e,n){function i(t,e,n,i){Object.defineProperty(t,e,function(){var t={enumerable:!0,configurable:!0,get:function(){return n.call(this)},set:function(t){}};return i&&(t.set=function(t){i.call(this,t)}),t}())}e.a=i},function(t,e,n){var i=n(11),r=n(4),o=n(1),a=function(){function t(t,e){this.container=t,this.config=e,this.logger=new r.a("vpaid.BaseVPAIDContainer"),this.backgroundColor="#000000",this.id=e.id||Object(i.rand)(20,!1)}return t.prototype.setBackground=function(t){this.backgroundColor=t},t.prototype.destroy=function(){var t=this;try{!this.isDetroyed&&this.creativeContainer?(this.isDetroyed=!0,o.b.fromNullable(this.creativeContainer.parentNode).forEach(function(e){return e.removeChild(t.creativeContainer)}),this.creativeContainer=null,this.vpaid=null):this.isDetroyed&&this.logger.error("Cannot call destroy twice !")}catch(t){this.logger.error("unable to remove VPAID creative container: "+t)}},t.prototype.getVPAID=function(){return this.logger.info("getVPAIDAd - Retrieve ad from creative"),this.vpaid},t.prototype.getCreativeContainer=function(){return this.creativeContainer},t}();e.a=a},function(t,e,n){var i=n(4),r=n(3),o=n(7),a=n(156),s=n(109),c=n(45),u=n(43),d=n(125),l=n(49),p=n(1),h=function(){function t(t,e){this.config=e,this.vpaidAttribute={},this.logger=new i.a("vpaid.PostMessageClient"),this.eventHandler=new l.a,this.mainContainer=document.createElement("div"),this.mainContainer.style.setProperty("position","relative"),t.appendChild(this.mainContainer),this.iframeContainer=Object(o.createIframe)();var n=Object(r.join)(" ")(["allow-same-origin","allow-scripts","allow-popups","allow-top-navigation-by-user-activation"]);this.iframeContainer.setAttribute("sandbox",n),this.mainContainer.appendChild(this.iframeContainer),this.postMessage=new s.a(window,p.b.fromNullable(this.iframeContainer.contentWindow).getOrValue(window))}return t.prototype.initAPI=function(e,n,i){var r=this;this.logger.debug("init iframe API on url "+e);var o,a=function(e){e.type===d.a.READY_EVENT?(r.logger.debug("Got ready event from server !"),delete r.config.api,r.postMessage.callMethod(t.SETCONFIG_METHOD,[r.config])):e.type===d.a.CONFIGREADY_EVENT&&(r.logger.debug("Received configuration ready form server"),r.postMessage.removeCallback(),r.apiReady=!0,clearTimeout(o),n())};this.postMessage.setClientCallback(a),this.iframeContainer.src=e,o=setTimeout(function(){r.apiReady||(r.postMessage.removeCallback(),i(u.l),r.logger.error("server "+e+" didn't reply after "+c.d+"ms"))},c.d)},t.prototype.loadVpaid=function(e,n,i){var r=this;this.logger.debug("Request load VPAID "+e);var o;if(!this.apiReady)return this.logger.error("API is not ready, before use loadVpaid, you must init the API with the method initAPI"),i(u.j);var a=function(t){return t.type===d.a.VPAIDLOADED_EVENT?(r.logger.debug("received VPAID loaded from server!"),r.postMessage.removeCallback(),clearTimeout(o),r.onVpaidLoaded(n)):t.type===d.a.VPAIDLOADEDERROR_EVENT?(clearTimeout(o),i(t.data)):void 0};this.postMessage.setClientCallback(a),o=setTimeout(function(){r.postMessage.removeCallback(),i(u.k),r.logger.error("Timeout Error : Unable to load vpaid "+e+", server did not reply after "+c.d+"ms")},c.d),this.postMessage.callMethod(t.LOADVPAID_METHOD,[e])},t.prototype.getVPAID=function(){return this.vpaid},t.prototype.callVPAIDMethod=function(e,n){return void 0===n&&(n=[]),Object(r.indexOf)(t.getters,e)>=0?this.vpaidAttribute[e]:this.postMessage.callMethod(e,n)},t.prototype.getIframeContainer=function(){return this.iframeContainer},t.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},t.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},t.prototype.onVpaidLoaded=function(t){var e=this;this.vpaid=new a.a(this),this.postMessage.setClientCallback(function(t){if(t.type===d.a.ATTRIBUTE_EVENT)return void(e.vpaidAttribute=t.data);e.eventHandler.handleEvent(t)}),t(this.vpaid)},t.GETATTRIBUTESVALUES_METHOD="getAttributesValues",t.LOADVPAID_METHOD="loadVpaid",t.SETCONFIG_METHOD="setConfig",t.getters=["getAdWidth","getAdHeight","getAdDuration","getAdRemainingTime","getAdSkippableState","getAdLinear","getAdExpanded","getAdVolume"],t}();e.a=h},function(t,e,n){n.d(e,"a",function(){return o});var i=n(4),r=new i.a("VPAIDJSGuard"),o=function(){function t(){}return t.prototype.getVPAID=function(){return this.vpaid},t.prototype.initAd=function(t,e,n,i,r,o){this.vpaidguard("initAd",[t,e,n,i,r,o])},t.prototype.skipAd=function(){this.vpaidguard("skipAd")},t.prototype.resizeAd=function(t,e,n){void 0===n&&(n="normal"),this.vpaidguard("resizeAd",[t,e,n])},t.prototype.handshakeVersion=function(t){return this.vpaidguard("handshakeVersion",[t])},t.prototype.startAd=function(){this.vpaidguard("startAd",[])},t.prototype.stopAd=function(){this.vpaidguard("stopAd",[])},t.prototype.pauseAd=function(){this.vpaidguard("pauseAd",[])},t.prototype.resumeAd=function(){this.vpaidguard("resumeAd",[])},t.prototype.expandAd=function(){this.vpaidguard("expandAd",[])},t.prototype.collapseAd=function(){this.vpaidguard("collapseAd",[])},t.prototype.getAdLinear=function(){return this.vpaidguard("getAdLinear",[])},t.prototype.getAdWidth=function(){return this.vpaidguard("getAdWidth",[])},t.prototype.getAdHeight=function(){return this.vpaidguard("getAdHeight",[])},t.prototype.getAdExpanded=function(){return this.vpaidguard("getAdExpanded",[])},t.prototype.getAdSkippableState=function(){return this.vpaidguard("getAdSkippableState",[])},t.prototype.getAdRemainingTime=function(){return this.vpaidguard("getAdRemainingTime",[])},t.prototype.getAdDuration=function(){return this.vpaidguard("getAdDuration",[])},t.prototype.getAdVolume=function(){return this.vpaidguard("getAdVolume",[])},t.prototype.getAdCompanions=function(){return this.vpaidguard("getAdCompanions",[])},t.prototype.getAdIcons=function(){return this.vpaidguard("getAdIcons",[])},t.prototype.setAdVolume=function(t){return this.vpaidguard("setAdVolume",[t])},t.prototype.subscribe=function(t,e,n){this.vpaidguard("subscribe",[t,e,n])},t.prototype.unsubscribe=function(t,e){this.vpaidguard("unsubscribe",[t,e])},t.prototype.setVPAID=function(t){this.vpaid=t},t.prototype.vpaidguard=function(t,e){void 0===e&&(e=[]);try{return this.callVPAIDMethod(t,e)}catch(t){r.error('VPAID method guard error: "'+t+'"')}},t.prototype.callVPAIDMethod=function(t,e){return void 0===e&&(e=[]),this.vpaid[t].apply(this.vpaid,e)},t}()},function(t,e,n){n.d(e,"a",function(){return c});var i=n(19),r=n(47),o=n(4),a=n(8),s=new o.a("PostMessage"),c=function(){function t(t,e,n){void 0===n&&(n="*"),this.currentWindow=t,this.targetWindow=e,this.domain=n}return t.prototype.setClientCallback=function(t){var e=this;this.setCallback(function(n){t(e.parseEvent(n))})},t.prototype.setServerCallback=function(t){var e=this;this.setCallback(function(n){t(e.parse(n))})},t.prototype.removeCallback=function(){this.currentWindow.removeEventListener("message",this.callback,!1)},t.prototype.dispatchEvent=function(t,e){s.debug("dispatchEvent",t,e),this.post(this.targetWindow,this.stringify(t,e))},t.prototype.callMethod=function(t,e){s.debug("callMethod",t,e),this.post(this.targetWindow,this.stringify(t,e))},t.prototype.parseEvent=function(t){var e=this.parse(t);return new a.a(e.name,e.data)},t.prototype.post=function(t,e){t.postMessage(e,this.domain)},t.prototype.stringify=function(e,n){var o=void 0!==n?Object(r.b)(Object(i.b)(n)):"";return""+e+t.splitChar+o},t.prototype.parse=function(e){var n,o=e.data.split(t.splitChar),a=o[0];return o[1]&&(n=Object(i.a)(Object(r.a)(o[1]))),{name:a,data:n}},t.prototype.setCallback=function(t){var e=this;this.callback=function(n){n.source===e.targetWindow&&"string"==typeof n.data&&t(n)},this.currentWindow.addEventListener("message",this.callback,!1)},t.splitChar="_",t}()},function(t,e,n){var i={vpaidswfwrapper:"vpaidwrapper.swf",sandbox:"vpaid-sandbox.html"};e.a=i},function(t,e,n){var i=n(0),r=n(8),o=n(36),a=n(112),s=function(t){function e(e){var n=t.call(this,e)||this;return n.adDuration=-2,n.isVpaid2=Object(o.c)(n.vpaid),n}return Object(i.c)(e,t),e.prototype.handshakeVersion=function(t){return"2.0"},e.prototype.initAd=function(e,n,i,a,s,c){this.adWidth=e,this.adHeight=n,this.dispatchEvent(r.a.AdLog,"VPAID 1.0 creative"),t.prototype.initAd.call(this,e,n,i,a,s,c),this.isVpaid2=Object(o.c)(this.vpaid)},e.prototype.resizeAd=function(e,n,i){if(this.adWidth=e,this.adHeight=n,this.isVpaid2)return t.prototype.resizeAd.call(this,e,n,i);t.prototype.resizeAd.call(this,e,n),this.dispatchEvent(r.a.AdSizeChange)},e.prototype.getAdWidth=function(){return this.adWidth},e.prototype.getAdHeight=function(){return this.adHeight},e.prototype.skipAd=function(){this.isVpaid2?t.prototype.skipAd.call(this):(this.dispatchEvent(r.a.AdSkipped),this.stopAd())},e.prototype.getAdSkippableState=function(){return!!this.isVpaid2&&t.prototype.getAdSkippableState.call(this)},e.prototype.getAdIcons=function(){return!!this.isVpaid2&&t.prototype.getAdIcons.call(this)},e.prototype.getAdCompanions=function(){return this.isVpaid2?t.prototype.getAdCompanions.call(this):""},e.prototype.getAdDuration=function(){return this.isVpaid2?t.prototype.getAdDuration.call(this):this.adDuration},e.prototype.handleVpaidEvent=function(e){if(!this.isVpaid2)switch(e.type){case r.a.AdRemainingTimeChange:this.getAdRemainingTime()>0&&(this.adDuration<=0||this.getAdRemainingTime()>this.adDuration)&&(this.adDuration=this.getAdRemainingTime())}t.prototype.handleVpaidEvent.call(this,e)},e}(a.a);e.a=s},function(t,e,n){var i=n(0),r=n(9),o=n(72),a=n(8),s=n(39),c=n(113),u=n(26),d=n(45),l=n(1),p=n(2),h=function(t){function e(e){var n=t.call(this)||this;return n.lastAdRemainingTime=-1,l.b.fromNullable(e.getVPAID()).forEach(function(t){return n.setVPAID(t)}),n.type=e.getType(),n.container=e,n.container.registerVPAIDEventHandler(function(t){switch(t.type){case a.a.AdRemainingTimeChange:case a.a.AdDurationChange:return}n.handleVpaidEvent(t)}),n}return Object(i.c)(e,t),e.prototype.initAd=function(e,n,i,r,o,a){this.container.resize(e,n),this.type===s.a.JS&&"string"==typeof o&&(o={AdParameters:o}),t.prototype.initAd.call(this,e,n,i,r,o,this.type===s.a.JS?this.getEnvironmentVars(a):null)},e.prototype.setAdVolume=function(e){var n=this;return this.environmentVars.forEach(function(t){l.b.fromNullable(t.videoSlot).forEach(function(t){var i=function(e){e.type===o.volumechange&&n.dispatchEvent(a.a.AdVolumeChange),r.removeEventListener(o.volumechange,t,i)};r.addEventListener(o.volumechange,t,i),t.volume=e,t.muted=!e})}),t.prototype.setAdVolume.call(this,e),this.dispatchEvent(a.a.AdVolumeChange),e},e.prototype.getAdVolume=function(){var e=this;return this.environmentVars.flatMap(function(t){return l.b.fromNullable(t.videoSlot)}).filter(function(t){return!Object(p.isUndefined)(t.volume)}).match({some:function(t){return t.muted?0:t.volume},none:function(){return t.prototype.getAdVolume.call(e)}})},e.prototype.resizeAd=function(e,n,i){this.isResizing=!0,this.container.resize(e,n),t.prototype.resizeAd.call(this,e,n,i)},e.prototype.getEnvironmentVars=function(t){return this.container.getEnvironmentVars(t)},e.prototype.handleVpaidEvent=function(e){var n=this;switch(e.type){case a.a.AdSizeChange:this.isResizing||this.container.resize(this.getAdWidth(),this.getAdHeight()),this.isResizing=!1;break;case a.a.AdStarted:this.startTimer();break;case a.a.AdStopped:this.stopTimer()}t.prototype.handleVpaidEvent.call(this,e),this.status===u.a.STOPPED&&(this.status=u.a.REMOVING,setTimeout(function(){n.status=u.a.REMOVED,n.container.destroy()},d.a))},e.prototype.startTimer=function(){var t=this;this.timerId||(this.timerId=setInterval(function(){var e=t.getAdRemainingTime();t.status<u.a.COMPLETE&&e>=0&&t.lastAdRemainingTime!==e&&(t.lastAdRemainingTime=e,t.dispatchEvent(a.a.AdRemainingTimeChange),t.dispatchEvent(a.a.AdDurationChange))},250))},e.prototype.stopTimer=function(){this.timerId&&clearInterval(this.timerId)},e}(c.a);e.a=h},function(t,e,n){var i=n(0),r=n(3),o=n(32),a=n(1),s=n(4),c=n(39),u=n(45),d=n(26),l=n(49),p=n(8),h=n(36),f=n(108),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=d.a.READY,e.type=c.a.JS,e.environmentVars=a.b.empty(),e.timeoutId={},e.dispatchedEvents={},e.wigo=a.b.empty(),e.eventHandler=new l.a,e}return Object(i.c)(e,t),e.log=function(t){r.indexOf(e.hasLogged,t)<0&&(e.logger.info(t),e.hasLogged.push(t))},e.prototype.initAd=function(e,n,i,r,o,s){void 0===o&&(o="");try{Object(h.a)("initAd",this.status)}catch(t){return this.dispatchEvent(p.a.AdLog,t)}this.status=d.a.LOADING,this.environmentVars=a.b.fromNullable(s),t.prototype.initAd.call(this,e,n,i,r,o,s)},e.prototype.handleAdCallTimeout=function(t){var e=this,n=u.b-t,i=function(){e.dispatchedEvents[p.a.AdLoaded]||e.dispatchEvent(p.a.AdError,{message:"Creative did not initiated after "+u.b+"ms (current status "+e.status+")",id:o.b.GENERAL.id})};!this.timeoutId.initAd&&n>0?this.timeoutId.initAd=setTimeout(i,n):n<0&&i()},e.prototype.startAd=function(){var e=this;try{Object(h.a)("startAd",this.status)}catch(t){return this.dispatchEvent(p.a.AdLog,t)}this.status=d.a.STARTING,this.timeoutId.startAd=setTimeout(function(){e.dispatchedEvents[p.a.AdStarted]||e.dispatchEvent(p.a.AdError,{message:"Creative did not start after "+u.h+"ms",id:o.b.GENERAL.id})},u.h),t.prototype.startAd.call(this)},e.prototype.stopAd=function(){var e=this;this.status>d.a.STOPPING&&(this.status=d.a.STOPPING,this.clearAllTimeout(),this.timeoutId.stopAd=setTimeout(function(){e.dispatchedEvents[p.a.AdStopped]||(e.dispatchEvent(p.a.AdLog,"Creative did not stop after "+u.i+"ms, force stop !"),e.dispatchEvent(p.a.AdStopped))},u.i),this.environmentVars.forEach(function(t){return a.b.fromNullable(t.videoSlot).forEach(function(t){return t.volume=0})}),t.prototype.stopAd.call(this))},e.prototype.skipAd=function(){var e=this;if(this.status>d.a.SKIPPING){this.status=d.a.SKIPPING,this.timeoutId.skipAd=setTimeout(function(){e.status>=d.a.SKIPPING&&(e.dispatchEvent(p.a.AdLog,"Creative did not skip after "+u.g+"ms, force skip !"),e.dispatchEvent(p.a.AdSkipped),e.stopAd())},u.g);try{t.prototype.skipAd.call(this)}catch(t){this.dispatchEvent(p.a.AdLog,"SkipAd throw an exception "+t)}}},e.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},e.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},e.prototype.getAdWidth=function(){var t=this.vpaid.getAdWidth(),e=this.environmentVars.flatMap(function(t){return a.b.fromNullable(t.slot).map(function(t){return t.offsetWidth})});return String(t).indexOf("%")>-1&&e.nonEmpty()?e.getOrValue(0):String(t).indexOf("px")?parseInt(String(t).replace("px",""),10):t},e.prototype.getAdHeight=function(){var t=this.vpaid.getAdHeight(),e=this.environmentVars.flatMap(function(t){return a.b.fromNullable(t.slot).map(function(t){return t.offsetHeight})});return(String(t).indexOf("%")>-1||parseInt(String(t),10)<=0)&&e.nonEmpty()?e.getOrValue(0):String(t).indexOf("px")?parseInt(String(t).replace("px",""),10):t},e.prototype.setWigo=function(t){this.wigo=a.b.fromNullable(t)},e.prototype.getTeadsEnvironmentVars=function(){return this.vpaid.getTeadsEnvironmentVars?this.vpaid.getTeadsEnvironmentVars():this.environmentVars},e.prototype.vpaidguard=function(t,n){void 0===n&&(n=[]);try{if(this.status!==d.a.REMOVED)return this.callVPAIDMethod(t,n)}catch(n){switch(t){case"initAd":case"startAd":this.dispatchEvent(p.a.AdError,{message:"error call "+t+": "+n,id:o.b.GENERAL.id});break;default:this.dispatchEvent(p.a.AdLog,"error call "+t+": "+n)}e.logger.error("vpaidguard -> vpaid creative threw an error for "+t,n)}},e.prototype.dispatchEvent=function(t,e){return this.handleVpaidEvent(new p.a(t,e))},e.prototype.handleVpaidEvent=function(t){if(this.status!==d.a.REMOVED){var n=[p.a.AdLoaded,p.a.AdStarted,p.a.AdVideoStart,p.a.AdVideoComplete,p.a.AdSkipped,p.a.AdStopped,p.a.AdError];if(!(r.indexOf(n,t.type)>-1&&this.dispatchedEvents[t.type])){if(this.status>d.a.STOPPED)switch(t.type){case p.a.AdLoaded:this.status=d.a.LOADED,this.clearTimeout("initAd"),e.log("AdLoaded - Response from initAd"),this.wigo.forEach(function(t){return t.valid(3,2)});break;case p.a.AdStarted:this.status=this.status<d.a.STARTED?d.a.STARTED:this.status,this.clearTimeout("startAd"),e.log("AdStarted - Response from startAd"),this.wigo.forEach(function(t){return t.valid(3,3)});break;case p.a.AdVideoStart:case p.a.AdPlaying:this.status=d.a.PLAYING;break;case p.a.AdPaused:this.status=d.a.PAUSED;break;case p.a.AdVideoComplete:this.status=d.a.COMPLETE;break;case p.a.AdSkipped:this.status=d.a.SKIPPED,this.clearAllTimeout();break;case p.a.AdStopped:this.status=d.a.STOPPED,this.clearAllTimeout();break;case p.a.AdError:e.logger.info("AdError - ",t.data),this.wigo.forEach(function(e){return e.valid(3,4,t.data,"error")})}this.dispatchedEvents[t.type]||(this.dispatchedEvents[t.type]=0),this.dispatchedEvents[t.type]++,this.eventHandler.handleEvent(t),t.type===p.a.AdError&&this.stopAd()}}},e.prototype.clearTimeout=function(t){this.timeoutId[t]&&clearTimeout(this.timeoutId[t])},e.prototype.clearAllTimeout=function(){for(var t in this.timeoutId)this.timeoutId.hasOwnProperty(this.timeoutId[t])&&this.clearTimeout(this.timeoutId[t])},e.logger=new s.a("vpaid.BaseVPAIDJSWrapper"),e.hasLogged=[],e}(f.a);e.a=g},function(t,e,n){n.d(e,"h",function(){return u}),n.d(e,"g",function(){return d}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return g}),n.d(e,"b",function(){return m}),n.d(e,"f",function(){return b}),n.d(e,"e",function(){return v}),n.d(e,"d",function(){return y}),n.d(e,"i",function(){return A}),n.d(e,"k",function(){return w}),n.d(e,"j",function(){return O}),n.d(e,"n",function(){return E}),n.d(e,"m",function(){return C}),n.d(e,"l",function(){return I});var i=n(1),r=n(10),o=n(2),a={type:"ClassicFormatTrackingStore",trackedEvents:[],customTrackings:[]},s={type:"HeaderBiddingFormatTrackingStore",trackedEvents:[]},c={type:"DebugTrackingStore",trackedEvents:[]},u={type:"VastTrackingStore",trackings:[],progressTrackings:[],trackedEvents:[],trackedProgressOffsets:[],alreadyBilledAdvertiser:{whenAnalyticsOnlyTrue:!1,whenAnalyticsOnlyFalse:!1},studioCreativeId:i.a,customTrackings:[],customProgressTrackings:[],trackBillable:!1},d={type:"ThirdPartyVastTrackingStore",trackings:[],progressTrackings:[],trackedEvents:[],trackedProgressOffsets:[],customTrackings:[],customProgressTrackings:[]},l={type:"ThirdPartyTrackingStore",trackedEvents:[]},p={},h=function(t){return Object(o.isUndefined)(p[t])&&(p[t]={classicFormatStore:a,headerBiddingFormatStore:s,debugStore:c,vastStore:u,thirdPartyVastStore:d,thirdPartyStore:l}),p[t]},f=Object(r.a)(h,Object(o.prop)("classicFormatStore")),g=Object(r.a)(h,Object(o.prop)("headerBiddingFormatStore")),m=Object(r.a)(h,Object(o.prop)("debugStore")),b=Object(r.a)(h,Object(o.prop)("vastStore")),v=Object(r.a)(h,Object(o.prop)("thirdPartyVastStore")),y=Object(r.a)(h,Object(o.prop)("thirdPartyStore")),A=function(t){return function(e){return Object(r.b)(h(t),function(t){return t.classicFormatStore=e})}},w=function(t){return function(e){return Object(r.b)(h(t),function(t){return t.headerBiddingFormatStore=e})}},O=function(t){return function(e){return Object(r.b)(h(t),function(t){return t.debugStore=e})}},E=function(t){return function(e){return Object(r.b)(h(t),function(t){return t.vastStore=e})}},C=function(t){return function(e){return Object(r.b)(h(t),function(t){return t.thirdPartyVastStore=e})}},I=function(t){return function(e){return Object(r.b)(h(t),function(t){return t.thirdPartyStore=e})}}},function(t,e,n){n.d(e,"a",function(){return i});var i;!function(t){t.AD_VERIFICATIONS="AdVerifications",t.MOAT_JS="MoatJs",t.VISIBILITY="Visibility",t.HTML="Html",t.IFRAME="Iframe",t.SCRIPT="Script",t.ALENTY="Alenty",t.TEADS_IAS="teads-IAS"}(i||(i={}))},function(t,e,n){function i(t){return"video/mp4"===t}function r(t){return"video/webm"===t}function o(t){return c.a.tryCatch(function(){return!!document.createElement("video").canPlayType(t)}).getOrElse(function(){return!1})}function a(t){return Object(s.isSDK)()?Object(s.isIos)()?i(t):!!Object(s.isAndroid)()&&(i(t)||r(t)):o(t)}e.a=a;var s=n(5),c=n(6)},function(t,e,n){var i=n(5),r=n(1),o=n(4),a=n(16),s=n(26),c=n(39),u=n(43),d=n(142),l=n(82),p=n(154),h=n(155),f=n(71),g=n(157),m=n(158),b=n(36),v=n(160),y=n(111),A=n(112),w=function(){function t(t,e){this.container=t,this.config=e,this.status=d.a.READY,this.wigo=r.b.empty()}return t.prototype.load=function(e,n,i){var r=this;if(!(this.status>d.a.READY)){var o,l;e=Object(a.u)(e),this.config.sandbox?(this.creativeType=c.a.POSTMESSAGE,l=h.a):(l=this.findContainerConstructor(e),this.creativeType=l===g.a?c.a.SWF:c.a.JS),this.container.innerHTML="",this.status=d.a.LOADING;var p=function(a){r.status=s.a.LOADED,r.wrapperClass||(r.wrapperClass=r.creativeType!==c.a.SWF||Object(b.c)(a)?A.a:y.a,Object(m.a)(e)&&(r.wrapperClass=v.a));var d=new r.wrapperClass(o);try{n(d)}catch(t){var l=u.m;l.message+=t,i(l)}var p=Object(b.c)(a)?"2.0":"1.0";t.logger.info("handshakeVersion - Creative vpaid version "+p),r.wigo.forEach(function(t){return t.valid(3,1,p,"string")})};o=new l(this.container,this.config),this.config.background&&o.setBackground(this.config.background),o.loadVpaid(e,p,i)}},t.prototype.findContainerConstructor=function(t){return Object(i.isAmp)()||Object(i.isIABSafeFrame)()?p.a:t===l.a.VIDEO||t===l.a.CANVAS?l.a:".swf"===Object(a.r)(t).pathname.substr(-4)?g.a:f.a},t.prototype.setWigo=function(t){this.wigo=r.b.fromNullable(t)},t.logger=new o.a("vpaid.VPAIDLoader"),t}();e.a=w},function(t,e,n){n.d(e,"a",function(){return i});var i;!function(t){t[t.UNSUPPORTED=0]="UNSUPPORTED",t[t.FLASH=1]="FLASH",t[t.JS=2]="JS",t[t.VPAID=3]="VPAID",t[t.CANVAS=4]="CANVAS"}(i||(i={}))},,function(t,e,n){function i(t){var e;return t&&t.extensions&&t.extensions.length>0&&s.forEach(t.extensions,function(t){t.type===c&&(e=o(t.content))}),e}function r(t){return!!i(t)}function o(t){try{return JSON.parse(t)}catch(t){new a.a("TeadsStudioExtension").error(c+" extension throw an exception",t)}}n.d(e,"a",function(){return c}),e.b=i,e.c=r,e.d=o;var a=n(4),s=n(3),c="teads-studio"},function(t,e,n){var i;!function(t){t[t.ERROR=-1]="ERROR",t[t.UNSTARTED=0]="UNSTARTED",t[t.WAITING=1]="WAITING",t[t.READY=2]="READY"}(i||(i={})),e.a=i},function(t,e){t.exports="<div class=\"loader\"> <style> .loader:before, .loader:after, .loader { border-radius: 50%; width: 1.5em; height: 1.5em; -webkit-animation-fill-mode: both; animation-fill-mode: both; -webkit-animation: load7 1.8s infinite ease-in-out; animation: load7 1.8s infinite ease-in-out; } .loader { font-size: 8px; margin-left: -8px; position: absolute; left: 50%; top: 30%; z-index: 10; text-indent: -9999em; -webkit-transform: translateZ(0); -ms-transform: translateZ(0); transform: translateZ(0); -webkit-animation-delay: -0.16s; animation-delay: -0.16s; } .loader:before { left: -2em; -webkit-animation-delay: -0.32s; animation-delay: -0.32s; } .loader:after { left: 2em; } .loader:before, .loader:after { content: ''; position: absolute; top: 0; } @-webkit-keyframes load7 { 0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em #ffffff; } 40% { box-shadow: 0 2.5em 0 0 #ffffff; } } @keyframes load7 { 0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em #ffffff; } 40% { box-shadow: 0 2.5em 0 0 #ffffff; } } </style> loading...</div> "},function(t,e){t.exports="<style> /* This used to work for parent element of button divs */ /* But it is not enough now, below dont hide play button parent div */ *::-webkit-media-controls-panel { display: none!important; -webkit-appearance: none; } /* Old shadow dom for play button */ *::--webkit-media-controls-play-button { display: none!important; -webkit-appearance: none; } /* New shadow dom for play button */ /* This one works */ *::-webkit-media-controls-start-playback-button { display: none!important; -webkit-appearance: none } </style> "},function(t,e){t.exports="<script type='text/javascript'> var source; window.addEventListener('message', function(event) { if (event.data && event.data.event === 'reportingObserverSource') { source = event.source; } }, true); if (\"ReportingObserver\" in window) { try { const observer = new ReportingObserver(function (reports) { reports.forEach(function (report) { if (source) { source.postMessage({ event: 'heavyAdIntervention', report: JSON.stringify(report) }, '*'); } }) }, {buffered: true}); observer.observe(); } catch (e) { } } <\/script> "},function(t,e,n){n.d(e,"a",function(){return p});var i=n(47),r=n(6),o=n(4),a=n(3),s=n(36),c=n(109),u=n(107),d=n(8),l=n(117),p=function(){function t(e,n){var i=this;this.container=e,this.assetPath=n,this.logger=new o.a("vpaid.PostMessageServer"),this.timerDelay=250,this.logger.debug("Init postMessageAPI",e),this.postMessage=new c.a(window,window.parent.parent),this.postMessage.setServerCallback(function(t){i.callMethod(t.name,t.data)}),this.postMessage.dispatchEvent(t.READY_EVENT),r.a.tryCatch(function(){i.logger.debug("End Init postMessageAPI",e,window,window.parent.parent)})}return t.prototype.callMethod=function(e,n){switch(this.logger.debug("call method "+e,n),e){case u.a.LOADVPAID_METHOD:return this.loadVpaid(n[0]);case u.a.SETCONFIG_METHOD:this.config=n[0],this.logger.debug("Received configuration Object",this.config),this.config.sandbox=!1,this.config.path=this.assetPath,this.postMessage.dispatchEvent(t.CONFIGREADY_EVENT);break;default:this.callVPAIDMethod(e,n)}},t.prototype.callVPAIDMethod=function(t,e){try{var n=function(t,e){return 4===e?{AdParameters:t}:t},r=function(t,e){return"initAd"===t&&!!e&&!Object(i.c)(e[4])}(t,e)?Object(a.map)(e,n):e;return this.vpaid[t].apply(this.vpaid,r)}catch(n){var o="Error calling method "+t+"("+e+")";this.postMessage.dispatchEvent(d.a.AdLog,o),this.logger.error(o,n)}},t.prototype.loadVpaid=function(e){var n=this;new l.a(this.container,this.config).load(e,function(e){n.logger.debug("VPAID Loaded !",e),n.vpaid=e;for(var i in d.a)d.a.hasOwnProperty(i)&&n.vpaid.subscribe(Object(s.b)(function(t){t.type===d.a.AdStopped&&clearInterval(n.timerId),n.postMessage.dispatchEvent(t.type,t.data)},i),i);n.postMessage.dispatchEvent(t.VPAIDLOADED_EVENT),n.sendGettersValues(),n.timerId=setInterval(function(){n.sendGettersValues()},n.timerDelay)},function(e){n.postMessage.dispatchEvent(t.VPAIDLOADEDERROR_EVENT,[e]),n.logger.error("PostMessageServer : Unable to load VPAID "+e.message)})},t.prototype.sendGettersValues=function(){var e=this,n={};Object(a.forEach)(u.a.getters,function(t){n[t]=e.callVPAIDMethod(t,[])}),this.postMessage.dispatchEvent(t.ATTRIBUTE_EVENT,n)},t.READY_EVENT="ready",t.CONFIGREADY_EVENT="configReady",t.VPAIDLOADED_EVENT="vpaidLoaded",t.VPAIDLOADEDERROR_EVENT="vpaidLoadedError",t.ATTRIBUTE_EVENT="attributes",t}()},function(t,e,n){function i(t,e,n){s.b.fromNullable(null===e||void 0===e?void 0:e.document).forEach(function(e){if(!e.getElementById(n)){var i=u.a(t,{assetsPath:a.b.assetsUrl}),r=e.createElement("style");r.setAttribute("id",n),r.setAttribute("class",m),r.appendChild(e.createTextNode(i)),e.head.appendChild(r)}})}function r(t,e){s.b.fromNullable(null===e||void 0===e?void 0:e.document).flatMap(function(e){return s.b.fromNullable(e.getElementById(t))}).forEach(function(t){return s.b.fromNullable(t.parentNode).forEach(function(e){return e.removeChild(t)})})}function o(t){if(!c.getDocument(t).getElementById(g)){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",g),e.innerText=p.a+f.a,d.inject(e,c.getWindow(t))}}e.a=i,e.c=r,e.b=o;var a=n(18),s=n(1),c=n(7),u=n(81),d=n(9),l=n(269),p=n.n(l),h=n(271),f=n.n(h),g="teads-format-css",m="teads-inline-style"},function(t,e,n){function i(t){(new Image).src=t}n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c});var r=n(3),o="638",a=r.cArray.forEach(i),s=r.cArray.forEach(i),c=function(t,e,n){return t+"-"+e+"-"+n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(85);n.d(e,"FormatEvent",function(){return i.a}),n.d(e,"parseFraudReason",function(){return i.l}),n.d(e,"getFormatEventFromSlotVisibilityReason",function(){return i.e}),n.d(e,"formatEventToMirroredEvent",function(){return i.c}),n.d(e,"formatEventsWithMirroringEvent",function(){return i.d}),n.d(e,"nonErrorFormatEventsWithMirroringEvent",function(){return i.i}),n.d(e,"mirroredFormatEvents",function(){return i.h}),n.d(e,"nonErrorMirroredFormatEvents",function(){return i.j}),n.d(e,"createFormatErrorAction",function(){return i.b}),n.d(e,"parseFormatErrorAction",function(){return i.k}),n.d(e,"matchesAdAvailableErrorVast",function(){return i.f}),n.d(e,"matchesNoAdVastError",function(){return i.g});var r=n(46);n.d(e,"VastEvent",function(){return r.a}),n.d(e,"vastEvents",function(){return r.b});var o=(n(194),n(66));n.d(e,"VastErrorCode",function(){return o.a}),n.d(e,"vastErrorCodes",function(){return o.b});var a=n(63);n.d(e,"teadsVastUrl",function(){return a.h}),n.d(e,"thirdPartyVastUrl",function(){return a.j}),n.d(e,"teadsFormatUrl",function(){return a.f}),n.d(e,"thirdPartyFormatUrl",function(){return a.i}),n.d(e,"debugUrl",function(){return a.c}),n.d(e,"teadsUrlToDebugUrl",function(){return a.g}),n.d(e,"createTeadsParsedUrl",function(){return a.b}),n.d(e,"createDebugTrackingUrl",function(){return a.a}),n.d(e,"parseUrl",function(){return a.d}),n.d(e,"stringifyParsedUrl",function(){return a.e});var s=n(73);n.d(e,"supportedQueryParameterNames",function(){return s.c}),n.d(e,"trackableFormatActions",function(){return s.d}),n.d(e,"optNumberToString",function(){return s.b}),n.d(e,"nullableNumberToString",function(){return s.a});n(195),n(196),n(197)},function(t,e,n){function i(){T.isAmp()&&h()&&!r()&&(C=h().rootBounds,w=T.isDesktop()?window.innerWidth:Math.min(Math.min(C.width,C.height),window.innerWidth),w!==window.innerWidth&&(w-=2*window.context.initialIntersection.boundingClientRect.left),A||(f(),h().boundingClientRect.height>10&&(a(),k.a.error("AMP tag malformed "+window.context.location.href)),A=!0),2!==E&&2!==O||s())}function r(){return!!C&&(A&&window._teads_amp.change.rootBounds.width===C.width)}function o(t,e){void 0===t&&(t=function(){}),void 0===e&&(e=!1),O=0,A&&g(0,t,O,e)}function a(t,e){void 0===t&&(t=function(){}),void 0===e&&(e=!1),O=1,A&&g(1,t,O,e)}function s(t,e,n){void 0===t&&(t=null),void 0===e&&(e=function(){}),void 0===n&&(n=!1),O=2,A&&g(t||c(),e,O,n)}function c(){return Math.ceil(w/V)}function u(){return 2===E}function d(t){var e="teads-";t?(e+=t.id?t.id:"0",e+="-",e+=t.creativeId?t.creativeId:"0"):e+="0",e=e}function l(){if(window.context&&Object(P.isFunction)(window.context.renderStart)&&!N.renderStart){N.renderStart=!0;var t={height:c(),width:w};_.debug("renderStart",t),window.context.renderStart(t)}}function p(){if(I&&window.context&&Object(P.isFunction)(window.context.reportRenderedEntityIdentifier)&&!N.reportRenderedEntityIdentifier){N.reportRenderedEntityIdentifier=!0;var t="teads-"+I;_.debug("reportRenderedEntityIdentifier",t),window.context.reportRenderedEntityIdentifier(t)}}function h(){return window._teads_amp.change&&window.context.initialIntersection?(window._teads_amp.change||(window._teads_amp.change=window.context.initialIntersection),window._teads_amp.change):null}function f(){window.context.onResizeDenied(function(t,e){return v(t,e,!1)}),window.context.onResizeSuccess(function(t,e){return v(t,e,!0)})}function g(t,e,n,i){m(t,function(r){var o="function"==typeof i?i():i;r||o?(O=null,E=r?n:null,e(r),u()&&p()):O===n&&setTimeout(function(){return g(t,e,n,o)},100)})}function m(t,e){T.isAmp()&&window.context.requestResize&&A&&(x.push({width:w,height:t,done:!1,callback:e}),window.context.requestResize(w,t),_.warn("amp request resize",w,t))}function b(t,e,n){return t>=e-n&&t<=e+n}function v(t,e,n){j.forEach(x,function(i){b(t,i.height,2)&&b(e,i.width,2)&&!i.done&&(i.done=!0,i.callback(n))}),n?_.warn("amp request resize success",e,t):_.error("amp request resize denied",e,t)}function y(t){return"accepted"===t.consentStateValue||"rejected"===t.consentStateValue}e.d=i,e.a=o,e.b=a,e.f=s,e.e=u,e.i=d,e.g=l,e.h=p,n.d(e,"c",function(){return R});var A,w,O,E,C,I,S=n(4),T=n(5),j=n(3),k=n(42),P=n(2),L=n(1),V=4/3,x=[],_=new S.a("helper.Amp"),N={noContentAvailable:!1,renderStart:!1,reportRenderedEntityIdentifier:!1},D=function(t){return Object(P.isObject)(t)&&y(t)&&Object(P.isString)(t.consentString)?Object(L.c)(t.consentString):L.a},R=function(){var t;return L.b.fromNullable(null===(t=window.context)||void 0===t?void 0:t.initialConsentValue).orElse(function(){var t;return D(null===(t=window.context)||void 0===t?void 0:t.consentSharedData)}).map(function(t){var e,n;return{status:12,reason:127,consent:t,apiVersion:L.b.fromNullable(null===(n=null===(e=window.context)||void 0===e?void 0:e.initialConsentMetadata)||void 0===n?void 0:n.consentStringType).flatMap(function(t){return 2===t?Object(L.c)(2):1===t?Object(L.c)(1):L.a}),cmpId:L.a}}).getOrValue({status:25,reason:250,consent:"",apiVersion:L.a,cmpId:L.a})}},function(t,e,n){n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n(2),r=function(t){return t},o=function(t){return Object(i.isString)(t)}},,function(t,e,n){function i(t,e,n){return a.a.tryCatch(function(){t.navigator.geolocation.getCurrentPosition(e,n)}).orElse(function(t){return n({code:1,message:t.message,PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3}),Object(a.b)(t)})}function r(t){var e=t.coords;return{accuracy:e.accuracy,latitude:e.latitude,longitude:e.longitude}}function o(t,e,n){n&&n.DeviceOrientationEvent&&!u&&(u=!0,s.addEventListener("deviceorientation",n,function(t){e.sendMessage({method:c.a.SENSOR_UPDATE,methodReturn:{alpha:t.alpha,beta:t.beta,gamma:t.gamma,absolute:t.absolute}})}))}e.c=i,e.b=r,e.a=o;var a=n(6),s=n(9),c=n(133),u=!1},function(t,e,n){n.d(e,"a",function(){return s});var i=n(0),r=n(132),o=n(38),a=n(2),s=function(){function t(t,e){this.api=t,this.playerWindow=e,this.eventListenerManager=new o.a}return t.prototype.startListening=function(){var e=this;this.eventListenerManager.add("message",this.playerWindow,function(n){var r;if(Object(a.isObject)(n.data)){var o=n.data;if(!o.method)return;switch(o.method){case t.INIT_MESSAGE:e.pairedAdWindow=n.source,e.sendMessage({method:t.INIT_MESSAGE});break;default:try{if(Object(a.isFunction)(e.api[o.method]))if("getUserLocation"===o.method)e.handleGetUserLocationRequest(o);else{var s=(r=e.api)[o.method].apply(r,Object(i.g)(o.methodArgs));e.sendMessage({method:o.method,methodReturn:s})}else e.sendMessage({method:o.method,error:"Method "+o.method+" does not exist on api"})}catch(t){e.sendMessage({method:o.method,error:t.toString()})}}}})},t.prototype.stopListening=function(){this.eventListenerManager.remove("message")},t.prototype.sendMessage=function(t){this.pairedAdWindow&&this.pairedAdWindow.postMessage(t,"*")},t.prototype.handleGetUserLocationRequest=function(t){var e=this,n=function(n){e.sendMessage({method:t.method,methodReturn:r.b(n)})},i=function(n){e.sendMessage({method:t.method,methodReturn:n.message||n.toString()})};this.api[t.method](n,i)},t.INIT_MESSAGE="studio-ad--format-RPC",t.SENSOR_UPDATE="-studio-ad--sensors-update",t}()},function(t,e,n){n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var i=n(1),r=n(5),o=n(103),a=n(38),s=function(t,e,n){var s={eventListenerManager:i.a,unlistenAmp:i.a};return Object(r.isIABSafeFrame)()?o.e(function(){return t(new Event("touchmove"))}):Object(r.isAmp)()?s.unlistenAmp=i.b.fromNullable(n.observeIntersection(function(e){return t(new Event("touchmove"))})):(s.eventListenerManager=i.b.fromNullable(new a.a),s.eventListenerManager.forEach(function(n){return n.add("scroll",e,function(e){return t(e)})}),s.eventListenerManager.forEach(function(n){return n.addMultiple(["touchstart","touchmove","touchend"],e,function(e){return t(e)})})),s},c=function(t){t.unlistenAmp.forEach(function(t){return t()}),t.eventListenerManager.forEach(function(t){return t.removeAll()})}},function(t,e,n){var i=n(0),r=n(9),o=n(3),a=n(32),s=n(26),c=n(8),u=n(29),d=n(212),l=n(213),p=n(214),h=n(16),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.config={url:"",skippable:!0,skipoffset:0,gradients:!0},e.eventMap={durationchange:"AdDurationChange",resize:"AdSizeChange",volumechange:"AdVolumeChange",ended:"AdVideoComplete",play:"AdPlaying",playing:"AdPlaying",pause:"AdPaused",timeupdate:"AdRemainingTimeChange",error:"AdError"},e}return Object(i.c)(e,t),e.prototype.initAd=function(e,n,i,o,a,d){var l=this;if(this.status!==s.a.READY)return void this.dispatchVpaidEvent(c.a.AdLog,"creative is not in ready state, cannot call initAd");try{this.parameters=this.config,t.prototype.initAd.call(this,e,n,i,o,a,d),r.addEventListener("error",this.video,function(t){l.handleVideoError(t)}),r.addEventListener("loadedmetadata",this.video,function(t){return l.dispatchVpaidEvent(u.a.AdVideoMetadata,{width:l.video.videoWidth,height:l.video.videoHeight})}),this.beginingTimestamp=Date.now(),this.video.preload="metadata",this.video.src=Object(h.u)(this.parameters.url),this.appendVideo(),this.dispatchVpaidEvent(c.a.AdLoaded)}catch(t){this.handleException(t,"initAd")}},e.prototype.startAd=function(){var e=this;if(this.status>s.a.LOADED)return void this.dispatchVpaidEvent(c.a.AdLog,"try to call startAd but ad is starting or is already started");if(this.status<s.a.LOADED)return void this.dispatchVpaidEvent(c.a.AdLog,"Ad is not loaded, use initAd first");try{t.prototype.startAd.call(this),this.parameters.gradients&&this.appendGradients(),this.clickThrough=new p.a(function(t,n,i){e.dispatchVpaidEvent(c.a.AdClickThru,{url:t,id:n,playerHandles:i})},this.parameters.clickThrough),this.clickThrough.append(this.container),this.clickThrough.resize(this.width,this.height),this.setSize(this.width,this.height),this.initListeners(),this.video.play(),this.dispatchVpaidEvent(c.a.AdStarted),this.dispatchVpaidEvent(c.a.AdImpression)}catch(t){this.handleException(t,"startAd")}},e.prototype.skipAd=function(){if(this.status<=s.a.SKIPPING)return void this.dispatchVpaidEvent(c.a.AdLog,"Ad is already stopped or is skipping");try{this.skippable?(t.prototype.skipAd.call(this),this.video.pause(),this.video.style.setProperty("display","none"),this.dispatchVpaidEvent(c.a.AdSkipped)):this.dispatchVpaidEvent(c.a.AdLog,"skipAd() called, but creative is not skippable")}catch(t){this.handleException(t,"skipAd")}},e.prototype.resizeAd=function(t,e,n){try{this.setSize(t,e),this.dispatchVpaidEvent(c.a.AdSizeChange)}catch(t){this.handleException(t,"resizeAd")}},e.prototype.stopAd=function(){if(this.status<=s.a.STOPPING)return void this.dispatchVpaidEvent(c.a.AdLog,"Ad is already stopped");try{t.prototype.stopAd.call(this),this.removeVideo(),this.clickThrough.remove(),this.dispatchVpaidEvent(c.a.AdStopped),this.eventHandler.clearListeners()}catch(t){this.handleException(t,"stopAd")}},e.prototype.pauseAd=function(){try{this.video.pause()}catch(t){this.handleException(t,"pauseAd")}},e.prototype.resumeAd=function(){try{this.video.play()}catch(t){this.handleException(t,"resumeAd")}},e.prototype.getAdRemainingTime=function(){return this.video?this.video.duration-this.video.currentTime:0},e.prototype.getAdDuration=function(){return this.video?this.video.duration:0},e.prototype.getAdVolume=function(){return this.video?this.video.muted?0:this.video.volume:0},e.prototype.setAdVolume=function(t){return this.video?(this.video.muted=0===t,this.video.volume=t,this.video.muted?0:this.video.volume):0},e.prototype.appendGradients=function(){var t=this;o.forEach(["top","bottom"],function(n){var i=document.createElement("div");i.style.setProperty("background","transparent url(data:image/png;base64,"+e["GRADIENT_"+n.toUpperCase()]+")"),i.style.setProperty("position","absolute"),i.style.setProperty("left","0"),i.style[n]="0",i.style.setProperty("z-index","2"),i.style.setProperty("height","30px"),i.style.setProperty("width","100%"),t.container.appendChild(i)})},e.prototype.appendVideo=function(){this.video.parentNode||(this.dispatchVpaidEvent(c.a.AdLog,"Video slot got no parent node, appending to container"),this.container.appendChild(this.video))},e.prototype.removeVideo=function(){try{this.video.parentNode.removeChild(this.video)}catch(t){this.dispatchVpaidEvent(c.a.AdLog,"teads-vpaid-video, cannot remove video from DOM")}},e.prototype.sendAdVideoStartEvent=function(){this.videoHasStarted||(this.videoHasStarted=!0,this.dispatchVpaidEvent(c.a.AdVideoStart))},e.prototype.setSize=function(t,e){this.width=t,this.height=e,this.video&&(this.video.width=this.width,this.video.height=this.height),this.clickThrough&&this.clickThrough.resize(t,e),this.container.style.setProperty("width",t+"px"),this.container.style.setProperty("height",e+"px")},e.prototype.initListeners=function(){var t=this;for(var e in this.eventMap)this.video.addEventListener(e,function(e){t.handleVideoEvent(e)},!1)},e.prototype.handleVideoError=function(t){if("error"===t.type){var e=this.video.error;if(e)switch(e.code){case 1:break;case 2:this.dispatchVpaidEvent(c.a.AdError,{message:"video error : A network error caused the ressource to stop being fetched",id:a.b.MEDIAFILE_TIMEOUT.id});break;case 3:this.dispatchVpaidEvent(c.a.AdError,{message:"video error : A decoding error caused the ressource to stop being fetched",id:a.b.MEDIAFILE_DISPLAY.id});break;case 4:var n={message:"video error : The associated ressource has been detected to be not suitable",id:a.b.GENERAL_LINEAR.id};this.video.readyState===d.a.HAVE_NOTHING&&(n.id=a.b.FILE_NOT_FOUND.id),this.dispatchVpaidEvent(c.a.AdError,n)}else this.dispatchVpaidEvent(c.a.AdError,{message:"video error : unkown error",id:a.b.GENERAL.id})}},e.prototype.handleVideoEvent=function(t){try{var e=this.eventMap[t.type];switch(t.type){case"pause":if(this.video.currentTime===this.video.duration||this.status<=s.a.SKIPPING||this.status===s.a.COMPLETE)return;break;case"play":case"playing":if(this.status===s.a.STARTED)return this.sendAdVideoStartEvent();if(this.status!==s.a.PAUSED)return;break;case"timeupdate":this.parameters.skippable&&!this.skippable&&this.video.currentTime>=Number(this.parameters.skipoffset)&&(this.skippable=!0,this.dispatchVpaidEvent(c.a.AdSkippableStateChange)),(this.status===s.a.STARTED||this.video.currentTime>0)&&this.sendAdVideoStartEvent()}this.dispatchVpaidEvent(e)}catch(e){var n='Creative threw an exception when handling "'+t.type+'" HTML5 video event: '+e.toString();this.dispatchVpaidEvent(c.a.AdLog,n),this.dispatchVpaidEvent(c.a.AdError,{message:n,id:a.b.GENERAL.id})}},e.GRADIENT="iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM0ODU0RjM1QkFEMTFFNUE5RDI5OTE4QkFCM0I3NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM0ODU0RjQ1QkFEMTFFNUE5RDI5OTE4QkFCM0I3NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzQ4NTRGMTVCQUQxMUU1QTlEMjk5MThCQUIzQjc3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzQ4NTRGMjVCQUQxMUU1QTlEMjk5MThCQUIzQjc3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/",e.GRADIENT_TOP=e.GRADIENT+"Psk0S98AAAAgSURBVHjaYmBgYJBiAhIMIOI/nEDj0oNgYGaAAYAAAwAH4xg8FtOkrgAAAABJRU5ErkJggg==",e.GRADIENT_BOTTOM=e.GRADIENT+"PkIta+gAAAAaSURBVHjaYmBABoxMMIKBCYVLDwLJSoAAAwAWTwBRQ43+sgAAAABJRU5ErkJggg==",e}(l.a);e.a=f},,function(t,e,n){n.d(e,"a",function(){return i});var i=function(t,e,n){for(var i,r=n;!(i=t.next()).done;)r=e(r,i.value);return r}},function(t,e,n){n.d(e,"a",function(){return o});var i=n(1),r=n(218),o=function(){function t(){this.version=2,this.tracking=new r.a,this.clickThrough=[],this.adChoicesIconClickThrough=i.a,this.mediaFiles=[],this.title="",this.wrappers=[],this.skippable=!1,this.skipDelay=0,this.extensions=[]}return t.prototype.merge=function(t){t.version&&this.version<t.version&&(this.version=t.version),!this.url&&t.url&&(this.url=t.url),!this.title&&t.title&&(this.title=t.title),!this.adSystem&&t.adSystem&&(this.adSystem=t.adSystem),!this.id&&t.id&&(this.id=t.id),!this.creativeId&&t.creativeId&&(this.creativeId=t.creativeId),!this.duration&&t.duration&&(this.duration=t.duration),!this.adParameters&&t.adParameters&&(this.adParameters=t.adParameters),t.adTagUri&&this.wrappers.push(t.adTagUri);var e,n;for(var i in t.tracking)for(e=0,n=t.tracking[i].length;e<n;e++)"clickIcon"!==i&&this.tracking[i].push(t.tracking[i][e]);for(this.adChoicesIconClickThrough.isEmpty()&&!t.adChoicesIconClickThrough.isEmpty()&&(this.adChoicesIconClickThrough=t.adChoicesIconClickThrough,this.tracking.clickIcon=t.tracking.clickIcon),e=0,n=t.mediaFiles.length;e<n;e++)this.mediaFiles.push(t.mediaFiles[e]);for(e=0,n=t.clickThrough.length;e<n;e++)this.clickThrough.push(t.clickThrough[e]);for(e=0,n=t.extensions.length;e<n;e++)this.extensions.push(t.extensions[e]);!this.skippable&&t.skippable&&(this.skippable=!0,this.skipDelay=t.skipDelay)},t}()},function(t,e,n){n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n(2),r=function(t){return t},o=function(t){return Object(i.isNumber)(t)&&t>=0}},function(t,e,n){"use strict"},function(t,e,n){n.d(e,"a",function(){return r});var i=n(3),r=function(t){return Object(i.includes)([8,9,40],t)}},function(t,e,n){var i;!function(t){t[t.UNLOADED=-1]="UNLOADED",t[t.READY=0]="READY",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(i||(i={})),e.a=i},function(t,e,n){var i=(n(144),window.teads||{});window.teads=i},function(t,e,n){var i=n(5),r=n(4),o=n(145),a=n(152),s=(n.n(a),window.teads||{}),c=window.teads.video||{};c.HTMLVideoCanvas=function(){if(!Object(i.isDesktop)())try{var t=c.HTMLVideoCanvas;return new t,t}catch(t){try{return document.registerElement("video-canvas",{prototype:o.a.prototype})}catch(t){new r.a("Video globals").warn(t)}}}(),c.HTMLVideoCanvas&&c.HTMLVideoCanvas.prototype&&(c.HTMLVideoCanvas.prototype.addEventListener=o.a.prototype.addEventListener),s.video=c,window.teads=s},function(t,e,n){function i(){var t=this;this.logger=new r.a("HTMLVideoCanvas"),this._mainContainer=document.createElement("div"),this._mainContainer.style.backgroundColor="black",this._mainContainer.style.position="relative",this._mainContainer.style.width="100%",this._mainContainer.style.height="100%",this._mainContainer.style.zIndex=1,this.appendChild(this._mainContainer),this._videoContainer=document.createElement("div"),this._videoContainer.style.position="absolute",this._videoContainer.style.top=0,this._videoContainer.style.left=0,this._videoContainer.style.zIndex=2,this._videoContainer.style.width="100%",this._videoContainer.style.height="100%",this._mainContainer.appendChild(this._videoContainer),this.canvasPlayer=new s.a(this._videoContainer,1,1,{type:"CANVAS"}),this.mediaProxy=new a.a,this.mediaProxy.listen(c.a.READY,function(){t.logger.debug("MediaProxy return video url",t.mediaProxy.getVideoUrl()),t.canvasPlayer.src=t.mediaProxy.getVideoUrl(),t.autoplay&&t.canvasPlayer.play(),t.volume=t._volume}),this.mediaProxy.listen(c.a.ERROR,function(){t.logger.debug("MediaProxy didn't return video url"),t._error={code:u.a.MEDIA_ERR_NETWORK},t.canvasPlayer.dispatch(m.error)}),this.canvasPlayer.canvas.style.position="absolute",this.canvasPlayer.canvas.style.maxHeight="none",this.canvasPlayer.canvas.style.maxWidth="none",this.canvasPlayer.canvas.style.top="0",this.canvasPlayer.canvas.style.left="0",b.a.call(this,this.canvasPlayer),this.listeners={};var e=function(n){if(t.listeners[n.type]&&t.listeners[n.type].length){for(var i=0,r=t.listeners[n.type].length;i<r;i++)try{t.listeners[n.type][i].call(t,n)}catch(e){t.logger.error('Error in Canvas event handler: "'+e+'"')}"loadedmetadata"===n.type&&e(new CustomEvent("durationchange")),"playing"!==n.type||t.attachedCallbackCalled||t.attachedCallback()}};for(var n in m){var i=m[n];this.canvasPlayer.addEventListener(i,function(t){return function(t){e(t)}}())}this.canvasPlayer.addEventListener(m.loadedmetadata,function(e){t._handleResize()}),this.canvasPlayer.addEventListener(m.durationchange,function(e){void 0!==t._volume&&(t.canvasPlayer.volume=t._volume)}),this.canvasPlayer.addEventListener(m.playing,function(n){var i=function(){t._width&&t._height||(t.logger.debug("component got no width/height, try to adapt to container"),t._width=t._mainContainer.offsetWidth,t._height=t._mainContainer.offsetHeight),t._width&&t._height?(t.logger.debug("component have dimensions, force resize",t._width,t._height),t._handleResize()):setTimeout(i,100)};i(),e(new CustomEvent("timeupdate"))}),this._ended=!1,this.canvasPlayer.addEventListener(m.ended,function(n){t._ended=!0,t._paused=!0,e(new CustomEvent("timeupdate")),e(new CustomEvent("ended")),t.loop&&(t.currentTime=0,t.play())}),this._paused=!0,this.canvasPlayer.addEventListener(m.pause,function(e){t._paused=!0}),this.canvasPlayer.addEventListener(m.timeupdate,function(e){t._paused=!1}),this._seeking=!1,this.canvasPlayer.addEventListener(m.seeking,function(e){t._seeking=!0}),this.canvasPlayer.addEventListener(m.seeked,function(e){t._seeking=!1}),this.canvasPlayer.addEventListener(m.error,function(e){t._error=e.error})}e.a=i;var r=n(4),o=n(2),a=n(146),s=n(77),c=n(83),u=n(104),d=n(11),l=n(3),p=n(7),h=n(105),f=n(147),g=n(148),m=n(72),b=n(149),v=n(151),y=n(116);i.prototype=Object.create(b.a.prototype),h.a(i.prototype,"src",function(){return this._src},function(t){var e=this;if(this.logger.debug("set src",t),(this.src||t)&&t!==this.src&&""!==t){if(Object(d.isURL)(t)){var n=l.indexOf(a.a.alreadyEncoded,a.a.getFileExtension(t))>-1;if(!y.a("video/mp4")&&"mp4"!==a.a.getFileExtension(t)&&!n&&(this.error=4,this.logger.error("only mp4,"+a.a.alreadyEncoded.join(",")+" files are supported, try to set "+t+" as src"),this.listeners.error))return void l.forEach(this.listeners.error,function(t){return t()});n?this.mediaProxy.load(t,512):g.a(t,function(n,i){e.mediaProxy.load(t,i)})}this._src=t,this.setAttribute("src",String(t))}}),l.forEach(["width","height"],function(t){h.a(i.prototype,t,function(){return this["_"+t]||0},function(e){if(this.logger.debug("set property "+t,e),isNaN(e)||this["_"+t]===e)return void this._handleResize();this["_"+t]=e,"width"===t&&!this.height&&this.videoWidth&&this.videoHeight?this._height=e*(this.videoHeight/this.videoWidth):"height"===t&&!this.width&&this.videoWidth&&this.videoHeight&&(this._width=e*(this.videoWidth/this.videoHeight)),this._handleResize()})}),h.a(i.prototype,"volume",function(){return void 0!==this._volume?this._volume:0},function(t){var e=this;this._volume=t,this.canvasPlayer.audio&&this.canvasPlayer.audio.authorizeAudio(function(){e.canvasPlayer.volume=e._volume}),this.canvasPlayer.volume=this._volume}),h.a(i.prototype,"currentTime",function(){return this._ended?this.canvasPlayer.duration:isNaN(this.canvasPlayer.currentTime)?0:this.canvasPlayer.currentTime},function(t){this.canvasPlayer.currentTime=t}),h.a(i.prototype,"seekable",function(){return!0}),h.a(i.prototype,"readyState",function(){return 4}),h.a(i.prototype,"networkState",function(){return 1}),h.a(i.prototype,"autoplay",function(){return void 0!==this._autoplay&&this._autoplay},function(t){this._autoplay=t}),h.a(i.prototype,"videoWidth",function(){return this.canvasPlayer.videoWidth||0}),h.a(i.prototype,"videoHeight",function(){return this.canvasPlayer.videoHeight||0}),h.a(i.prototype,"preload",function(){return!0},function(t){}),h.a(i.prototype,"seeking",function(){return this._seeking}),h.a(i.prototype,"muted",function(){return 0===this._volume}),h.a(i.prototype,"ended",function(){return this._ended}),h.a(i.prototype,"error",function(){return this._error}),h.a(i.prototype,"paused",function(){return this._paused}),h.a(i.prototype,"currentSrc",function(){return this._src}),h.a(i.prototype,"played",function(){var t=new v.a;return t.addRange(0,this.currentTime),t}),h.a(i.prototype,"buffered",function(){var t=new v.a;return t.addRange(0,this.currentTime),t}),h.a(i.prototype,"loop",function(){return void 0!==this._loop&&this._loop},function(t){this._loop=t,this.setAttribute("loop",String(t))}),h.a(i.prototype,"controls",function(){return!1},function(t){}),i.prototype.load=o.noop,i.prototype.canPlayType=function(t){return"video/mp4"===t?"probably":""},i.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),m[t]&&o.isObject(this.listeners)?(this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)):HTMLElement.prototype.addEventListener.call(this,t,e,n)},i.prototype.removeEventListener=function(t,e,n){if(m[t]){var i=this.listeners[t].indexOf(e);i>=0&&(this.listeners[t][i]=function(){})}else HTMLElement.prototype.removeEventListener.call(this,t,e,n)},i.prototype._handleResize=function(){this.canvasPlayer.width=this.width,this.canvasPlayer.height=this.height,this.style.backgroundColor="black"},i.prototype.createdCallback=function(){i.call(this)},i.prototype.attributeChangedCallback=function(t,e,n){this.logger.debug("attributeChangedCallback",t,e,n),f.a(this,t)},i.prototype.detachedCallback=function(){this.logger.debug("detached callback called"),this.canvasPlayer.pause()},i.prototype.attachedCallback=function(){var t=this;this.logger.debug("attachedCallback called"),this.attachedCallbackCalled=!0;try{this.style.display="block",this.style.overflow="hidden",this.style.objectFit="contain";var e=["width","height","position","top","left"],n=window.originalCreateElement?window.originalCreateElement.call(this.ownerDocument,"video"):this.ownerDocument.createElement("video");this.parentNode.appendChild(n),p.copyCSSRules(n,this,e),n.parentNode.removeChild(n),this.style.width&&"auto"!==this.style.width||(this.style.width="100%"),this.style.height&&"auto"!==this.style.height||(this.style.height="100%"),this._handleResize(),this._iframeResizer=document.createElement("iframe"),this._iframeResizer.style.zIndex=0,this._iframeResizer.style.width="100%",this._iframeResizer.style.height="100%",this._iframeResizer.style.border="none",this._iframeResizer.style.margin="0",this._iframeResizer.style.padding="0",this._mainContainer.appendChild(this._iframeResizer),this._iframeResizer.contentWindow.document.write("<html><body></body></html>"),this._iframeResizer.contentWindow.document.close();var i=function(){t._width=t._iframeResizer.contentWindow.innerWidth,t._height=t._iframeResizer.contentWindow.innerHeight,t.logger.debug("component resized",t.width,t.height),t._handleResize()};this._iframeResizer.contentWindow.addEventListener("resize",i,!1),this._handleResize(),this.style.backgroundColor="black"}catch(t){this.logger.debug("attachedCallback throw an exception",t)}}},function(t,e,n){var i=n(0),r=n(17),o=n(3),a=n(42),s=n(28),c=n(16),u=n(83),d=n(121),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=d.a.UNSTARTED,e}return Object(i.c)(e,t),e.getFileExtension=function(t){return c.r(t).pathname.split(".").pop()},e.prototype.getStatus=function(){return this.status},e.prototype.getVideoUrl=function(){return this.videoUrl},e.prototype.load=function(t,n){var i=this;if(o.indexOf(e.alreadyEncoded,e.getFileExtension(t))>-1)return this.videoUrl=t,this.status=d.a.READY,void this.dispatch(u.a.READY,{errorCode:200});this.status=d.a.WAITING,this.dispatch(u.a.WAITING);var r=location.hostname.match(/.+\.sandbox\.teads\.net|localdocker/),c="https://[HOST]/transcode?url=[URL]&bitrate=[BITRATE]".replace(/\[HOST\]/,r?r[0]+":18088":"mp.teads.tv").replace(/\[URL\]/,encodeURIComponent(t)).replace(/\[BITRATE\]/,n.toString()),l=s.a(),p=!1;l.open("GET",c,!0),l.onreadystatechange=function(){if(4===l.readyState&&!p){switch(l.status){case 200:i.videoUrl=l.responseText,i.status=d.a.READY,i.dispatch(u.a.READY,{errorCode:l.status}),p=!0;break;case 416:case 202:case 201:default:i.status=d.a.ERROR,i.dispatch(u.a.ERROR,{errorCode:l.status}),p=!0}a.a.info("proxy resp "+l.status)}},l.send(),a.a.info("proxy call")},e.alreadyEncoded=["tv","mpg","mpeg"],e}(r.a);e.a=l},function(t,e,n){function i(t){return String(t).indexOf("%")>-1}function r(t){return String(t).indexOf("px")>-1}function o(t){return"true"===t||"false"!==t&&!!t}function a(t,e){var n=t.getAttribute(e);switch(e){case"width":case"height":t.style[e]=n+(i(n)||r(n)?"":"px");break;case"src":case"preload":t[e]=n;break;case"autoplay":case"loop":t[e]=o(n)}}e.a=a;n(3)},function(t,e,n){function i(t,e){var n,i,o,a=r.a(),s=Date.now(),c=function(t){n||(clearTimeout(o),n=Date.now()-s,i=n<=100?1e3:n<200?700:n<400?500:300,e(n,i))};o=setTimeout(function(){return c()},500),a.open("HEAD",t+(t.indexOf("?")>-1?"&":"?")+s,!0),a.addEventListener("load",function(){return c()}),a.addEventListener("error",function(){return c()}),a.send()}e.a=i;var r=n(28)},function(t,e,n){n.d(e,"a",function(){return o});var i=n(105),r=n(150),o=function(t){this._wrappedVideo=t};o.prototype=Object.create(HTMLElement.prototype);for(var a in r.a)r.a.hasOwnProperty(a)&&function(t,e){i.a(o.prototype,t,function(){return this._wrappedVideo[t]},function(n){e&&(this._wrappedVideo[t]=n)})}(a,r.a[a]);o.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this._wrappedVideo.addEventListener(t,e,n)},o.prototype.canPlayType=function(t){return this._wrappedVideo.canPlayType()},o.prototype.load=function(){this._wrappedVideo.load()},o.prototype.pause=function(){this._wrappedVideo.pause()},o.prototype.play=function(){this._wrappedVideo.play()},o.prototype.getVideoPlaybackQuality=function(){return this._wrappedVideo.getVideoPlaybackQuality()},o.prototype.webkitEnterFullscreen=function(){return this._wrappedVideo.webkitEnterFullscreen()},o.prototype.webkitExitFullscreen=function(){this._wrappedVideo.webkitExitFullscreen()},o.prototype.webkitEnterFullScreen=function(){this.webkitEnterFullscreen()},o.prototype.webkitExitFullScreen=function(){this.webkitExitFullscreen()}},function(t,e,n){n.d(e,"a",function(){return i});var i={poster:!0,width:!0,height:!0,videoHeight:!1,videoWidth:!1,buffered:!1,duration:!1,ended:!1,error:!1,networkState:!1,paused:!1,played:!1,readyState:!1,seekable:!1,seeking:!1,currentSrc:!1,autoplay:!0,controls:!0,currentTime:!0,loop:!0,muted:!1,defaultMuted:!0,playbackRate:!1,defaultPlaybackRate:!1,preload:!1,src:!0,volume:!0,audioTracks:!1,textTracks:!1,videoTracks:!1}},function(t,e,n){var i=function(){function t(){this.ranges=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.ranges.length},enumerable:!1,configurable:!0}),t.prototype.addRange=function(t,e){this.ranges.push({start:t,end:e})},t.prototype.start=function(t){return this.ranges[t].start},t.prototype.end=function(t){return this.ranges[t].end},t}();e.a=i},function(t,e){!function(t,e,n,i){function r(t,e){for(var n=0,i=t.length;n<i;n++)m(t[n],e)}function o(t){for(var e,n=0,i=t.length;n<i;n++)e=t[n],E(e,R[s(e)])}function a(t){return function(e){et(e)&&(m(e,t),r(e.querySelectorAll(M),t))}}function s(t){var e=t.getAttribute("is"),n=t.nodeName.toUpperCase(),i=U.call(D,e?x+e.toUpperCase():V+n);return e&&-1<i&&!c(n,e)?-1:i}function c(t,e){return-1<M.indexOf(t+'[is="'+e+'"]')}function u(t){var e=t.currentTarget,n=t.attrChange,i=t.attrName,r=t.target;!ht||r&&r!==e||!e.attributeChangedCallback||"style"===i||t.prevValue===t.newValue||e.attributeChangedCallback(i,n===t[T]?null:t.prevValue,n===t[j]?null:t.newValue)}function d(t){var e=a(t);return function(t){b.push(e,t.target)}}function l(t){pt&&(pt=!1,t.currentTarget.removeEventListener(P,l)),r((t.target||e).querySelectorAll(M),t.detail===S?S:I),tt&&f()}function p(t,e){var n=this;rt.call(n,t,e),v.call(n,{target:n})}function h(t,e){J(t,e),w?w.observe(t,st):(lt&&(t.setAttribute=p,t[C]=A(t),t.addEventListener(L,v)),t.addEventListener(k,u)),t.createdCallback&&ht&&(t.created=!0,t.createdCallback(),t.created=!1)}function f(){for(var t,e=0,n=nt.length;e<n;e++)t=nt[e],F.contains(t)||(n--,nt.splice(e--,1),m(t,S))}function g(t){throw new Error("A "+t+" type is already registered")}function m(t,e){var n,i=s(t);-1<i&&(O(t,R[i]),i=0,e!==I||t[I]?e!==S||t[S]||(t[I]=!1,t[S]=!0,i=1):(t[S]=!1,t[I]=!0,i=1,tt&&U.call(nt,t)<0&&nt.push(t)),i&&(n=t[e+"Callback"])&&n.call(t))}if(!("registerElement"in e)){var b,v,y,A,w,O,E,C="__registerElement"+(1e5*Math.random()>>0),I="attached",S="detached",T="ADDITION",j="REMOVAL",k="DOMAttrModified",P="DOMContentLoaded",L="DOMSubtreeModified",V="<",x="=",_=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,N=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],D=[],R=[],M="",F=e.documentElement,U=D.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},B=n.prototype,W=B.hasOwnProperty,H=B.isPrototypeOf,z=n.defineProperty,G=n.getOwnPropertyDescriptor,q=n.getOwnPropertyNames,K=n.getPrototypeOf,Y=n.setPrototypeOf,X=!!n.__proto__,Q=n.create||function t(e){return e?(t.prototype=e,new t):this},J=Y||(X?function(t,e){return t.__proto__=e,t}:q&&G?function(){function t(t,e){for(var n,i=q(e),r=0,o=i.length;r<o;r++)n=i[r],W.call(t,n)||z(t,n,G(e,n))}return function(e,n){do{t(e,n)}while((n=K(n))&&!H.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Z=t.MutationObserver||t.WebKitMutationObserver,$=(t.HTMLElement||t.Element||t.Node).prototype,tt=!1,et=tt?function(t){return 1===t.nodeType}:function(t){return H.call($,t)},nt=tt&&[],it=$.cloneNode,rt=$.setAttribute,ot=$.removeAttribute,at=e.createElement,st=Z&&{attributes:!0,characterData:!0,attributeOldValue:!0},ct=Z||function(t){lt=!1,F.removeEventListener(k,ct)},ut=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},dt=!1,lt=!0,pt=!0,ht=!0;Y||X?(O=function(t,e){H.call(e,t)||h(t,e)},E=h):(O=function(t,e){t[C]||(t[C]=n(!0),h(t,e))},E=O),tt?(lt=!1,function(){var t=G($,"addEventListener"),e=t.value,n=function(t){var e=new CustomEvent(k,{bubbles:!0});e.attrName=t,e.prevValue=this.getAttribute(t),e.newValue=null,e[j]=e.attrChange=2,ot.call(this,t),this.dispatchEvent(e)},i=function(t,e){var n=this.hasAttribute(t),i=n&&this.getAttribute(t),r=new CustomEvent(k,{bubbles:!0});rt.call(this,t,e),r.attrName=t,r.prevValue=n?i:null,r.newValue=e,n?r.MODIFICATION=r.attrChange=1:r[T]=r.attrChange=0,this.dispatchEvent(r)},r=function(t){var e,n=t.currentTarget,i=n[C],r=t.propertyName;i.hasOwnProperty(r)&&(i=i[r],e=new CustomEvent(k,{bubbles:!0}),e.attrName=i.name,e.prevValue=i.value||null,e.newValue=i.value=n[r]||null,null==e.prevValue?e[T]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,n.dispatchEvent(e))};t.value=function(t,o,a){t===k&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[C]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,e.call(this,"propertychange",r)),e.call(this,t,o,a)},z($,"addEventListener",t)}()):Z||(F.addEventListener(k,ct),F.setAttribute(C,1),F.removeAttribute(C),lt&&(v=function(t){var e,n,i,r=this;if(r===t.target){e=r[C],r[C]=n=A(r);for(i in n){if(!(i in e))return y(0,r,i,e[i],n[i],T);if(n[i]!==e[i])return y(1,r,i,e[i],n[i],"MODIFICATION")}for(i in e)if(!(i in n))return y(2,r,i,e[i],n[i],j)}},y=function(t,e,n,i,r,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:i,newValue:r};a[o]=t,u(a)},A=function(t){for(var e,n,i={},r=t.attributes,o=0,a=r.length;o<a;o++)e=r[o],"setAttribute"!==(n=e.name)&&(i[n]=e.value);return i})),e.registerElement=function(t,n){if(i=t.toUpperCase(),dt||(dt=!0,Z?(w=function(t,e){function n(t,e){for(var n=0,i=t.length;n<i;e(t[n++]));}return new Z(function(i){for(var r,o,a,s=0,c=i.length;s<c;s++)r=i[s],"childList"===r.type?(n(r.addedNodes,t),n(r.removedNodes,e)):(o=r.target,ht&&o.attributeChangedCallback&&"style"!==r.attributeName&&(a=o.getAttribute(r.attributeName))!==r.oldValue&&o.attributeChangedCallback(r.attributeName,r.oldValue,a))})}(a(I),a(S)),w.observe(e,{childList:!0,subtree:!0})):(b=[],ut(function t(){for(;b.length;)b.shift().call(null,b.shift());ut(t)}),e.addEventListener("DOMNodeInserted",d(I)),e.addEventListener("DOMNodeRemoved",d(S))),e.addEventListener(P,l),e.addEventListener("readystatechange",l),e.createElement=function(t,n){var i=at.apply(e,arguments),r=""+t,o=U.call(D,(n?x:V)+(n||r).toUpperCase()),a=-1<o;return n&&(i.setAttribute("is",n=n.toLowerCase()),a&&(a=c(r.toUpperCase(),n))),ht=!e.createElement.innerHTMLHelper,a&&E(i,R[o]),i},$.cloneNode=function(t){var e=it.call(this,!!t),n=s(e);return-1<n&&E(e,R[n]),t&&o(e.querySelectorAll(M)),e}),-2<U.call(D,x+i)+U.call(D,V+i)&&g(t),!_.test(i)||-1<U.call(N,i))throw new Error("The type "+t+" is invalid");var i,u,p=function(){return f?e.createElement(m,i):e.createElement(m)},h=n||B,f=W.call(h,"extends"),m=f?n.extends.toUpperCase():i;return f&&-1<U.call(D,V+m)&&g(m),u=D.push((f?x:V)+i)-1,M=M.concat(M.length?",":"",f?m+'[is="'+t.toLowerCase()+'"]':m),p.prototype=R[u]=W.call(h,"prototype")?h.prototype:Q($),r(e.querySelectorAll(M),I),p}}}(window,document,Object)},function(t,e,n){"use strict"},function(t,e,n){var i=n(0),r=n(82),o=n(3),a=n(7),s=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.setUpCreativeContainers=function(t,e){var n=this;if(this.mainContainer=document.createElement("div"),this.mainContainer.style.setProperty("position","relative"),t.appendChild(this.mainContainer),this.creativeContainer=document.createElement("div"),this.creativeContainer.id="vpaid-"+this.id,this.mainContainer.appendChild(this.creativeContainer),this.creativeContainer.innerHTML=this.getCreativeTemplate(e,this.callbackName,this.backgroundColor),this.vpaidContainer=s.b.fromNullable(Object(a.getDocument)(this.creativeContainer)).flatMap(function(t){return s.b.fromNullable(t.getElementById("vpaidjs-container"))}).getOrNull(),this.videoContainer=s.b.fromNullable(Object(a.getDocument)(this.creativeContainer)).flatMap(function(t){return s.b.fromNullable(t.getElementById("video-container"))}).getOrNull(),!Object(o.includes)([r.a.CANVAS,r.a.VIDEO],e)){var i=document.createElement("script");s.b.fromNullable(Object(a.getWindow)(this.container)).forEach(function(t){i.onload=function(){return t[n.callbackName](!0)},i.onerror=function(){return t[n.callbackName](!1)}}),i.src=e,this.creativeContainer.appendChild(i)}},e.prototype.getCreativeTemplate=function(t,e,n){return'\n      <div id="video-container" style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+n+'"></div>\n      <div id="vpaidjs-container" style="position:absolute;top:0px;left:0px;z-index:2"></div>\n    '},e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(71),o=n(107),a=n(39),s=n(110),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.loadVpaid=function(t,e,n){var i=this,r=new o.a(this.container,this.config);this.creativeContainer=r.getIframeContainer();var a=this.config.sandboxUrl||this.config.path+"/"+s.a.sandbox;r.initAPI(a,function(){r.loadVpaid(t,function(t){i.vpaid=t,e(t)},n)},n)},e.prototype.getType=function(){return a.a.POSTMESSAGE},e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(19),o=n(108),a=function(t){function e(e){var n=t.call(this)||this;return n.postMessage=e,n}return Object(i.c)(e,t),e.prototype.handshakeVersion=function(t){return"2.0"},e.prototype.initAd=function(t,e,n,i,o,a){void 0===o&&(o="");var s="object"==typeof o?Object(r.b)(o):o;this.callVPAIDMethod("initAd",[t,e,n,i,s])},e.prototype.subscribe=function(t,e,n){this.postMessage.subscribe(t,e,n)},e.prototype.unsubscribe=function(t,e){this.postMessage.unsubscribe(t,e)},e.prototype.callVPAIDMethod=function(t,e){return void 0===e&&(e=[]),this.postMessage.callVPAIDMethod(t,e)},e}(o.a);e.a=a},function(t,e,n){n.d(e,"a",function(){return h});var i=n(0),r=n(7),o=n(70),a=n(2),s=n(39),c=n(106),u=n(110),d=n(43),l=n(45),p=n(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.loadVpaid=function(t,e,n){var i=this;if(!Object(o.a)())return n(d.d);var s=!1,c=function(t){n(t),i.destroy()};this.callbackName="handleVPAIDEvent"+this.id,this.window=p.b.fromNullable(Object(r.getWindow)(this.container)).getOrValue(window),this.window[this.callbackName]=function(t){if("wrapper"!==t.type){if(s=!0,clearTimeout(i.loadTimeoutId),i.window[i.callbackName]=a.noop,"ready"===t.type)return i.vpaid=i.creativeContainer,e(i.vpaid),void i.logger.info("getVPAIDAd - Retrieve ad from creative");"error"===t.type&&c(t.data)}};var h="vpaid-"+this.id,f=this.config.path+"/"+u.a.vpaidswfwrapper;this.container.innerHTML='<object data="'+f+'" type="application/x-shockwave-flash" name="'+h+'" id="'+h+'" style="border:0px;width:100%;height:1px;margin:0px;padding:0px" width="100%" height="100%"><param name="id" value="'+h+'" /><param name="name" value="'+h+'" /><param name="movie" value="'+f+'" /><param name="bgcolor" value="#000000" /><param name="quality" value="high" /><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="transparent" /><param name="flashvars" value="debug='+this.config.debug+"&eventHandler="+this.callbackName+"&url="+encodeURIComponent(t)+'" /></object>',this.creativeContainer=this.window.document.getElementById(h),this.loadTimeoutId=setTimeout(function(){s||c(d.i)},l.c)},e.prototype.setBackground=function(e){if(t.prototype.setBackground.call(this,e),this.creativeContainer)for(var n=this.creativeContainer.getElementsByTagName("param"),i=0;i<n.length;i++)"bgcolor"===n[i].name&&(n[i].value=this.backgroundColor)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.window[this.callbackName]=a.noop},e.prototype.registerVPAIDEventHandler=function(t){this.window[this.callbackName]=t},e.prototype.resize=function(){},e.prototype.getEnvironmentVars=function(t){return{slot:this.creativeContainer,videoSlot:void 0,videoSlotCanAutoPlay:!0}},e.prototype.getType=function(){return s.a.SWF},e}(c.a)},function(t,e,n){function i(t){for(var e=0;e<r.a.length;e++)if(t.indexOf(r.a[e])>-1)return!0;return!1}e.a=i;var r=n(159)},function(t,e,n){var i=["vpaid-empty.swf","liverail.com/swf/v4/admanager.swf","teads.tv/swf/vpaid/vpaid-ad"];e.a=i},function(t,e,n){n.d(e,"a",function(){return c});var i=n(0),r=n(111),o=n(36),a=n(8),s=n(26),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.startAd=function(){try{Object(o.a)("startAd",this.status)}catch(t){return this.dispatchEvent(a.a.AdLog,t)}this.status=s.a.STARTING,this.adStarted=!0,this.dispatchEvent(a.a.AdStarted),this.dispatchEvent(a.a.AdImpression),this.vpaid.resumeAd()},e.prototype.handleVpaidEvent=function(e){if(!this.adStarted)switch(e.type){case a.a.AdSkippableStateChange:case a.a.AdLog:case a.a.AdVolumeChange:break;case a.a.AdError:this.adError=!0;break;case a.a.AdStopped:this.adError||this.dispatchEvent(a.a.AdError,"AdManagerWrapper : this VPAID creative got no Ads");break;case a.a.AdLoaded:return this.vpaidguard("startAd");case a.a.AdImpression:e=new a.a(a.a.AdLoaded);break;case a.a.AdStarted:return this.vpaidguard("pauseAd");default:return}t.prototype.handleVpaidEvent.call(this,e)},e}(r.a)},function(t,e,n){function i(t,e){return h.b.fromNullable(Object(p.find)(e,function(e){return e.tagManager===t}))}function r(t){return i(t,j).flatMap(function(t){return t.vastPlayer.flatMap(function(t){return h.b.fromNullable(t.getMediafile())})}).map(function(){return o(t)}).getOrValue(!0)}function o(t){return Object(w.b)(t,j)}function a(t){var e=t.sumologicLogger,n=t.placementAd,i=t.linearAdWithFormatConfig,r=i.linearAd,o=i.formatConfig,a=t.tagIsCampaignTag,c=t.tagManagerPackage,p=t.adCallTrackOpts,f=t.auctionId,g=t.viewerId,b=n.placement;if(b){b.getElectedSlot()&&A.b(b.getElectedSlot().getElement());var y=c.flatMap(function(t){var e;return h.b.fromNullable(null===(e=t.tagManagerInstance)||void 0===e?void 0:e.markId)}).getOrElse(function(){return Object(m.b)(b.pageId,b.pid)}),w=new E.a(b.getPlayerContainer(),Object(v.b)(o),b.slotType,b.wigo,b.key,e);w.setLinearAd(r),w.setConfigUI(Object(v.c)(o,r,b));var O=o.portfolioItemId,C=o.adType;if(O&&(Object(S.a)(O)||C.isDisplay())){var I=w.getLinearAd();I.adParameters=l.a(I.adParameters).map(function(t){return l.b(Object(d.a)(Object(d.a)({},t),{portfolioItemId:O}))}).getOrElse(function(){return I.adParameters})}c.match({some:function(t){return u({sumologicLogger:e,placementAd:n,formatConfig:o,vastPlayer:Object(h.c)(w),markId:y,tagIsCampaignTag:a,tagManagerPackage:t,adCallTrackOpts:p,auctionId:f,viewerId:g})},none:function(){return s({sumologicLogger:e,placementAd:n,formatConfig:o,vastPlayer:Object(h.c)(w),markId:y,adCallTrackOpts:p,auctionId:f,viewerId:g})}})}else T.warn("Placement object is empty in placementAd, cannot loadAd",n)}function s(t){var e=t.sumologicLogger,n=t.placementAd,i=t.formatConfig,r=t.vastPlayer,o=t.markId,a=t.adCallTrackOpts,s=t.auctionId,c=t.viewerId;n.placement.initDom(n.placement.electedSlot);var u=Object(v.a)({instancesStore:window.teads.instances,placement:n.placement,formatConfig:i,vastPlayer:r,markId:o,sumologicLogger:e,adCallTrackOpts:a,auctionId:s,viewerId:c});r.forEach(function(t){var e=new y.a(n.placement,u);t.setVpaidApi(e),u.vpaidApi=e}),u.load(function(){Object(m.i)({name:"s",id:o}),r.forEach(function(){Object(O.g)({placementKey:n.placement.key,sumologicLogger:e,logger:T,wigo:n.placement.wigo})({headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider,pageId:n.placement.pageId,placementId:n.placement.pid,auctionId:s,viewerId:c,slotType:n.placement.slotType,portfolioItemId:h.b.fromNullable(i.portfolioItemId),insertionId:h.b.fromNullable(i.insertionId),connectionId:h.b.fromNullable(i.connectionId)})}),u.start()},function(t){k({sumologicLogger:e,formatConfig:i,placement:n.placement,auctionId:s,viewerId:c,vastExceptionId:t.getId()}),n.placement.handleNoAd({markId:o,sumologicLogger:e,headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider,portfolioItemId:h.b.fromNullable(i.portfolioItemId),adCallTrackOpts:a,auctionId:s,viewerId:c})})}function c(t,e,n,i){j.push({tagManager:t,placementAd:e,vastPlayer:n,tagIsCampaignTag:i})}function u(t){var e=t.sumologicLogger,n=t.placementAd,i=t.formatConfig,r=t.vastPlayer,a=t.markId,s=t.tagIsCampaignTag,u=t.tagManagerPackage,d=t.adCallTrackOpts,l=t.auctionId,p=t.viewerId,f=u.tagManagerInstance,g=u.onFormatLoaded,b=u.done;c(f,n,r,s),f.logger.debug("load -> loadAd","ok"),f.wigo.setStatus(!0,"Ready to serve"),n.placement.initDom(n.placement.electedSlot),f.formatInstance=Object(h.c)(Object(v.a)({instancesStore:window.teads.instances,placement:n.placement,formatConfig:i,vastPlayer:r,markId:a,sumologicLogger:e,adCallTrackOpts:d,auctionId:l,viewerId:p})),f.formatInstance.forEach(function(t){r.forEach(function(e){var i=new y.a(n.placement,t);e.setVpaidApi(i),t.vpaidApi=i}),t.load(function(){Object(m.i)({name:"s",id:a}),r.forEach(function(r){o(f)?(f.logger.error("same ad detected"),Object(O.c)({placementKey:n.placement.key,sumologicLogger:e,logger:T,wigo:n.placement.wigo})({headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider,pageId:n.placement.pageId,placementId:n.placement.pid,auctionId:l,viewerId:p,slotType:n.placement.slotType,portfolioItemId:h.b.fromNullable(i.portfolioItemId),insertionId:h.b.fromNullable(i.insertionId),connectionId:h.b.fromNullable(i.connectionId)}),t.close(5),n.placement.handleNoAd({markId:a,sumologicLogger:e,headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider,portfolioItemId:h.b.fromNullable(i.portfolioItemId),adCallTrackOpts:d,auctionId:l,viewerId:p})):Object(O.g)({placementKey:n.placement.key,sumologicLogger:e,logger:T,wigo:n.placement.wigo})({headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider,pageId:n.placement.pageId,placementId:n.placement.pid,auctionId:l,viewerId:p,slotType:n.placement.slotType,portfolioItemId:h.b.fromNullable(i.portfolioItemId),insertionId:h.b.fromNullable(i.insertionId),connectionId:h.b.fromNullable(i.connectionId)})}),g(!0),b()},function(t){g(!1),k({sumologicLogger:e,formatConfig:i,placement:n.placement,auctionId:l,viewerId:p,vastExceptionId:t.getId()}),n.placement.handleNoAd({markId:a,sumologicLogger:e,headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider,portfolioItemId:h.b.fromNullable(i.portfolioItemId),adCallTrackOpts:d,auctionId:l,viewerId:p}),b()})})}n.d(e,"e",function(){return j}),e.a=i,e.b=r,e.c=o,e.d=a;var d=n(0),l=n(51),p=n(3),h=n(1),f=n(10),g=n(4),m=n(20),b=n(2),v=n(266),y=n(190),A=n(126),w=n(172),O=n(56),E=n(305),C=n(66),I=n(73),S=n(88),T=new g.a("FunnelFormatSync"),j=window.teads.tagManagerResourcesList||[],k=function(t){var e=t.sumologicLogger,n=t.formatConfig,i=t.placement,r=t.auctionId,o=t.viewerId,a=t.vastExceptionId,s=i.pageId,c=i.pid,u=i.key,d=i.slotType,l=i.wigo,h=i.placementConfig.headerBiddingProvider;Object(O.e)({placementKey:u,sumologicLogger:e,wigo:l,logger:T,headerBiddingProvider:h,code:Object(p.isMemberOf)(C.b)(a)?a:C.a.Undefined,pageId:s,placementId:c,auctionId:r,viewerId:o,slotType:d,portfolioItemId:Object(f.b)(n,Object(b.prop)("portfolioItemId"),I.a),insertionId:Object(f.b)(n,Object(b.prop)("insertionId"),I.a),connectionId:Object(f.b)(n,Object(b.prop)("connectionId"),I.a)})}},function(t,e,n){n.d(e,"i",function(){return v}),n.d(e,"h",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return O}),n.d(e,"c",function(){return E}),n.d(e,"b",function(){return C}),n.d(e,"g",function(){return I}),n.d(e,"f",function(){return S});var i=n(0),r=n(3),o=n(1),a=n(46),s=n(193),c=n(14),u=n(10),d=n(163),l=n(198),p=n(63),h=function(t){return Object(r.filter)(Object.keys(t),function(t){return!Object(r.includes)(["cs","revenue_advertising","revenue_fee","hb_bid_response_price_usd"],t)&&!/(e|s|c|_|rpm_)?(cost|revenue|hb_bid_response_price)(_fp)?(_curr)?/.test(t)&&!/publisher_platform_fee(_curr|_waived)?/.test(t)})},f=function(t){return Object(p.e)(Object(p.d)(t),h)},g={track:function(t,e,n){var r=e.trackStrategy,o=e.trackingUrl,a=e.timestamp,s=void 0===a?Object(c.a)():a,u=f(o);return r([u]),Object(i.a)(Object(i.a)({},n),{trackedEvents:Object(i.g)(n.trackedEvents,[{event:t,time:s,trackingUrl:u}])})}},m=function(t,e,n,a,s){return o.b.fromNullable(Object(r.last)(Object(r.filter)(t,e))).match({none:function(){return n},some:function(t){var e=t.event,r=t.trackingUrl;return g.track(e,Object(i.a)(Object(i.a)({},a),{trackingUrl:Object(p.g)(r,s)}),n)}})},b=function(t,e,n,o){return Object(u.b)(t,r.cArray.foldLeft(e,function(t,e){var r=e.event,a=e.trackingUrl;return g.track(r,Object(i.a)(Object(i.a)({},n),{trackingUrl:Object(p.g)(a,o)}),t)}))},v=function(t,e,n,r){return void 0===r&&(r=o.a),function(o,a,s){var c=Object(i.e)(l.d(t,n)(o,a),2),u=c[0];return[u,c[1],m(u.trackedEvents,function(e){return e.event===t},s,Object(i.a)(Object(i.a)({},e),{timestamp:n.timestamp}),r)]}},y=function(t,e,n,r){return void 0===r&&(r=o.a),function(o,s,c){var u=Object(i.e)(l.c(t,n)(o,s),2),d=u[0];return[d,u[1],m(d.trackedEvents,function(e){var n=e.event,i=e.trackingUrl;return n===a.a.Progress&&new RegExp("action=progress-"+t).test(i)},c,Object(i.a)(Object(i.a)({},e),{timestamp:n.timestamp}),r)]}},A=function(t,e,n,r){var s=n.timestamp;return void 0===r&&(r=o.a),function(n,o,c){var u=Object(i.e)(t(n,o),2),d=u[0];return[d,u[1],m(d.trackedEvents,function(t){return t.event===a.a.Error},c,Object(i.a)(Object(i.a)({},e),{timestamp:s}),r)]}},w=function(t,e,n,i){return void 0===i&&(i=o.a),A(l.a(t,n),e,n,i)},O=function(t,e,n,i,r){return void 0===r&&(r=o.a),A(l.b(t,e,i),n,i,r)},E=function(t,e,n,a){return void 0===a&&(a=o.a),function(o,s){var c=d.b.track(t,n,o);return[c,b(Object(r.difference)(o.trackedEvents)(c.trackedEvents),s,Object(i.a)(Object(i.a)({},e),{timestamp:n.timestamp}),a)]}},C=function(t,e,n,a){return void 0===a&&(a=o.a),function(o,s){var c=d.b.trackFormatError(t,n,o);return[c,b(Object(r.difference)(o.trackedEvents)(c.trackedEvents),s,Object(i.a)(Object(i.a)({},e),{timestamp:n.timestamp}),a)]}},I=function(t,e,n,a){return void 0===a&&(a=o.a),function(o,c){var u=s.a.track(t,n,o);return[u,b(Object(r.difference)(o.trackedEvents)(u.trackedEvents),c,Object(i.a)(Object(i.a)({},e),{timestamp:n.timestamp}),a)]}},S=function(t,e,n,a){return void 0===a&&(a=o.a),function(o,c){var u=s.a.trackFormatError(t,n,o);return[u,b(Object(r.difference)(o.trackedEvents)(u.trackedEvents),c,Object(i.a)(Object(i.a)({},e),{timestamp:n.timestamp}),a)]}};e.a=g},function(t,e,n){n.d(e,"a",function(){return g}),n.d(e,"c",function(){return b});var i=n(0),r=n(73),o=n(63),a=n(3),s=n(14),c=n(4),u=n(10),d=n(2),l=n(86),p=n(41),h=n(128),f=new c.a("tracker-v2 formatTracker"),g=function(t,e){var n=e.trackedEvents;return!Object(a.some)(n,function(e){return e.event===t})},m=function(t,e){return function(n){var i=function(n,i){return Object(u.b)(i,h.parseFormatErrorAction,l.a.fstMap(function(t){return h.formatEventToMirroredEvent[t]}),h.createFormatErrorAction,function(i){return b(i,h.FormatEvent.NoAdVastError,e,t,n)})},r=function(n,i){return Object(u.b)(h.formatEventToMirroredEvent[i],function(i){return b(i,i,e,t,n)})},o=Object(u.b)(n.trackedEvents,a.cArray.map(Object(d.prop)("event")));return Object(u.b)(o,Object(u.a)(a.cArray.filter(h.matchesAdAvailableErrorVast),a.cArray.foldLeft(n,i)),function(t){return Object(u.b)(o,a.cArray.filter(Object(a.isMemberOf)(h.nonErrorFormatEventsWithMirroringEvent)),a.cArray.foldLeft(t,r))})}},b=function(t,e,n,c,l,g){void 0===g&&(g=d.identity);var b=c.trackStrategy,v=c.baseUrl,y=c.formatVersion,A=c.referer,w=c.timestamp,O=void 0===w?Object(s.a)():w,E=c.queryParameters;if(!n(t,l))return f.debug("Could not track format event "+t+", tracked events: ",l.trackedEvents),l;var C=Object(o.e)(Object(o.b)(v,Object(i.a)(Object(i.a)({},E),{action:t,fv:y,ts:O.toString(),referer:A}))),I=["gdpr_status","gdpr_consent","gdpr_reason","gdpr_api_version","gdpr_cmp_id","rpm_reason"],S=function(t){var e=t.queryParameters,n=t.businessIds,o=n.insertionId,s=n.connectionId;return Object(i.a)(Object(i.a)({},Object(p.b)(e,function(t){return Object(a.includes)(r.c,t)&&!Object(a.includes)(I,t)})),{gid:o,sid:s})};return b([C]),Object(u.b)(Object(i.a)(Object(i.a)({},l),{trackedEvents:Object(i.g)(l.trackedEvents,[{event:t,time:O,trackingUrl:C}])}),g,function(t){return e===h.FormatEvent.AdCall?m({trackStrategy:b,baseUrl:v,formatVersion:y,referer:A,timestamp:O,queryParameters:S(c)},n)(t):e===h.FormatEvent.AdAvailableSuccess?m(c,n)(t):t})},v=function(t,e){var n=e.trackStrategy,r=e.timestamp,o=void 0===r?Object(s.a)():r;return function(e){return Object(a.isEmpty)(e.customTrackings)?e:Object(u.b)(e.customTrackings,a.cArray.filter(Object(u.a)(Object(d.prop)("event"),Object(d.equals)(t))),a.cArray.flatMap(Object(d.prop)("trackingUrls")),Object(d.tap)(n),function(n){return Object(i.a)(Object(i.a)({},e),{trackedEvents:Object(i.g)(e.trackedEvents,Object(a.map)(n,function(e){return{event:t,time:o,trackingUrl:e}}))})})}},y=function(t){return t},A={track:function(t,e,n){return b(y(t),t,A.canTrack,e,n,v(y(t),e))},trackFormatError:function(t,e,n){return Object(u.b)(Object(h.createFormatErrorAction)([h.FormatEvent.AdAvailableErrorVast,t]),function(t){return b(t,h.FormatEvent.AdAvailableErrorVast,A.canTrack,e,n,v(t,e))})},canTrack:g};e.b=A},function(t,e,n){n.d(e,"a",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});var i="teads-ui-component-",r="vpaid-container",o="main-container",a="layout-video-component"},function(t,e,n){function i(){window.teads.instances=g={}}function r(){s.b.fromNullable(window.teads.instances).forEach(function(t){return g=t})}function o(){for(var t in u.b)if(u.b.hasOwnProperty(t)&&g[t]&&g[t].length)for(;g&&g[t]&&g[t].length;){var e=g[t].pop();s.b.fromNullable(e.getWigo()).forEach(function(t){return t.setStatus(!0,"Cleaned up")}),e.close(4)}}function a(){f.warn("teads.cleanup()"),h.a.tryCatch(function(){var t=[".teads-inline-style","script.teads","iframe#teadsConsensu","#teadsusersync","#teads-format-css"],e=Object(d.flatten)(Object(d.map)(t,function(t){return Object(d.fromArrayLike)(document.querySelectorAll(t))}));Object(d.forEach)(e,p.removeElementFromDOM),o(),delete window.teadsscript;Object(c.d)(function(){for(var t in window.teads)window.teads.hasOwnProperty(t)&&!Object(d.includes)(["WIGO_DEBUG_KEY","FULL_LOGS"],t)&&delete window.teads[t]},3e3)}).tapLeft(function(t){return f.error("Error when using cleanup()",t)})}n.d(e,"e",function(){return g}),e.c=i,e.d=r,e.b=o,e.a=a;var s=n(1),c=n(21),u=n(35),d=n(3),l=n(4),p=n(9),h=n(6),f=new l.a("Format main"),g={}},function(t,e,n){var i=n(0),r=n(11),o=n(81),a=n(31),s=n(323),c=n.n(s),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timerClass="countdown-timer",e}return Object(i.c)(e,t),e.prototype.init=function(){if(this.countdown=Number(this.config.countdown),this.countdown<=0||isNaN(this.countdown))return void this.onEnded();var t=o.a(e.TEMPLATE,{"countdown-duration":this.countdown,"countdown-id":"countdown-"+r.rand(10)});this.getElement().innerHTML=t,this.countdownTextElement=this.getElement().querySelector("."+this.timerClass)},e.prototype.initTimer=function(){var t=this,e=function(){t.isPaused()||t.countdown--,t.countdown<=0?(t.hide(),t.onEnded()):t.updateDisplay()};this.timerInterval=setInterval(e,1e3),this.updateDisplay()},e.prototype.stopTimer=function(){clearInterval(this.timerInterval)},e.prototype.setCountdown=function(t){this.countdown=t,this.updateDisplay()},e.prototype.resume=function(){this.paused=!1},e.prototype.pause=function(){this.paused=!0},e.prototype.isPaused=function(){return this.paused},e.prototype.isEnded=function(){return this.ended},e.prototype.setEndedCallback=function(t){this.callback=t},e.prototype.removeEndedCallback=function(){this.callback=null},e.prototype.onEnded=function(){if(clearInterval(this.timerInterval),this.ended=!0,this.hide(),this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("countdown ended callback failled",t)}},e.prototype.updateDisplay=function(){this.countdownTextElement&&this.countdownTextElement.setAttribute&&this.countdownTextElement.setAttribute("data-countdown",String(this.countdown))},e.TEMPLATE=c.a,e}(a.a);e.a=u},function(t,e,n){n.d(e,"a",function(){return r});var i=n(3),r=function(t,e){return e&&Object(i.includes)([42,6],t)}},function(t,e,n){function i(t,e,n,i){var O=new _.a;j.a.tryCatch(function(){var E=N.c(t,i).documentElement;if("VAST"!==E.tagName)return n(new V.b(V.b.XML_PARSE),O);O.tracking.error=O.tracking.error.concat(r(E)),o(E).match({none:function(){n(new V.b(V.b.NO_ADS),O)},some:function(t){if(O.version=a(E),O.version<2)return n(new V.b(V.b.UNSUPPORTED_VERSION),O);O.creativeId=s(t).getOrValue("");var i=u(t);if(!c(t)&&i.isEmpty())return n(new V.b(V.b.LINEARITY),O);O.id=d(t),O.adTagUri=l(t),O.title=p(t),O.adSystem=h(t);var r=L.map(f("ClickThrough",t),function(t){return t.url});O.clickThrough=O.clickThrough.concat(r),O.tracking.impression=O.tracking.impression.concat(f("Impression",t)),O.tracking.click=O.tracking.click.concat(f("ClickTracking",t)),i.forEach(function(t){var e=g(t);O.adChoicesIconClickThrough=e.clickThrough,O.tracking.clickIcon=O.tracking.clickIcon.concat(e.trackings);var n=m(t);O.skippable=b(n),O.skipDelay=v(n),O.duration=y(t),O.adParameters=A(t);var i=C(t,O.duration);for(var r in i)i.hasOwnProperty(r)&&(w(r)&&O.tracking.hasOwnProperty(r)?O.tracking[r]=O.tracking[r].concat(i[r]):D.warn('Could not add tracking resource as the VAST event "'+r+'" is not supported.'));O.mediaFiles=I(t,O.adParameters)}),O.extensions=S(t,O),e(O)}})}).tapLeft(function(t){var e=V.a.get(V.b.UNDEFINED.id,"VASTParser.parse error",t);n(e,O)})}function r(t){var e=L.map(L.fromArrayLike(t.getElementsByTagName("Error")),function(t){return{url:N.b(t),data:null}});return L.filter(e,function(t){return!!t.url})}function o(t){return T.b.fromNullable(t.getElementsByTagName("Ad")[0])}function a(t){return parseInt(N.a(t,"version"),10)}function s(t){return T.b.fromNullable(t.getElementsByTagName("Creative")[0]).flatMap(function(t){return T.b.fromNullable(N.a(t,"id")).orElse(function(){return T.b.fromNullable(N.a(t,"adID"))})})}function c(t){return!!t.getElementsByTagName("Wrapper").length}function u(t){return T.b.fromNullable(t.getElementsByTagName("Linear")[0])}function d(t){return N.a(t,"id")}function l(t){return N.b(t.getElementsByTagName("VASTAdTagURI")[0])}function p(t){return N.b(t.getElementsByTagName("AdTitle")[0])}function h(t){return N.b(t.getElementsByTagName("AdSystem")[0])}function f(t,e){var n=L.fromArrayLike(e.getElementsByTagName(t));return L.map(n,function(t){return{url:N.b(t),data:null}})}function g(t){return T.b.fromNullable(t.getElementsByTagName("Icon")[0]).flatMap(function(t){return T.b.fromNullable(t.getElementsByTagName("IconClicks")[0])}).map(function(t){return{iconClick:t,iconClickThrough:t.getElementsByTagName("IconClickThrough")[0]}}).map(function(t){var e=t.iconClick,n=t.iconClickThrough;return{clickThrough:T.b.fromNullable(N.b(n)),trackings:L.map(L.fromArrayLike(e.getElementsByTagName("IconClickTracking")),function(t){return{url:N.b(t),data:null}})}}).getOrValue({clickThrough:T.a,trackings:[]})}function m(t){return P.seconds(N.a(t,"skipoffset"))}function b(t){return!isNaN(t)}function v(t){return t||0}function y(t){return P.seconds(N.b(t.getElementsByTagName("Duration")[0]))}function A(t){return N.b(t.getElementsByTagName("AdParameters")[0])}function w(t){return L.includes(R,t)}function O(t,e){return Object(P.isString)(t)?t.indexOf(":")>0?T.b.fromNullable(P.seconds(t)):T.b.fromNullable(x.trim(t).match(/^([0-9\.]+)%$/)).map(function(t){return e*parseInt(t[1],10)/100}):T.a}function E(t,e){var n=N.a(t,"offset");return O(n,e).map(function(e){return{event:"progress",tracking:{url:N.b(t),data:e}}}).orElse(function(){return D.error("Wrong offset for progress tracking: "+n),T.a})}function C(t,e){var n=L.fromArrayLike(t.getElementsByTagName("Tracking")),i=function(t){var n=N.a(t,"event");return"progress"===n?E(t,e):Object(T.c)({event:n,tracking:{url:N.b(t),data:null}})},r=function(t,e){return e.forEach(function(e){t[e.event]||(t[e.event]=[]),t[e.event].push(e.tracking)}),t},o=L.filter(L.map(n,i),function(t){return t.nonEmpty()});return L.reduce(o,r,{})}function I(t,e){var n=L.fromArrayLike(t.getElementsByTagName("MediaFile"));return L.map(n,function(t){var n=N.a(t,"type");return{type:n,url:N.b(t),width:parseInt(N.a(t,"width"),10),height:parseInt(N.a(t,"height"),10),delivery:N.a(t,"delivery"),bitrate:parseInt(N.a(t,"bitrate"),10),api:N.a(t,"apiFramework"),scalable:!!N.a(t,"scalable"),minBitrate:parseInt(N.a(t,"minBitrate"),10),maxBitrate:parseInt(N.a(t,"maxBitrate"),10),maintainAspectRatio:!!N.a(t,"maintainAspectRatio"),codec:N.a(t,"codec"),adParameters:/(javascript|flash)/g.test(n)?e:null}})}function S(t,e){var n=JSON.parse(JSON.stringify(e)),i=L.fromArrayLike(t.getElementsByTagName("Extension"));return L.map(i,function(t){return{type:N.a(t,"type"),content:N.b(t),xml:t,definition:n}})}n.d(e,"a",function(){return D}),e.b=i;var T=n(1),j=n(6),k=n(4),P=n(2),L=n(3),V=n(32),x=n(11),_=n(138),N=n(217),D=new k.a("vast.VASTParser"),R=["acceptInvitation","acceptInvitationLinear","billable","click","clickIcon","close","closeLinear","collapse","complete","creativeView","customClicks","error","exitFullscreen","expand","firstQuartile","fullscreen","impression","midpoint","mute","noAd","noLinearAd","otherAdInteraction","pause","progress","resume","rewind","skip","start","thirdQuartile","unmute"]},function(t,e,n){n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n(8),r=n(25),o={error:i.a.AdError,click:i.a.AdClickThru,pause:i.a.AdPaused,resume:i.a.AdPlaying,skip:i.a.AdSkipped,creativeView:i.a.AdStarted,start:i.a.AdVideoStart,firstQuartile:i.a.AdVideoFirstQuartile,midpoint:i.a.AdVideoMidpoint,thirdQuartile:i.a.AdVideoThirdQuartile,complete:i.a.AdVideoComplete,impression:i.a.AdImpression,close:i.a.AdUserClose,closeLinear:i.a.AdUserClose,progress:i.a.AdRemainingTimeChange,otherAdInteraction:i.a.AdInteraction},a={adChoices:r.a.AdChoicesClickRequest}},function(t,e,n){var i=n(0),r=n(5),o=n(12),a=n(2),s=function(t){function e(n,i){void 0===n&&(n=e.DEFAULT),void 0===i&&(i=null);var o=t.call(this,"VideoStart")||this;return o.value=n,i&&i.isInBoard()&&Object(r.isTablet)()&&(o.value=e.VALUES.CLICK),o.checkValue(),o}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(a.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.prototype.isClick=function(){return this.value===e.VALUES.CLICK},e.prototype.getValue=function(){return this.value},e.VALUES={THRESHOLD:"threshold",CLICK:"click"},e.DEFAULT=e.VALUES.THRESHOLD,e}(o.a);e.a=s},,function(t,e,n){function i(t,e){m.playedMediaFileUIDs=m.playedMediaFileUIDs.concat({tagManager:t,uid:s(e)})}function r(t,e){return Object(h.a)(t,e).match({some:o,none:function(){return g.warn("Could not find a matching TagManagerResources for this TagManager",t),!1}})}function o(t){var e=t.tagIsCampaignTag,n=t.vastPlayer,i=t.tagManager,r=Object(l.map)(Object(l.filter)(m.playedMediaFileUIDs,u(i)),function(t){return t.uid});return n.flatMap(function(t){var e;return d.b.fromNullable(null===(e=t.getLinearAd())||void 0===e?void 0:e.mediaFiles)}).match({some:function(t){return!e&&Object(l.some)(t,function(t){return c(t,r)})},none:function(){return g.debug("No player, or if any, no elected media file was found for this TagManager",i),!1}})}function a(t){var e,n;return null!==(n=null===(e=t.match(f.a))||void 0===e?void 0:e[1])&&void 0!==n?n:t}function s(t){var e;return a(t.url)+(null!==(e=t.adParameters)&&void 0!==e?e:"")}function c(t,e){return Object(l.some)(e,function(e){return e===s(t)})}function u(t){return function(e){return e.tagManager!==t&&t.pageId===e.tagManager.pageId}}e.a=i,e.b=r;var d=n(1),l=n(3),p=n(4),h=n(161),f=n(64),g=new p.a("SameAd"),m={playedMediaFileUIDs:[]}},function(t,e,n){n.d(e,"a",function(){return c});var i=n(5),r=n(1),o=n(55),a=window.teads||{},s=a.router=a.router||{};s.V2_PATH=s.V2_PATH||void 0,s.V3_PATH=s.V3_PATH||void 0;var c=new o.c("https://s8t.teads.tv/sumo/receiver/v1/http/ZaVnC4dhaV0yoMPXbPr1DHlBdbxeDuo3K5k3sGyLYmTOy4VGTwjLazFajGH6fqEKM4WlaPVtnZSCp4oebZS2mDiHAfUyzLxdRx_1JbayoNzbvQ26FTVmqQ==",20,"638",r.a,{getSamplingThreshold:o.d,sendLog:o.e,getFullContext:i.getFullContext,isHeaderBiddingTag:function(){return!1}})},,function(t,e,n){var i=n(0),r=n(53),o=n(12),a=n(2),s=n(5),c=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Format")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){if(!Object(a.isString)(this.value)||!e.VALUES[this.value.toUpperCase()]||Object(s.isAmp)()&&!this.isInRead())throw new r.a(r.a.OPTION_FORMAT_INVALID)},e.prototype.get=function(){return this.value},e.prototype.isInRead=function(){return this.value===e.VALUES.INREAD},e.prototype.isInBoard=function(){return this.value===e.VALUES.INBOARD},e.prototype.isInterstitial=function(){return this.value===e.VALUES.INTERSTITIAL},e.prototype.isRewarded=function(){return this.value===e.VALUES.REWARDED},e.VALUES={INREAD:"inread",INBOARD:"inboard",INTERSTITIAL:"interstitial",REWARDED:"rewarded"},e.DEFAULT=null,e}(o.a);e.a=c},function(t,e,n){function i(t){return!!s.b.isQA&&t}e.a=i;var r=n(0),o=n(2),a=n(12),s=n(18),c=function(t){function e(n,o,a,s){void 0===a&&(a=null),void 0===s&&(s=null);var c=t.call(this,"Credits")||this,u=a&&a.isInBoard();return c.value=Object(r.a)(Object(r.a)({},u?e.DEFAULT_INBOARD:e.DEFAULT_INREAD),n),o.isEnabled()&&(c.value.display=!1),c.checkValue(),c.value.display=i(c.value.display),c}return Object(r.c)(e,t),e.prototype.checkValue=function(){Object(o.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT_INREAD)},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getText=function(){return this.value.text},e.prototype.getLink=function(){return this.value.link},e.VALUES={DISPLAY:"display",TEXT:"text",LINK:"link"},e.DEFAULT_INREAD={display:!0,text:"Ads by [Teads]",link:"https://hp.teads.com/?utm_source=inread&utm_medium=credits&utm_campaign=invented%20by%20teads"},e.DEFAULT_INBOARD={display:!0,text:"Ads by [Teads]",link:"https://hp.teads.com/?utm_source=inboard&utm_medium=credits&utm_campaign=invented%20by%20teads"},e}(a.a);e.b=c},function(t,e,n){e.a={vpaidvideojs:"teads-vpaid-video.min.js",vpaidcanvas:"teads-vpaid-canvas.min.js",vpaidvideoswf:"teads-vpaid-video.swf",vastcorsloader:"cors.swf",vpaidswfwrapper:"vpaidwrapper.swf"}},function(t,e,n){n.d(e,"a",function(){return c});var i=n(4),r=n(138),o=n(32),a=n(253),s=n(168),c=function(){function t(e,n,r){this.config=e,this.sumologicLogger=n,this.wigo=r,this.logger=new i.a("vast.VASTLib"),this.logger.debug("new",this),this.wrappersLimit=this.config.wrappersLimit||t.WRAPPERS_LIMIT}return t.prototype.load=function(t,e,n){this.processVast(!0,t,e,n)},t.prototype.parse=function(t,e,n){this.processVast(!1,t,e,n)},t.prototype.processVast=function(t,e,n,i){var o=this,a=Date.now(),s=function(t){var e=Date.now()-a;o.sumologicLogger.info("parse "+t.wrappers.length+" "+e),n(t)},c=function(t,e){i(t,e)};t?this.loadXml(new r.a,e,s,c):this.parseXml(new r.a,e,s,c)},t.prototype.loadXml=function(t,e,n,i){var r=this;t.url||(t.url=e),this.wigo.filter(function(t){return!!t.report}).forEach(function(t){return e=t.getVastUrl(e)}),Object(a.a)(e,this.config,function(o){r.wigo.forEach(function(t){return t.setVast(e,o)}),r.parseXml(t,o,n,i)},i)},t.prototype.parseXml=function(t,e,n,i){var r=this;Object(s.b)(e,function(e){if(t.merge(e),e.adTagUri)t.wrappers.length>r.wrappersLimit?i(new o.b(o.b.WRAPPER_LIMIT),t):(r.logger.info("load wrapper",e.adTagUri),r.loadXml(t,e.adTagUri,n,function(e,n){i(e,t)}));else if(0===t.mediaFiles.length){var a=o.a.get(o.b.WRAPPER.id,"empty mediafiles in VAST definition");r.logger.error(a.getFullMessage()),i(a,t)}else n(t)},function(e,n){t.merge(n),i(e,t)},this.sumologicLogger)},t.TIMEOUT=7e3,t.WRAPPERS_LIMIT=10,t}()},function(t,e,n){n.d(e,"a",function(){return i});var i="Teadstv"},function(t,e,n){function i(t){var e=t.gdprIab,n=function(t){return Object(o.isObject)(t)&&Object(o.hasOwnProperties)(t,["status","consent"])&&Object(o.isNumber)(t.status)&&Object(o.isString)(t.consent)};return r.b.fromNullable(e).filter(n).map(function(t){var e=t.status,n=t.consent,i=t.reason,o=t.apiVersion,a=t.cmpId;return{status:e,consent:n,reason:r.b.fromNullable(i),apiVersion:r.b.fromNullable(o),cmpId:r.b.fromNullable(a)}})}e.a=i,n.d(e,"b",function(){return a});var r=n(1),o=n(2),a=function(t){var e=t.reason,n=t.status,i=t.consent,r=t.apiVersion,o=t.cmpId;return{reason:e,status:n,consent:i,apiVersion:r.getOrNull(),cmpId:o.getOrNull()}}},,function(t,e){t.exports='<div class="teads-wigo-btn"><div style="position: absolute; left:0;top:0;padding: 0 4%; border: 1px solid white; color: white; font-size: 10px; text-align: center; font-family: Arial; line-height:16px;"></div><div style="border: 6px solid #f3f3f3; border-top: 6px solid #3498db; border-radius: 50%; position: absolute; left: 60%; width: 32%; height: 32%; -webkit-animation: wigospin 2s linear infinite; animation: wigospin 2s linear infinite"></div> <style type="text/css"> .teads-wigo-btn { position: fixed; bottom: 10px; right: 10px; z-index: 2147483647; width: 75px; height: 75px; cursor: pointer; background-image: url(\'https://s8t.teads.tv/media/format/v3/assets/default/img/wigo.png?v2\'); transition: right ease 0.2s; } @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) { /* Retina */ .teads-wigo-btn { background-size: 75px 75px; background-image: url(\'https://s8t.teads.tv/media/format/v3/assets/default/img/wigo-2x.png\'); } } @-webkit-keyframes wigospin { 0% { -webkit-transform: rotate(0deg);} 100% { -webkit-transform: rotate(360deg);} } @keyframes wigospin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } </style> </div> '},function(t,e,n){var i=n(0),r=(n(140),n(5)),o=n(52),a=n(48),s=n(1),c=n(38),u=n(6),d=n(11),l=n(7),p=n(4),h=n(3),f=n(14),g=n(21),m=n(20),b=n(2),v=n(103),y=n(9),A=function(t){return new o.a(function(e,n){t(function(t,n){e(!!t&&t.cmpLoaded)}),g.d(n,O.PING_REQUEST_TIMEOUT)})},w=function(){if(Object(r.isIABSafeFrame)()){var t=Object(r.getIABSafeFrameWindow)();return!Object(b.isUndefined)(t)&&Object(b.isFunction)(t.$sf.ext.cmp)}return!1},O=function(){function t(t,e){this.win=t,this.pageId=e,this.cmpHandler=Object(l.isInCrossDomainIframe)(document.body)?w()?new I:new C(this.win):new E(this.win)}return t.isConsentDataValid=function(t){return Object(b.isBoolean)(t.gdprApplies)&&(Object(b.isUndefined)(t.hasGlobalScope)?Object(b.isBoolean)(t.hasGlobalConsent):Object(b.isBoolean)(t.hasGlobalScope))},t.getGlobalConsent=function(t){return Object(b.isUndefined)(t.hasGlobalScope)?!!t.hasGlobalConsent:t.hasGlobalScope},t.transformCmpResponse=function(e,n){var i={status:null,consent:"",reason:null,apiVersion:Object(s.c)(1),cmpId:s.a},r=s.b.fromNullable(e),o=r.map(function(t){return t.consentData||t.consentObject}).getOrValue("");return!1===n?(i.status=21,i.reason=210):Object(b.isString)(o)?(i.consent=o,t.isConsentDataValid(e)?e.gdprApplies?t.getGlobalConsent(e)?(i.status=11,i.reason=t.isTimeoutNeeded?110:111):(i.status=12,i.reason=t.isTimeoutNeeded?120:121):(i.status=0,i.reason=0):(i.status=24,i.reason=240)):(t.logWrongConsentData(r),i.status=24,i.reason=240),t.updateTeadsGDPRPayload(i),i},t.updateTeadsGDPRPayload=function(e){t.payload=e,window.teads.gdprPayload.status=e.status,window.teads.gdprPayload.consent=e.consent,window.teads.gdprPayload.reason=e.reason,window.teads.gdprPayload.apiVersion=e.apiVersion.getOrValue(""),window.teads.gdprPayload.cmpId=e.cmpId.getOrValue(""),t.logger.info("payload: { status: "+e.status+", consent: "+e.consent+", reason: "+e.reason+"}, apiVersion: "+e.apiVersion+", cmpId: "+e.cmpId)},t.logWrongConsentData=function(e){e.match({some:function(e){var n=h.filter(Object.keys(e),function(t){return!h.includes(["gdprApplies","hasGlobalScope","hasGlobalConsent","vendorListVersion"],t)}),i=h.map(n,function(t){return t+"("+(null===e[t]?"null":typeof e[t])+")"});t.logger.info("gdpr-wrong-consent "+i.join(",").substr(0,120))},none:function(){return t.logger.info("gdpr-wrong-consent null")}})},t.prototype.requestConsentString=function(){var t=this;return window.teads.gdprPayload.tsCmpCall=Object(f.a)(),function(){return t.retrievePayloadFromPublisherCmp().catch(function(e){var n;switch(e.status){case 22:n=122;break;case 21:n=124;break;case 23:default:n=123}return t.retrievePayloadFromPublisherCookie(123).map(function(t){return Object(i.a)(Object(i.a)({},t),{reason:n})}).getOrValue(e)})}()},t.prototype.retrievePayloadFromPublisherCmp=function(){var e=this;return t.logger.info("Trying to get consent from publisher CMP"),new o.a(function(n,r){if(e.cmpHandler.isIntegrated()){t.isTimeoutNeeded?(t.logger.info("No overlay detected, putting a timeout on requestConsentString"),e.cmpTimeout=g.d(function(){t.logger.warn("No response from getConsentData after "+t.GET_CONSENT_DATA_FOR_PUBLISHER_CMP_REQUEST_TIMEOUT+"ms"),t.logger.info("gdpr-cmp-consent-timeout 0"),o.a.reject({status:23,consent:"",reason:232,apiVersion:Object(s.c)(1),cmpId:s.a}).catch(function(n){e.cmpHandler.ping().then(function(e){var o=e?230:231;t.logger.warn("Timeout when retrieving publisher consent: Reason "+o),r(Object(i.a)(Object(i.a)({},n),{reason:o}))}).catch(function(e){t.logger.warn("Timeout on CMP ping command",e),r(n)})})},t.GET_CONSENT_DATA_FOR_PUBLISHER_CMP_REQUEST_TIMEOUT)):t.logger.info("Overlay detected, not putting a timeout on requestConsentString");var a=Object(m.b)(e.pageId,Object(f.a)());Object(m.i)({name:0,id:a}),u.a.tryCatch(function(){e.cmpHandler.onIntegrationSuccess(function(i,r){Object(m.i)({name:1,id:a}),Object(m.k)({name:0,id:a},{name:1,id:a}).forEach(function(e){var n=t.isTimeoutNeeded?"gdpr-cmp-response "+e.duration.toFixed(2):"gdpr-cmp-response "+e.duration.toFixed(2)+" overlay-detected";t.logger.info(n)}),e.cmpTimeout&&e.cmpTimeout.clear(),t.logger.info("gdpr-cmp-consent-timeout 1"),n(t.transformCmpResponse(i,r))})}).tapLeft(function(n){t.logger.error("Error on get ConsentData: "+n),t.logger.warn("GPDR getConsenData error"),e.cmpTimeout&&e.cmpTimeout.clear(),r({status:21,consent:"",reason:211,apiVersion:Object(s.c)(1),cmpId:s.a})})}else t.logger.warn("Could not detect any CMP integration"),r({status:22,consent:"",reason:220,apiVersion:Object(s.c)(1),cmpId:s.a})})},t.prototype.retrievePayloadFromPublisherCookie=function(e){return t.logger.info("Trying to get publisher consent from cookies"),Object(a.a)(t.CONSENT_COOKIE_NAME).toOption().filter(function(t){return!!t}).map(function(n){return t.logger.info("Consent retrieved from publisher cookies"),{status:12,consent:n,reason:e,apiVersion:Object(s.c)(1),cmpId:s.a}})},t.GET_CONSENT_DATA_FOR_PUBLISHER_CMP_REQUEST_TIMEOUT=250,t.GET_CONSENT_DATA_FOR_TEADSEUCONSENT_REQUEST_TIMEOUT=250,t.PING_REQUEST_TIMEOUT=10,t.CMP_IFRAME_NAME="__cmpLocator",t.CONSENT_COOKIE_NAME="euconsent",t.QUANTCAST_OVERLAY_CLASSNAME="qc-cmp-ui qc-cmp-showing",t.isTimeoutNeeded=!0,t.logger=new p.a("GDPR"),t}();e.a=O;var E=function(){function t(t){this.win=t,this.logger=new p.a("GDPR - RegularCmpHandler"),this.childWindows=[],O.isTimeoutNeeded=!this.hasQuantcastOverlay(),O.isTimeoutNeeded&&this.detectAndLogQuantcastOverlay()}return t.prototype.isIntegrated=function(t,e,n){return void 0===t&&(t=!0),void 0===e&&(e=function(){}),void 0===n&&(n=this.win),Object(b.isFunction)(n.__cmp)?(n!==this.win?(this.win=n,this.logger.info("Regular CMP integration detected on a child window"),e("on a child window")):(this.logger.info("Regular CMP integration detected on top window"),e("on top window")),!0):(t&&(this.childWindows=this.childWindows.concat(Object(l.findChildWindows)(n.document.body))),this.childWindows.length>0&&this.isIntegrated(!1,e,this.childWindows.shift()))},t.prototype.onIntegrationSuccess=function(t){this.win.__cmp("getConsentData",null,t)},t.prototype.ping=function(){var t=this;return A(function(e){return t.win.__cmp("ping",null,e)})},t.prototype.hasQuantcastOverlay=function(){var t=Object(y.getElementsByClassName)(O.QUANTCAST_OVERLAY_CLASSNAME,this.win.document,this.win);return t.length>0&&"relative"===this.win.getComputedStyle(t[0]).position},t.prototype.detectAndLogQuantcastOverlay=function(){var t=this,e=Object(f.a)(),n=0,i=function(){return new o.a(function(i){t.hasQuantcastOverlay()&&(t.logger.warn("gdpr-overlay-detected "+(Object(f.a)()-e)+"ms"),i()),++n>10&&i()})},r=g.c(function(){return i().then(r.clear)},100)},t}(),C=function(){function t(t){this.win=t,this.cmpWindow=s.a,this.eventListenerManager=new c.a,this.callId=Object(d.rand)(16,!1),this.logger=new p.a("GDPR - CrossDomainIframeCmpHandler"),this.cmpWindow=this.findCmpWindow()}return t.prototype.isIntegrated=function(){var t=Object(l.isInCrossDomainIframe)(document.body)&&this.cmpWindow.nonEmpty();return t&&this.logger.info("Iframe cross-domain (non-SafeFrame) CMP integration detected"),t},t.prototype.onIntegrationSuccess=function(t){var e=this;this.cmpWindow.match({some:function(n){e.eventListenerManager.add("message",e.win,function(n){return e.messageHandler(n,t)}),n.postMessage({__cmpCall:{command:"getConsentData",parameter:null,callId:e.callId}},"*")},none:function(){e.logger.warn("Could not get CMP locator iframe from parent window(s).")}})},t.prototype.ping=function(){var t=this;return A(function(e){t.cmpWindow.match({some:function(n){t.eventListenerManager.add("message",t.win,function(n){return t.messageHandler(n,e)}),n.postMessage({__cmpCall:{command:"ping",parameter:null,callId:t.callId}},"*")},none:function(){t.logger.warn("Could not get CMP locator iframe from parent window(s).")}})})},t.prototype.findCmpWindow=function(){var t=this;return u.a.tryCatch(function(){var e=Object(l.findParentWindows)(t.win.document.body,!1),n=function(t){return t.frames[O.CMP_IFRAME_NAME]};return h.find(e,function(t){return!!n(t)})}).tapLeft(function(e){return t.logger.debug("CrossDomainIframeCmpHandler.findCmpWindow",e)}).toOption()},t.prototype.messageHandler=function(t,e){var n=this;u.a.tryCatch(function(){var e,n;return Object(b.isString)(t.data)?null===(e=JSON.parse(t.data))||void 0===e?void 0:e.__cmpReturn:null===(n=t.data)||void 0===n?void 0:n.__cmpReturn}).orElse(function(e){return n.logger.warn("Message parsing failed",t.data),Object(u.b)(e)}).toOption().forEach(function(t){t.callId===n.callId&&(e(t.returnValue,t.success),n.eventListenerManager.remove("message"))})},t}(),I=function(){function t(){this.logger=new p.a("GDPR - SafeFrameCmpHandler"),this.win=Object(r.getIABSafeFrameWindow)()}return t.prototype.isIntegrated=function(){var t=Object(r.isIABSafeFrame)()&&Object(b.isFunction)(this.win.$sf.ext.cmp);return t&&this.logger.info("SafeFrame CMP integration detected"),t},t.prototype.onIntegrationSuccess=function(t){v.d(function(e){"getConsentData"===e.cmpCommand&&t(e.VendorConsentData,e.success)}),this.win.$sf.ext.cmp("getConsentData",null)},t.prototype.ping=function(){var t=this;return A(function(e){v.d(function(t){"ping"===t.cmpCommand&&e(t.PingReturn,t.success)}),t.win.$sf.ext.cmp("ping",null)})},t}()},,function(t,e,n){function i(t){return r.b.fromNullable(t).flatMap(function(t){return t.adChoicesIconClickThrough}).getOrValue(o)}n.d(e,"a",function(){return o}),e.b=i;var r=n(1),o="https://privacy-policy.teads.tv?utm_source=inread&utm_medium=icon&utm_campaign=adchoices"},function(t,e,n){function i(t){var e;return t&&t.extensions&&t.extensions.length>0&&a.forEach(t.extensions,function(t){t.type===s&&(e=r(t.content))}),e}function r(t){try{return JSON.parse(t)}catch(t){new o.a("ITeadsContextExtension").error(s+" extension throw an exception",t)}}e.a=i;var o=n(4),a=n(3),s="teads-context"},function(t,e,n){n.d(e,"a",function(){return O});var i,r=n(9),o=n(3),a=n(7),s=n(1),c=n(141),u=[{name:"DoubleVerify",domain:/cdn\.doubleverify\.com/,appendRule:function(t,e){t.parentElement.appendChild(e)}},{name:"ComScore",domain:/sb\.voicefive\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}},{name:"IAS",domain:/pixel\.adsafeprotected\.com/,appendRule:function(t,e,n){void 0===n&&(n=s.a),n.filter(c.a).match({some:function(n){return t.parentElement.parentElement.appendChild(e)},none:function(){return t.insertBefore(e,t.firstChild)}})}},{name:"MOAT",domain:/\.moatads\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}},{name:"TeadsQA",domain:/localhost:18100\/track\?action=prefetch/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}}],d=function(t){return o.find(u,function(e){return e.name===t})},l=function(t){return o.find(u,function(e){return e.domain.test(t)})},p=function(){if(void 0!==i)return i;if("undefined"==typeof DOMParser||"function"!=typeof DOMParser)i=!1;else{var t=new DOMParser;try{var e=t.parseFromString("<div>Hello</div>","text/html");i="DIV"===e.body.firstElementChild.nodeName&&"Hello"===e.body.firstElementChild.innerHTML}catch(t){i=!1}}return i},h=function(t,e){var n=e.onEnterElement;if(!0!==n(t))for(var i=t.firstElementChild;i;i=i.nextElementSibling)h(i,{onEnterElement:n})},f=function(t,e){var n=[];return h(t,{onEnterElement:function(t){if(e(t))return n.push(t),!0}}),o.forEach(n,function(t){t.parentElement&&t.parentElement.removeChild(t)}),n},g=function(t,e){var n=[];return h(t,{onEnterElement:function(t){if(e(t))return n.push(t),!0}}),n},m=function(t){var e=t.getAttribute("src");return!("SCRIPT"!==t.nodeName||!e||!o.some(u,function(t){return t.domain.test(e)}))},b=function(t){for(var e=document.createElement("script"),n=0;n<t.attributes.length;n++){var i=t.attributes[n],r=i.name,o=i.value;e.setAttribute(r,o)}return e},v=function(t){var e=new DOMParser,n=w(e)(t),i=o.map(f(n,m),function(t){var e=t.getAttribute("src");return{provider:l(e).name,source:e,script:t}});return{creative:n.innerHTML,viewabilityTags:i}},y=function(t){var e=new DOMParser,n=w(e)(t);o.forEach(g(n,m),function(t){(new Image).src=t.getAttribute("src")})},A=function(t){return"<div>"+t+"</div>"},w=function(t){return function(e){return t.parseFromString(A(e),"text/html").body.firstElementChild}},O=function(){function t(t,e,n){this.connectionType=t,this.playerContainer=e,this.win=n,this.thresholdReached=!1,this.thresholdReachedCallbacks=[],p()}return t.prototype.appendViewabilityTags=function(t,e){var n=this;o.forEach(t,function(t){return d(t.provider).appendRule(n.playerContainer,b(t.script),e)})},t.prototype.getCreativeTag=function(t,e){var n=this;if(void 0===e&&(e=s.a),p()&&this.connectionType.isDisplay()){y(t);var i=v(t),r=i.creative,o=i.viewabilityTags;return this.onceThresholdReached(function(){return n.appendViewabilityTags(o,e)}),r}return t},t.prototype.onceThresholdReached=function(t){this.thresholdReached?t():this.thresholdReachedCallbacks.push(t)},t.prototype.onPercentageVisibilityChange=function(t){this.thresholdReached||.25<=t&&this.resolveThresholdReach()},t.prototype.onScroll=function(){if(!this.thresholdReached){var t=Object(a.getPercentageInView)({element:this.playerContainer,elementAncestors:Object(a.findParentElements)(this.playerContainer),elementClientRect:Object(r.getBoundingClientRect)(this.playerContainer),mainWindow:this.win,elementHeight:Object(r.getSize)(this.playerContainer).height,allowNegative:!0});this.onPercentageVisibilityChange(t)}},t.prototype.resolveThresholdReach=function(){!0!==this.thresholdReached&&(this.thresholdReached=!0,o.forEach(this.thresholdReachedCallbacks,function(t){return t()}),this.thresholdReachedCallbacks=[])},t}()},function(t,e,n){function i(t,e){var n={},i=function(t,e){n[t]||(n[t]={origins:[e],count:0}),n[t].count++,a.includes(n[t].origins,e)||n[t].origins.push(e)};a.forEach(t.mediaFiles,function(t){return i(Object(v.r)(t.url).hostname,"mediafile")}),a.forEach(t.wrappers,function(t){return i(Object(v.r)(t).hostname,"wrapperurl")}),t.url&&i(Object(v.r)(t.url).hostname,"vasturl");for(var r in t.tracking)t.tracking.hasOwnProperty(r)&&a.forEach(t.tracking[r],function(t){return i(Object(v.r)(t.url).hostname,"tracking")});return a.forEach(t.extensions,function(t){switch(t.type){case q.a.MOAT_JS:i(("https:"===Object(y.getProtocol)()?"z":"js")+".moatads.com","extension");break;case q.a.AD_VERIFICATIONS:var n=e.getPlugin("Extensions"),r=n.retrieveCreativePrefetchAdVerificationScriptUrls(t);a.forEach(r,function(t){var e=t.url;return i(Object(v.r)(e).hostname,"extension")})}}),n}function r(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object(o.a)({hostname:n},t[n]));window.teads.vastDomains=e}n.d(e,"b",function(){return Z}),n.d(e,"a",function(){return $});var o=n(0),a=n(3),s=n(5),c=n(9),u=n(38),d=n(1),l=n(10),p=n(7),h=n(4),f=n(24),g=n(11),m=n(21),b=n(20),v=n(16),y=n(2),A=n(189),w=n(80),O=n(88),E=n(190),C=n(295),I=n(296),S=n(297),T=n(298),j=n(200),k=n(300),P=n(126),L=n(219),V=n(187),x=n(301),_=n(165),N=n(170),D=n(18),R=n(129),M=n(78),F=n(103),U=n(134),B=n(220),W=n(62),H=n(56),z=n(79),G=n(118),q=n(115),K=n(8),Y=n(113),X=n(25),Q=n(29),J=n(114),Z=function(t){return function(e){var n=e.height;return Object(l.a)(function(t){return Object(a.map)(t,function(t){return c.getBoundingClientRect(t.getElement()).height})},function(t){return Object(a.reduce)(t,function(t,e){return t+e},n)})(t)}},$=function(){function t(t,e,n,i,r,o,a){var s=this;this.placement=t,this.formatConfig=e,this.player=n,this.markId=i,this.auctionId=r,this.viewerId=o,this.sumologicLogger=a,this.states={hasOpened:!1,isReady:!1,hasRequestedStartAd:!1,hasStarted:!1,hasStopped:!1,hasCompleted:!1,isReplay:!1,isPlaying:!1,isCollapsed:!1,shouldBePaused:!1},this.hasMoatExtension=!1,this.adWidth=0,this.adHeight=0,this.adDuration=-2,this.adRemainingTime=NaN,this.isVertical=!1,this.realVisibilityInterval=d.b.empty(),this.wigo=d.b.empty(),this.initAdTimingMark=d.b.empty(),this.customTrackingsFromTtcAdded=!1,this.trackHeavyAdInterventionWarning=function(t){var e=s,n=e.sumologicLogger,i=e.logger,r=e.auctionId,o=e.viewerId,a=e.slotType,c=e.placement,u=c.key,d=c.wigo,l=c.pageId,p=c.pid,h=c.placementConfig.headerBiddingProvider,f=e.formatConfig,g=f.portfolioItemId,m=f.insertionId,b=f.connectionId,v=f.adSourceId,y=f.dspCampaignId,A=f.dspCreativeId,w=f.scenarioId,O=Object(J.f)(u).studioCreativeId;Object(H.z)({sumologicLogger:n,wigo:d,logger:i,placementKey:u})({headerBiddingProvider:h,pageId:l,placementId:p,slotType:a,auctionId:r,viewerId:o,insertionId:m,connectionId:b,portfolioItemId:g,adSourceId:v,creativeId:String(s.linearAd.creativeId),dspCampaignId:y,dspCreativeId:A,scenarioId:w,studioCreativeId:O,errorCause:"HeavyAdIntervention "+t})},this.logger=new h.a("format"),this.logger.debug("new",e.formatName.get()),this.linearAd=this.player?this.player.getLinearAd():null,this.hasMoatExtension=!!this.player&&this.player.hasMoatExtension(this.linearAd),R.i(this.linearAd),this.slotType=this.placement.slotType,this.parentContainer=this.placement.getParentContainer(),this.playerContainer=this.placement.getPlayerContainer(),this.win=t.placementConfig.parentWindow.getWindow(),this.eventListenerManager=new u.a,this.volumeController=new x.a,this.viewabilityTagsHelper=new V.a(this.formatConfig.adType,this.playerContainer,this.win),this.initComponents(),this.player?this.vpaidApi=this.player.getConfig().vpaidApi:this.vpaidApi=new E.a(t,this)}return t.prototype.setWigo=function(t){this.wigo=d.b.fromNullable(t)},t.prototype.getWigo=function(){return this.wigo.getOrNull()},t.prototype.initComponents=function(){var t=this;if(!this.placement.getElectedSlot())return void this.logger.debug("Could not init components because no elected slot");var e=new T.a(this.formatConfig.label),n=new S.a(this.formatConfig.credits),i=new I.a(this.auctionId),r={label:e,credits:n,honeyPotLink:i};if((this.formatConfig.smartPosition.isEnabled()||this.formatConfig.sliderBehavior.isEnabled())&&(r.smartHeader=new j.a),!this.placement.isSliderEnabled()){r.adChoices=new C.a(function(){return d.b.fromNullable(t.getVpaidAd())});var o=this.formatConfig.formatName.isInBoard()||this.formatConfig.smartPosition.isTop()||!this.formatConfig.label.isEnabled()?0:1;1===o&&this.playerContainer.parentNode.insertBefore(r.adChoices.getElement(),this.playerContainer),d.b.fromNullable(this.player).forEach(function(t){return t.getConfig().adChoicesIconLocation=o})}this.components=new k.a(r),function(e){for(var n in e)d.b.fromNullable(e[n]).filter(function(t){return!!t.getHTML()}).filter(function(t){return!!t.getCSS()}).forEach(function(e){return P.a(e.getCSS(),Object(p.getWindow)(t.parentContainer),"teads-inline-"+Object(g.rand)(5))})}(r),e.getHTML()&&!this.placement.isSliderEnabled()&&this.playerContainer.parentNode.insertBefore(e.getElement(),this.playerContainer),n.getHTML()&&!this.placement.isSliderEnabled()&&this.playerContainer.parentNode.appendChild(n.getElement()),this.playerContainer.parentNode.appendChild(i.getElement()),this.placement.placementConfig.css.applyRulesOn(this.parentContainer)},t.prototype.getBrandingMode=function(){return this.brandingMode},t.prototype.getTemplateName=function(){throw new Error("getTemplateName must be implemented in child class")},t.prototype.getVpaidAd=function(){return this.vpaidAd},t.prototype.getVolumeController=function(){return this.volumeController},t.prototype.getFullscreenHelper=function(){return this.fullscreenHelper},t.prototype.exit=function(t){var e=this;switch(this.vpaidAd&&this.vpaidAd.stopAd(),this.smartPositionHelper&&this.smartPositionHelper.disableBehavior(),this.eventListenerManager.removeAll(),this.scrollListener&&Object(U.b)(this.scrollListener),this.vpaidApi&&this.vpaidApi.close(),this.responsive&&this.responsive.unsetResponsive(),this.parentContainer&&this.parentContainer.parentNode&&m.d(function(){e.parentContainer&&e.parentContainer.parentNode&&(e.parentContainer.parentNode.removeChild(e.parentContainer),e.unsetVisibility())},2e3),t){case 4:this.logger.info("Format successfully exited after displaying an ad");break;case 5:this.logger.info("Format successfully exited without displaying an ad");break;case 6:this.logger.info("Format successfully exited because the VAST contains a MOAT extension while the player is hidden by CSS");break;case 1:this.logger.error("Format exited with an ad error");break;case 2:this.logger.error("Format exited due to resize denied on opening by AMP framework");break;case 3:this.logger.error("Format exited due to an exception thrown during replay");break;default:this.logger.warn("Format exited with unknown status")}if(window.location.hostname!==w.a)for(var n=_.e[this.formatConfig.formatName.get()],i=0,r=n.length;i<r;i++)if(n[i]===this){n.splice(i,1);break}s.isAmp()&&(5!==t?R.a():this.placement.placementConfig.fallback.hasValue()||(R.a(),R.h())),s.isIABSafeFrame()&&F.a()},t.prototype.getCurrentTime=function(){return this.adDuration>0&&this.adRemainingTime>=0?this.adDuration-this.adRemainingTime:0},t.prototype.getEnvironmentVars=function(){return d.b.fromNullable(this.vpaidAd).flatMap(function(t){return t.getTeadsEnvironmentVars()}).getOrValue({})},t.prototype.load=function(t,e){var n=this,i=function(t){n.logger.error("VPAID play:",t);var i=n.getCidAndStudioCid(),r=i.cid,o=i.studioCid;n.sumologicLogger.error("loading-mediafile cid="+r+" scid="+o+" "+Object(M.b)(t)),e&&e(t)},r=function(e,i){n.vpaidAd=e,n.initAdConfig=i,t&&(n.formatConfig.callbacks.trigger("adAvailable"),t()),n.sumologicLogger.info(z.a.getMediaFileRatioLog(n.player.getMediafile(),n.placement.pid,d.b.fromNullable(n.formatConfig.adSourceId)))},o=Object(O.c)(this.formatConfig.portfolioItemId)?function(){return!0}:function(t){return n.placement.placementConfig.allowedRatio.mediafileRatioIsValid(t,z.a.getRatio)},c=function(t){var e=[286904,287249,287308],i=D.b.forceVpaidSandboxing||t===G.a.VPAID&&Object(y.isNumber)(n.formatConfig.connectionId)&&!Object(s.isIABSafeFrame)()&&Object(a.includes)(e,n.formatConfig.connectionId)&&!Object(s.isSDK)();return n.logger.debug('Use a sandboxed VPAID container (i.e. cross-origin iframe) for media provider "'+t+'"',i),i};!this.player&&t?t():this.mediafile?this.player.loadMediaFile(this.mediafile,r,i,c):this.player.loadOptimalMediaFile(r,i,c,o)},t.prototype.close=function(t){var e=this;this.states.hasStopped||(this.states.hasStopped=!0,!this.states.hasOpened||f.c(s.getIEVersion(),"9")||s.isAmp()||this.states.isCollapsed?(this.collapse(),this.exit(t)):(this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.parentContainer,function(){return e.exit(t)}),this.collapse()))},t.prototype.collapse=function(){this.states.isCollapsed||(this.states.isCollapsed=!0,this.components.hideAllComponents(),this.formatConfig.animations.setCollapseDuration(this.parentContainer),this.parentContainer.style.setProperty("height","0"))},t.prototype.start=function(){this.customTrackingsFromTtcAdded||(this.customTrackingsFromTtcAdded=!0,this.addCustomTracking(window._ttc)),this.logger.debug("VPAID started",this.vpaidAd,this.initAdConfig),this.mediafile=this.player.getMediafile(),this.onVpaidReady(),(Object(O.a)(this.formatConfig.portfolioItemId)||this.formatConfig.friendly)&&(Object(p.makeIframeIABFriendly)(this.vpaidAd.getContainer()),Object(p.makeIframeIABFriendly)(this.vpaidAd.getCreativeContainer())),this.initAdTimingMark=d.b.of(Object(b.l)()),Object(b.i)({name:"m",id:this.markId}),this.vpaidAd.initAd(this.initAdConfig.width,this.initAdConfig.height,this.initAdConfig.mode,this.initAdConfig.bitrate,this.initAdConfig.parameters)},t.prototype.onAdLoaded=function(){var t=this;this.states.isReady=!0,r(i(this.linearAd,this.player)),s.isAmp()&&!R.e()&&(this.sumologicLogger.info("AMP resize open request"),R.g(),R.f(this.vpaidApi.adMetadata.map(Z([this.components.getComponent("label"),this.components.getComponent("credits")])).getOrElse(function(){return t.fitContainerToContent(!0)}),function(e){if(e)t.initInternalResponsive();else{t.close(2),Object(U.b)(t.scrollListener);var n="AMP resize open request denied";t.sumologicLogger.info(n),t.logger.info("AdLoaded",n),t.wigo.forEach(function(t){return t.valid(3,4,n,"error")})}},function(){var t=window._teads_amp.change;return!(t.boundingClientRect.top>=t.rootBounds.height)})),this.volumeController.mute(),this.updateAdSize(),this.vpaidAd.render(this.vpaidAd.getVPAID()),Object(b.i)({name:"n",id:this.markId}),this.sumologicLogger.info(Object(b.f)("al",this.markId)),this.sumologicLogger.info(Object(b.f)("ar2al",this.markId))},t.prototype.onAdVideoStart=function(){this.states.hasCompleted=!1,this.states.isPlaying=!0,this.volumeController.onAdVideoStart()},t.prototype.onAdStarted=function(){this.states.hasStarted=!0,this.vpaidApi.getStudioData()?this.brandingMode.deinit():this.brandingMode.init(),this.placement.placementConfig.capping.record(),this.volumeController.mute(),this.updateAdSize(),this.states.shouldBePaused&&this.requestPauseAd(),Object(b.i)({name:"p",id:this.markId}),this.sumologicLogger.info(Object(b.f)("as",this.markId))},t.prototype.onAdPaused=function(){this.states.isPlaying=!1},t.prototype.onAdPlaying=function(){this.states.isPlaying=!0},t.prototype.onAdStopped=function(){this.states.isPlaying=!1,this.close(4)},t.prototype.onAdSkipped=function(){this.collapse()},t.prototype.onAdVideoComplete=function(){this.states.hasCompleted=!0},t.prototype.onAdError=function(t){var e,n,i=Object(y.isString)(t)?t:Object(M.a)(t),r=null!==(n=null===(e=this.player.getLinearAd())||void 0===e?void 0:e.id)&&void 0!==n?n:-1,o=this.getCidAndStudioCid(),a=o.cid,s=o.studioCid;this.sumologicLogger.error("aderror aid="+r+" cid="+a+" scid="+s+" "+i),this.logger.error("AdError: ",i),this.close(1)},t.prototype.onAdSizeChange=function(){this.updateAdSize()},t.prototype.onAdRemainingTimeChange=function(){this.adRemainingTime=this.vpaidAd.getAdRemainingTime()},t.prototype.onAdDurationChange=function(){this.adDuration=this.vpaidAd.getAdDuration(),this.onAdRemainingTimeChange()},t.prototype.onCollapseRequest=function(){this.formatConfig.callbacks.trigger("CollapseRequest"),this.collapse()},t.prototype.onSoundToggleRequest=function(){var t=this,e=this.getEnvironmentVars();e.videoSlot&&e.videoSlot.audio&&!e.videoSlot.audio.authorized?e.videoSlot.audio.authorizeAudio(function(){return t.volumeController.toggleVolume()}):this.volumeController.toggleVolume()},t.prototype.onReplayRequest=function(){this.replay()},t.prototype.onEndscreenInit=function(){this.getInViewState()||(this.logger.debug("The video completed but it's not in view, pause it."),this.requestPauseAd()),this.visibility&&!this.visibility.isEnabled()&&(this.visibility.enable(),this.visibility.isVisible()||this.onHidden())},t.prototype.onEarlyClick=function(){var t=this,e=t.sumologicLogger,n=t.logger,i=t.auctionId,r=t.viewerId,o=t.slotType,a=t.placement,s=a.key,c=a.wigo,u=a.pageId,d=a.pid,l=a.placementConfig.headerBiddingProvider,p=t.formatConfig,h=p.portfolioItemId,f=p.insertionId,g=p.connectionId;Object(H.m)({sumologicLogger:e,wigo:c,logger:n,placementKey:s})({headerBiddingProvider:l,pageId:u,placementId:d,slotType:o,auctionId:i,viewerId:r,insertionId:f,connectionId:g,portfolioItemId:h})},t.prototype.onVisible=function(){if(this.logger.debug("Format is visible",this.playerContainer.id),!this.states.hasStopped&&this.states.hasOpened&&this.states.hasStarted){var t=void 0;t=this.formatConfig.videoPause.isThreshold()||this.states.hasCompleted?!this.getInViewState():!this.formatConfig.videoPause.isNo(),t||this.requestResumeAd(),this.logger.debug("onVisible mustPause",t)}},t.prototype.onHidden=function(){this.logger.debug("Format is hidden",this.playerContainer.id),this.states.hasStarted&&this.states.isPlaying&&(!this.formatConfig.videoPause.isNo()||this.states.hasCompleted?this.requestPauseAd():!this.formatConfig.soundMute.isNo()&&this.volumeController.getVolume()>0&&this.volumeController.mute())},t.prototype.initInternalResponsive=function(t){void 0===t&&(t=!0),this.player&&this.vpaidAd&&(this.player.getPlugin("Responsive").deinit(),this.responsive=new L.a(this),t&&this.responsive.resizeOnStart())},t.prototype.onVpaidReady=function(){var e=this;s.isAmp()||this.initInternalResponsive(),this.isVertical=this.player.getMediafile().height>t.VERTICAL_MARGIN*this.player.getMediafile().width,this.volumeController.init(this),this.visibility=A.a.listenWindow(Object(p.findTopWindow)(this.playerContainer),function(){return e.onVisible()},function(){return e.onHidden()}),this.vpaidAd.subscribe(function(){return e.onAdLoaded()},K.a.AdLoaded),this.vpaidAd.subscribe(function(){return e.onAdVideoStart()},K.a.AdVideoStart),this.vpaidAd.subscribe(function(){return e.onAdStarted()},K.a.AdStarted),this.vpaidAd.subscribe(function(){return e.onAdPaused()},K.a.AdPaused),this.vpaidAd.subscribe(function(){return e.onAdPlaying()},K.a.AdPlaying),this.vpaidAd.subscribe(function(){return e.onAdSizeChange()},K.a.AdSizeChange),this.vpaidAd.subscribe(function(){return e.onAdDurationChange()},K.a.AdDurationChange),this.vpaidAd.subscribe(function(){return e.onAdRemainingTimeChange()},K.a.AdRemainingTimeChange),this.vpaidAd.subscribe(function(){return e.onAdVideoComplete()},K.a.AdVideoComplete),this.vpaidAd.subscribe(function(){return e.onAdStopped()},K.a.AdStopped),this.vpaidAd.subscribe(function(){return e.onAdSkipped()},K.a.AdSkipped),this.vpaidAd.subscribe(function(t){return e.onAdError(t)},K.a.AdError),this.vpaidAd.subscribe(this.trackHeavyAdInterventionWarning,Q.a.AdWarningHeavyAdIntervention),this.vpaidAd.subscribe(function(t){var n="HeavyAdIntervention "+t;e.wigo.forEach(function(t){return t.valid(3,4,n,"error")}),e.scrollListener&&Object(U.b)(e.scrollListener),e.clearRealVisibilityInterval(),e.unsetVisibility()},Q.a.AdRemovedHeavyAdIntervention);var n=this;for(var i in K.a)!function(t){K.a.hasOwnProperty(t)&&n.vpaidAd.subscribe(function(){e.formatConfig.callbacks.trigger(t,e.volumeController,e.fullscreenHelper)},t)}(i);this.linearAd.clickThrough&&this.linearAd.clickThrough.length&&this.vpaidAd.subscribe(function(){e.onHidden()},K.a.AdClickThru),this.vpaidAd.subscribe(function(){return e.onCollapseRequest()},X.a.CollapseRequest),this.vpaidAd.subscribe(function(){return e.onSoundToggleRequest()},X.a.SoundToggleRequest),this.vpaidAd.subscribe(function(){return e.onReplayRequest()},X.a.ReplayRequest),this.vpaidAd.subscribe(function(){return e.onEndscreenInit()},X.a.EndscreenInit),this.vpaidAd.subscribe(function(){return e.onEarlyClick()},X.a.EarlyClickRequest),this.formatConfig.vtpEvent.getEvent()&&this.vpaidAd.subscribe(function(){return e.onVtpEvent()},this.formatConfig.vtpEvent.getEvent())},t.prototype.triggerOnVtpEvent=function(){this.formatConfig.videoPause.setToNo(),this.states.isPlaying||this.requestResumeAd()},t.prototype.onVtpEvent=function(){if(!this.formatConfig.videoPause.isNo())if(this.formatConfig.vtpEvent.getEvent()===K.a.AdRemainingTimeChange){var t=this.vpaidAd.getAdDuration(),e=this.vpaidAd.getAdRemainingTime(),n=Math.floor(t-e);!isNaN(n)&&n>0&&n>=this.formatConfig.vtpEvent.getOffset()&&this.triggerOnVtpEvent()}else this.triggerOnVtpEvent()},t.prototype.updateAdSize=function(){this.adWidth=this.vpaidAd.getAdWidth(),this.adHeight=this.vpaidAd.getAdHeight()},t.prototype.replay=function(){var t=this;this.logger.debug("replay called");var e=this,n=e.sumologicLogger,i=e.logger,r=e.auctionId,o=e.viewerId,a=e.slotType,c=e.placement,u=c.key,d=c.wigo,l=c.pageId,p=c.pid,h=c.placementConfig.headerBiddingProvider,f=e.formatConfig,g=f.portfolioItemId,m=f.insertionId,b=f.connectionId;Object(H.k)({sumologicLogger:n,wigo:d,logger:i,placementKey:u})({headerBiddingProvider:h,pageId:l,placementId:p,slotType:a,auctionId:r,viewerId:o,insertionId:m,connectionId:b,portfolioItemId:g}),this.sumologicLogger.info("click-replay "+s.getContextSummary(),1),this.volumeController.replay();try{this.player.getPlugin("Responsive").unsetResponsive(),W.b.vast.resetTrackedEvents(this.placement.key),this.player.setLinearAd(this.linearAd),this.responsive&&this.responsive.unsetResponsive(),this.unsetVisibility(),this.states.isReady=!1,this.states.hasOpened=!0,this.states.hasRequestedStartAd=!1,this.states.hasStarted=!1,this.states.hasStopped=!1,this.states.hasCompleted=!1,this.states.isReplay=!0,this.vpaidAd=null,Y.a.hasLogged=[],s.isDesktop()&&this.formatConfig.videoStart.isClick()&&(this.formatConfig.videoStart=new N.a(N.a.DEFAULT,this.formatConfig.formatName)),this.load(function(){return t.start()})}catch(t){this.logger.error("Replay callback threw an exception",t),this.close(3)}},t.prototype.unsetVisibility=function(){this.visibility&&(this.visibility.destroy(),this.visibility=null)},t.prototype.isWindowVisible=function(){return s.isAmp()?!!this.visibility&&(this.visibility.isVisible()&&R.e()):!this.visibility||!this.visibility.isEnabled()||this.visibility.isVisible()},t.prototype.isElementVisibleForMoat=function(){var t=this;return!(!s.isAmp()&&!s.isIABSafeFrame())||Object(p.checkElementVisibility)(this.playerContainer,this.formatConfig.threshold.get()).fold(function(e){var n=t,i=n.sumologicLogger,r=n.logger,o=n.auctionId,a=n.viewerId,s=n.slotType,c=n.placement,u=c.key,d=c.wigo,l=c.pageId,p=c.pid,h=c.placementConfig.headerBiddingProvider,f=n.formatConfig,g=f.portfolioItemId,m=f.insertionId,b=f.connectionId;return Object(H.x)({sumologicLogger:i,wigo:d,logger:r,placementKey:u})({headerBiddingProvider:h,pageId:l,placementId:p,slotType:s,auctionId:o,viewerId:a,insertionId:m,connectionId:b,portfolioItemId:g,notVisibleReason:e}),!1},function(){return t.isWindowVisible()})},t.prototype.getInViewState=function(){return this.getViewportInViewState()&&(!this.states.hasOpened||this.getFullscreenHelper().isActive()||this.isElementVisibleForMoat())},t.prototype.clearRealVisibilityInterval=function(){this.realVisibilityInterval.forEach(function(t){return t.clear()}),this.realVisibilityInterval=d.b.empty()},t.prototype.requestPauseAd=function(){this.states.hasStarted?this.vpaidAd.pauseAd():this.states.shouldBePaused=!0},t.prototype.requestResumeAd=function(){this.states.hasStarted?this.vpaidAd.resumeAd():this.states.shouldBePaused=!1},t.prototype.onScroll=function(t){this.wigo.forEach(function(t){return t.followElement()})},t.prototype.startAd=function(){this.states.hasRequestedStartAd||(this.states.hasRequestedStartAd=!0,Object(b.i)({name:"o",id:this.markId}),this.vpaidAd.startAd())},t.prototype.getCidAndStudioCid=function(){var t,e=d.b.fromNullable(null===(t=this.vpaidApi.getContextData())||void 0===t?void 0:t.tracking);return{cid:e.map(function(t){return""+t.cid}).getOrValue(""),studioCid:e.map(function(t){return""+t.studio_cid}).getOrValue("")}},t.prototype.addCustomTracking=function(t){var e,n=this;void 0===t&&(t={}),Object(y.hasOwnProperty)(t,this.placement.pageId)&&Object(l.b)(null!==(e=t[this.placement.pageId].trackings)&&void 0!==e?e:[],B.c,Object(y.tap)(function(t){return n.logger.debug("Custom trackings from _ttc handled",t)}),a.cArray.forEach(W.b.vast.addVastCustomTrackings(this.placement.key)))},t.VERTICAL_MARGIN=1.05,t}()},function(t,e,n){n.d(e,"a",function(){return d});var i=n(1),r=n(3),o=n(7),a=n(5),s=n(38),c=n(4),u=n(2),d=function(){function t(e,n,i){var r=this;if(this.win=e,this.onVisible=n,this.onHidden=i,this.prefixes=["","webkit","ms","moz"],this.props=["VisibilityState","visibilitychange","Hidden"],this.isInitialState=!0,this.enabled=!0,this.isAmpVisible=!0,this.windows=[],t.logger.debug("init"),this.eventListenerManager=new s.a,a.isAmp()){t.logger.debug("Init AMP visibility plugin");var o=function(e){window.context&&(window.context.hidden&&r.isAmpVisible?(t.logger.debug("AMP visibility, window is hidden, call hidden callback"),r.isAmpVisible=!1,r.onHiddenCallback()):window.context.hidden||r.isAmpVisible||(t.logger.debug("AMP visibility, window is visible, call visibile callback"),r.isAmpVisible=!0,r.onVisibleCallback()))};return void this.eventListenerManager.add("amp:visibilitychange",window,o)}if(a.isIABSafeFrame()){var c,u=!0;return void(this.intervalIABSafeFrame=setInterval(function(){c=r.isVisible(),c&&!u?(u=!0,r.onVisibleCallback()):!c&&u&&(u=!1,r.onHiddenCallback())},500))}this.prefix=this.getPrefix(),this.addWindow(this.win),this.visibleWindow=this.win}return t.listenWindow=function(e,n,i){return new t(e,n,i)},t.prototype.destroy=function(){var e=this;try{if(a.isAmp())return void this.eventListenerManager.remove("amp:visibilitychange");a.isIABSafeFrame()&&clearInterval(this.intervalIABSafeFrame),clearInterval(this.intervalFocus),this.eventListenerManager.removeAll(),r.forEach(this.windows,function(t){t.focus(),e.removeWindow(t,!1)}),t.logger.debug("destroy")}catch(e){t.logger.error("Visibility could not be fully destroyed.",e)}finally{this.disable(),this.windows=[]}},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isVisible=function(){var t;if(a.isAmp())t=this.isAmpVisible;else if(a.isIABSafeFrame()){var e=a.getIABSafeFrameWindow();t=!Object(u.isUndefined)(e)&&e.$sf.ext.winHasFocus?e.$sf.ext.winHasFocus():!document.hidden}else t=!!this.visibleWindow;return t},t.prototype.addWindow=function(t){var e=this;-1===r.indexOf(this.windows,t)&&(this.windows.push(t),this.addListener(t,function(){return e.setWindowVisible(t)},function(){return e.setWindowHidden(t)}))},t.prototype.removeWindow=function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),r.indexOf(this.windows,t)>-1){var i=this.isVisible();n&&this.windows.splice(r.indexOf(this.windows,t),1),e&&i&&!this.isVisible()&&this.onHiddenCallback()}},t.prototype.getWindows=function(){return this.windows},t.prototype.addListener=function(e,n,i){var a=this;try{var s=e.document;if(this.prefixesSupported(s)){var c=function(){s[a.getPrefixedMethodName(a.props[2])]?i():n()};this.eventListenerManager.add(this.getPrefixedMethodName(this.props[1]),s,c)}else if(s.hasFocus)t.logger.debug("Add listener on hasFocus method with an interval of 100ms"),clearInterval(this.intervalFocus),this.intervalFocus=setInterval(function(){s.hasFocus()?n():i()},100);else{var u=o.findAllWindows(this.win.document.body,!0);r.forEach(u,function(t){a.addWindow(t)}),t.logger.debug("Add listener on focus and blur events");var d=function(e){t.logger.debug("Exec callback visible"),n()},l=function(n){t.logger.debug("Exec callback hidden"),e===n.target&&i()};e.tt_visibility_visible=d,e.tt_visibility_hidden=l,e.hasOwnProperty("onpageshow")&&(this.eventListenerManager.add("pageshow",e,function(e){t.logger.debug("pageshow event received"),d()}),this.eventListenerManager.add("pagehide",e,function(e){t.logger.debug("pagehide event received"),l(e)})),this.eventListenerManager.add("focus",e,function(e){t.logger.debug("focus event received"),clearTimeout(a.eventTimeout),d()}),this.eventListenerManager.add("blur",e,function(e){t.logger.debug("blur event received"),a.eventTimeout=setTimeout(function(){l(e)},10)})}}catch(t){}},t.prototype.setWindowVisible=function(e){this.isInitialState||this.isVisible()||(this.visibleWindow=e,t.logger.debug("onVisible callback exec"),this.onVisibleCallback())},t.prototype.setWindowHidden=function(e){this.isInitialState=!1,a.isIABSafeFrame()&&this.isVisible()||this.isVisible()&&(this.visibleWindow=null,t.logger.debug("onHidden callback exec"),this.onHiddenCallback())},t.prototype.onVisibleCallback=function(){this.enabled&&this.onVisible()},t.prototype.onHiddenCallback=function(){this.enabled&&this.onHidden()},t.prototype.getPrefixedMethodName=function(t,e){var n=this;return i.b.fromNullable(e).orElse(function(){return i.b.fromNullable(n.prefix)}).match({some:function(e){return e+t},none:function(){return t.toLowerCase()}})},t.prototype.getPrefix=function(t){t||(t=window.document);for(var e=0,n=this.prefixes.length;e<n;e++){var i=this.getPrefixedMethodName(this.props[2],this.prefixes[e]);if(null!==t[i]&&void 0!==t[i])return this.prefixes[e]}},t.prototype.prefixesSupported=function(t){var e=this;if(a.isDesktop())return!1;var n=!1;return r.forEach(this.props,function(i){n=n||e.getPrefixedMethodName(i,e.prefix)in t}),n},t.logger=new c.a("Visibility"),t}()},function(t,e,n){n.d(e,"a",function(){return T});var i=n(0),r=n(3),o=n(26),a=n(8),s=n(133),c=n(4),u=n(7),d=n(18),l=n(1),p=n(6),h=n(29),f=n(268),g=n(186),m=n(120),b=n(2),v=n(13),y=n(132),A=n(9),w=n(5),O=n(126),E=n(16),C=n(25),I=n(62),S=function(t){return Object(r.includes)([15,16,43,50,51],t)},T=function(){function t(t,e){this.placement=t,this.format=e,this.adMetadata=l.a,this.logger=new c.a("VPAIDApi");var n=this.placement.getPlayerContainer(),i=u.getWindow(n);this.communicationBridge=new s.a(this,i),this.communicationBridge.startListening()}return t.prototype.close=function(){this.communicationBridge&&this.communicationBridge.stopListening()},t.prototype.setStudioData=function(t){var e=this.format.getVpaidAd();this.studioData=t,e.status>=o.a.STARTED?this.applyStudioDataOnUI():e.subscribe(Object(v.a)(this.applyStudioDataOnUI,this),a.a.AdStarted)},t.prototype.applyStudioDataOnUI=function(){if(this.studioData)try{I.b.vast.setStudioCreativeId(this.format.placement.key)(this.studioData.studio_cid);var t=this.format.getVpaidAd(),e=t.getComponent("soundbutton");e&&e.setShowOnVideoStart(!this.studioData.display);var n=t.getComponent("progressbar");n&&(n.setShowOnVideoProgress(!this.studioData.display),n.setShowOnVideoStart(!this.studioData.display)),this.setSoundControlVisibility(!this.studioData.display),this.setProgressControlVisibility(!this.studioData.display)}catch(t){this.logger.error("setStudioData error "+t.message)}else this.logger.error("applyStudioDataOnUI error","studioData needed to apply them on UI")},t.prototype.getSumologicOption=function(){return{enabled:d.b.isSumologicLogsEnabled,pid:this.placement.pid,formatVersion:"638"}},t.prototype.isStudioDisplay=function(){return this.studioData&&this.studioData.display},t.prototype.getStudioData=function(){try{this.studioData=this.studioData||m.b(this.format.linearAd)}catch(t){this.logger.error("getStudioData error","format has not been instantiated yet",t)}return this.studioData},t.prototype.getContextData=function(){return g.a(this.format.linearAd)},t.prototype.isReplay=function(){return this.format.states.isReplay},t.prototype.activateTapMode=function(t){void 0===t&&(t=!0)},t.prototype.performTapMode=function(t){var e=this.format.getBrandingMode();e&&(void 0===t&&(t=!e.isActive()),t?e.isInitialized()?e.isActive()||e.start():(e.init(),e.start()):e.isActive()?(e.stop(),e.deinit()):e.isInitialized()&&e.deinit())},t.prototype.isFullscreen=function(){return this.format.getFullscreenHelper().isActive()},t.prototype.requestFullscreen=function(){try{this.format.getVpaidAd().dispatchCustomEvent("FullscreenRequest")}catch(t){this.logger.error("requestFullscreen error "+t.message)}},t.prototype.setSoundControlVisibility=function(t){try{var e=this.format.getVpaidAd();t?e.showComponent("soundbutton"):e.hideComponent("soundbutton")}catch(t){this.logger.error("setSoundControlVisibility error "+t.message)}},t.prototype.setFullscreenButtonVisibility=function(t){try{var e=this.format.getVpaidAd();t?e.showComponent("fullscreenbutton"):e.hideComponent("fullscreenbutton")}catch(t){this.logger.error("setFullscreenButtonVisibility error "+t.message)}},t.prototype.setProgressControlVisibility=function(t){try{var e=this.format.getVpaidAd();t?e.showComponent("progressbar"):e.hideComponent("progressbar")}catch(t){this.logger.error("setProgressControlVisibility error "+t.message)}},t.prototype.setStartScreenVisibility=function(t){try{var e=this.format.getVpaidAd();t?e.showComponent("startscreen"):e.hideComponent("startscreen")}catch(t){this.logger.error("setStartScreenVisibility error "+t.message)}},t.prototype.getSlotBounds=function(){var t=this,e=!Object(E.j)(location.href);return p.a.tryCatch(function(){var n,r,o=t.placement.getPlayerContainer(),a=u.getWindow(o),s=A.getBoundingClientRect(o,e),c=(null!==(r=null===(n=t.format.responsive)||void 0===n?void 0:n.getOptimalDimension())&&void 0!==r?r:{width:s.width}).width;return Object(i.a)(Object(i.a)({},s),{viewportHeight:a.innerHeight,viewportWidth:a.innerWidth,maxWidth:c})}).orElse(function(e){return t.logger.error("getSlotBounds error "+e.message),Object(p.b)(e)}).toOption().getOrNull()},t.prototype.sendAdClickThru=function(t){var e=this;p.a.tryCatch(function(){e.format.getVpaidAd().dispatchCustomEvent(a.a.AdClickThru,t)}).tapLeft(function(t){return e.logger.error("sendAdClickThru error "+t.message)})},t.prototype.sendVideoMetadata=function(t){var e=this;S(this.format.formatConfig.portfolioItemId)&&(this.adMetadata=l.b.fromNullable(t)),p.a.tryCatch(function(){e.format.getVpaidAd().dispatchCustomEvent(h.a.AdVideoMetadata,t)}).tapLeft(function(t){return e.logger.error("sendVideoMetadata error "+t.message)})},t.prototype.hideCredits=function(){var t=this;p.a.tryCatch(function(){var e;return l.b.fromNullable(null===(e=t.format.components.getComponent("credits"))||void 0===e?void 0:e.getElement()).forEach(Object(u.setCSSProp)("display","none"))}).tapLeft(function(e){return t.logger.error("Something went wrong when trying to hide the credits",e)})},t.prototype.sendReplayRequest=function(){var t=this;p.a.tryCatch(function(){t.format.getVpaidAd().dispatchCustomEvent(C.a.ReplayRequest)}).tapLeft(function(e){return t.logger.error("sendReplayRequest error "+e.message)})},t.prototype.setFixedBackgroundImage=function(t,e){var n=this;void 0===e&&(e=b.noop),this.fixedBackgroundImage=this.fixedBackgroundImage||new f.a(this.placement.getPlayerContainer(),this.placement.getParentContainer());var i=this.format.getVpaidAd();this.setBackgroundColor("transparent"),this.hideVideoContainer(),w.isUIWebview()||i.subscribe(function(){return n.fixedBackgroundImage.resize()},a.a.AdSizeChange),i.subscribe(function(){return n.fixedBackgroundImage.resize()},a.a.AdStarted),i.subscribe(function(){return n.fixedBackgroundImage.destroy()},a.a.AdStopped),i.subscribe(function(){return n.fixedBackgroundImage.destroy()},a.a.AdError),this.fixedBackgroundImage.loadImage(t,function(){n.fixedBackgroundImage.initContainer(),n.logger.debug("background image ready !"),i.status>=o.a.LOADED?(n.fixedBackgroundImage.append(),n.checkTouchOverflow(n.fixedBackgroundImage)):i.subscribe(function(){n.fixedBackgroundImage.append(),n.checkTouchOverflow(n.fixedBackgroundImage)},a.a.AdLoaded),e()})},t.prototype.setFixedBackgroundVideo=function(t,e){var n=this;void 0===e&&(e=b.noop),this.fixedBackgroundVideo=this.fixedBackgroundVideo||new f.a(this.placement.getPlayerContainer(),this.placement.getParentContainer());var i=this.format.getVpaidAd();this.setBackgroundColor("transparent"),this.hideVideoContainer(),w.isUIWebview()||i.subscribe(function(){return n.fixedBackgroundVideo.resize()},a.a.AdSizeChange),i.subscribe(function(){return n.fixedBackgroundVideo.resize()},a.a.AdStarted),i.subscribe(function(){return n.fixedBackgroundVideo.destroy()},a.a.AdStopped),i.subscribe(function(){return n.fixedBackgroundVideo.destroy()},a.a.AdError),this.fixedBackgroundVideo.loadVideo(t,this.format.getEnvironmentVars(),function(t){t&&(n.fixedBackgroundVideo.initVideoContainer(i),n.logger.debug("background video ready !"),i.status>=o.a.LOADED?(n.fixedBackgroundVideo.append(),n.checkTouchOverflow(n.fixedBackgroundVideo)):i.subscribe(function(){n.fixedBackgroundVideo.append(),n.checkTouchOverflow(n.fixedBackgroundVideo)},a.a.AdLoaded)),e()})},t.prototype.hideVideoContainer=function(){var t=this.format.getVpaidAd().getCreativeContainer();(function(t){return(Object(w.isAmp)()||Object(w.isIABSafeFrame)())&&"IFRAME"!==t.tagName?t.ownerDocument:t.contentDocument})(t).getElementById("video-container").style.setProperty("display","none")},t.prototype.setBackgroundColor=function(t){try{this.format.getVpaidAd().getVPAIDContainer().style.setProperty("background-color",t)}catch(t){this.logger.error("setBackgroundColor error "+t.message)}},t.prototype.addDeviceOrientationListener=function(){y.a(this,this.communicationBridge,u.getWindow(this.placement.getPlayerContainer()))},t.prototype.getUserLocation=function(t,e){y.c(u.getWindow(this.placement.getPlayerContainer()),t,e)},t.prototype.customizeUI=function(t){var e=this;l.b.fromNullable(this.placement).match({some:function(n){return l.b.fromNullable(e.format).match({some:function(n){return l.b.fromNullable(n.getVpaidAd()).match({some:function(e){var n=u.getWindow(e.getMainComponentsContainer());O.c("vpaid-ui-custom-css",n),O.a(t,n,"vpaid-ui-custom-css")},none:function(){return e.logger.error("customizeUI: getVpaidAd() returned undefined or null")}})},none:function(){return e.logger.error("customizeUI: getFormat() returned undefined or null")}})},none:function(){return e.logger.error("customizeUI: this.placement is undefined or null")}})},t.prototype.getTeadsInfo=function(){return{placementId:this.format.formatConfig.placementId||null,connectionId:this.format.formatConfig.connectionId||null,insertionId:this.format.formatConfig.insertionId||null,creativeId:parseInt(this.format.linearAd.creativeId,10)||null,clickPixels:Object(r.map)(this.format.linearAd.tracking.click,function(t){return t.url}),slotType:this.format.slotType,environment:w.getEnv()}},t.prototype.triggerViewabilityTag=function(t){try{this.format.viewabilityTagsHelper.onceThresholdReached(t)}catch(t){this.logger.error("triggerViewabilityTag error "+t.message)}},t.prototype.isMobile=function(){return w.isMobile()||w.isTablet()},t.prototype.isSDK=function(){return Object(w.isSDK)()},t.prototype.getCreativeTag=function(t){var e,n;try{return this.format.viewabilityTagsHelper.getCreativeTag(t,l.b.fromNullable(null===(n=null===(e=this.format)||void 0===e?void 0:e.formatConfig)||void 0===n?void 0:n.portfolioItemId))}catch(e){return this.logger.error('"Unable to get creative tag: "'+e+'"'),t}},t.prototype.checkTouchOverflow=function(t){var e=function(t,n){return t===n||!(!n||!n.parentElement)&&e(t,n.parentElement)};try{var n=this.placement.getParentContainer(),i=t.getBaseContainer();(function(t,n){var i=A.getBoundingClientRect(t),r=u.getDocument(t).elementFromPoint(i.left+i.width/2,i.top+n);return r===t||e(t,r)})(n,-10)&&i.style.setProperty("z-index","-1")}catch(t){}},t.STUDIO_CID_MACRO_METADATA="[STUDIO_CID]",t}()},function(t,e,n){var i=n(273);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){var i=n(274);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){var i=n(128),r=n(10),o=n(163),a=function(t){return t},s={track:function(t,e,n){return Object(o.c)(a(t),t,s.canTrack,e,n)},trackFormatError:function(t,e,n){return Object(r.b)(Object(i.createFormatErrorAction)([i.FormatEvent.AdAvailableErrorVast,t]),function(t){return Object(o.c)(t,i.FormatEvent.AdAvailableErrorVast,s.canTrack,e,n)})},canTrack:o.a};e.a=s},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){n.d(e,"d",function(){return d}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return p}),n.d(e,"b",function(){return h});var i=n(0),r=n(1),o=n(10),a=n(46),s=n(290),c=n(291),u=(c.a.track,c.a.trackProgress,c.a.trackVastError,s.a.track,s.a.trackProgress,s.a.trackVastError,function(t){return function(e){var n=Object(i.e)(e,2),r=n[0],o=n[1];return[Object(i.a)(Object(i.a)({},r),{trackBillable:!1}),r.trackBillable?s.a.track(a.a.Billable,t,o):o]}}),d=function(t,e){return function(n,i){return Object(o.b)([c.a.track(t,e,n),s.a.track(t,e,i)],u(e))}},l=function(t,e){return function(n,i){return Object(o.b)([c.a.trackProgress(t,e,n),s.a.trackProgress(t,e,i)],u(e))}},p=function(t,e){return function(n,a){return Object(o.b)([c.a.trackVastError(t,Object(i.a)(Object(i.a)({},e),{errorCause:r.a}),n),s.a.trackVastError(t,e,a)],u(e))}},h=function(t,e,n){return function(a,d){return Object(o.b)([c.a.trackVastError(t,Object(i.a)(Object(i.a)({},n),{errorCause:r.b.of(e)}),a),s.a.trackVastError(t,n,d)],u(n))}}},function(t,e,n){n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return l});var i=n(0),r=n(3),o=n(10),a=n(2),s=n(46),c=[s.a.Progress,s.a.Click,s.a.Resume,s.a.Pause,s.a.Mute,s.a.Unmute,s.a.Expand,s.a.Collapse],u=function(t,e,n){return function(i){return 0===i.customTrackings.length?i:Object(o.b)(i.customTrackings,r.cArray.filter(Object(o.a)(Object(a.prop)("event"),Object(a.equals)(t))),r.cArray.flatMap(Object(a.prop)("trackingUrls")),function(r){return r.length>0?n(t,function(){return!0},r,e,i):i})}},d=function(t,e,n){return function(i){return 0===i.customTrackings.length?i:Object(o.b)(i.customProgressTrackings,r.cArray.filter(Object(o.a)(Object(a.prop)("offset"),Object(a.equals)(t))),r.cArray.flatMap(Object(a.prop)("trackingUrls")),function(t){return t.length>0?n(s.a.Progress,function(){return!0},t,e,i):i})}},l=function(t,e,n,a){return function(c){return 1===t?c:Object(o.b)(Object(o.b)(Object(i.g)(Array(t-1)),r.cArray.mapWithIndex(function(t,e){return e+1})),Object(r.difference)(c.trackedProgressOffsets),r.cArray.map(function(t){var e,n;return[t,null!==(n=null===(e=Object(r.find)(c.progressTrackings,function(e){return e.offset===t}))||void 0===e?void 0:e.trackingUrls)&&void 0!==n?n:[]]}),r.cArray.filter(function(t){return Object(i.e)(t,2)[1].length>0}),r.cArray.foldLeft(c,function(t,o){var c=Object(i.e)(o,2),u=c[0],d=c[1];return a(s.a.Progress,function(t,e){return n(t,e)&&!Object(r.includes)(e.trackedProgressOffsets,u)},d,e,t,function(t){return Object(i.a)(Object(i.a)({},t),{trackedProgressOffsets:Object(i.g)(t.trackedProgressOffsets,[u])})})}))}}},function(t,e,n){var i=n(0),r=n(65),o=n(299),a=n(8),s=n(87),c=n(7),u=n(84),d=n(201),l=n(38),p=n(21),h=n(25),f=function(t){function e(){var e=t.call(this,"teads-ui-components-smart-header",u.f)||this;return e.isMuted=!0,e.eventListenerManagerAdChoices=new l.a,e.eventListenerManagerSound=new l.a,e.innerHTML=u.g,e}return Object(i.c)(e,t),e.prototype.init=function(t,e){var n=this;this.vpaidAd=t,this.volumeController=e,this.initElement(),this.hide(),this.smartCloseButton=new o.a,this.closeButtonContainer=this.element.getElementsByClassName("close-button-smart")[0],this.closeButtonContainer.appendChild(this.smartCloseButton.getElement()),this.hideCloseButton();var i=this.element.getElementsByClassName("adChoices-button-smart")[0];this.eventListenerManagerAdChoices.add("click",i,function(){return n.onClickAdChoicesButton()}),this.smartSoundButton=this.element.getElementsByClassName("sound-button-smart")[0],this.eventListenerManagerSound.add("click",this.smartSoundButton,function(){return n.onClickSoundButton()}),this.vpaidAd.subscribe(function(){return n.onVolumeChange()},a.a.AdVolumeChange)},e.prototype.showCloseButton=function(){var t=this;this.closeButtonContainer.style.setProperty("display","inline-block"),p.b(function(){return t.smartCloseButton.show()})},e.prototype.hideCloseButton=function(){this.closeButtonContainer.style.setProperty("display","none"),this.smartCloseButton.hide()},e.prototype.isEnabled=function(){return!0},e.prototype.toggleSoundButtonIcon=function(){var t=this.smartSoundButton.firstElementChild,e=this.isMuted?d.a.OFF:d.a.ON,n=this.isMuted?d.a.ON:d.a.OFF;Object(c.replaceClass)(t,e,n)},e.prototype.onClickSoundButton=function(){this.volumeController.toggleVolume()},e.prototype.onClickAdChoicesButton=function(){this.vpaidAd.dispatchCustomEvent(h.a.AdChoicesClickRequest)},e.prototype.onVolumeChange=function(){this.isMuted=Object(s.b)(this.vpaidAd),this.toggleSoundButtonIcon()},e}(r.a);e.a=f},function(t,e,n){n.d(e,"a",function(){return c});var i=n(0),r=n(7),o=n(8),a=n(25),s=n(202),c=(function(){function t(){}t.MUTE="mute"}(),function(){function t(){}return t.OFF="icon-muteoff",t.ON="icon-muteon",t}()),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.eventName=a.a.SoundToggleRequest;var n=document.createElement("div");n.className=c.OFF,this.getElement().appendChild(n);var i=function(){Object(r.replaceClass)(n,e.vpaid.getAdVolume()>0?c.ON:c.OFF,e.vpaid.getAdVolume()>0?c.OFF:c.ON)};this.vpaid.subscribe(i,o.a.AdVolumeChange),this.vpaid.subscribe(i,o.a.AdStarted)},e.prototype.setAdVolume=function(){},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e)},e}(s.a);e.b=u},function(t,e,n){var i=n(0),r=n(7),o=n(8),a=n(25),s=n(87),c=n(31),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastVolume=1,e}return Object(i.c)(e,t),e.prototype.init=function(){var e=this;this.isMuted=s.b(this.vpaid),this.eventName=a.a.SoundToggleRequest,this.vpaid.subscribe(function(){e.isMuted=s.b(e.vpaid),e.onMuteChange()},o.a.AdStarted),this.vpaid.subscribe(function(){e.isMuted=s.b(e.vpaid)},o.a.AdVideoStart),this.vpaid.subscribe(function(){e.hide()},o.a.AdStopped),this.ui.subscribe(function(){e.hide()},a.a.EndscreenInit),this.vpaid.subscribe(function(){(!e.isMuted&&s.b(e.vpaid)||e.isMuted&&!s.b(e.vpaid))&&(e.lastVolume=s.b(e.vpaid)?e.lastVolume:e.vpaid.getAdVolume(),e.isMuted=s.b(e.vpaid),e.onMuteChange())},o.a.AdVolumeChange),this.onMuteChange(),t.prototype.init.call(this)},e.prototype.onMuteChange=function(){r[s.b(this.vpaid)?"addClass":"removeClass"](this.getElement(),"muted")},e.prototype.setAdVolume=function(){this.vpaid.setAdVolume(this.isMuted?this.lastVolume:0)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.setAdVolume(),this.isMuted=!this.isMuted,this.onMuteChange()},e}(c.a);e.a=u},function(t,e,n){n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n(2),r=function(t){return t},o=function(t){return Object(i.isString)(t)}},function(t,e,n){n.d(e,"a",function(){return f});var i=n(1),r=n(6),o=n(64),a=n(38),s=n(4),c=n(8),u=n(5),d=n(3),l=n(7),p=n(9),h=function(t,e,n,i){d.forEach(e,function(t){n.properties.push(f.getPropertyToSave(i,t))}),d.forEach(e,function(e){l.setCSSPropWithImportant(e,t,i)})},f=function(){function t(t,e,n,p,h,f){var g=this;if(this.formatContainer=t,this.vpaidAd=e,this.components=n,this.responsive=p,this.win=h,this.fullscreenElement=f,this.originalVpaidSize={width:0,height:0},this.fullscreenFormatStyle={width:"100%",height:"100%",top:"0",left:"0",position:"fixed","z-index":String(o.d),"background-color":"#000000",margin:"0","max-width":"none",padding:"0"},this.originalFormatStyle={width:"",height:"",top:"",left:"",position:"","z-index":"","background-color":"",margin:"","max-width":"",padding:""},this.canvasTag=null,this.active=!1,this.isVideoPaused=!1,this.wasVideoPaused=!1,this.eventListenerManager=new a.a,this.beforeOpenEventListeners=[],this.closeEventListeners=[],this.logger=new s.a("FullscreenHelper"),this.parentsPropertiesList=[],this.logger.debug("new"),this.vpaidAd.subscribe(function(){return g.isVideoPaused=!0},c.a.AdPaused),this.vpaidAd.subscribe(function(){return g.isVideoPaused=!1},c.a.AdPlaying),!u.isIos()){var m=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"];this.eventListenerManager.addMultiple(m,this.win,function(t){l.isFullscreen(g.win.document)?g.vpaidAd.resizeAd(g.win.screen.width,g.win.screen.height,"fullscreen"):(d.forEach(g.closeEventListeners,function(t){t()}),g.close())}),this.vpaidAd.subscribe(function(){return g.eventListenerManager.removeMultiple(m)},c.a.AdStopped)}this.responsive&&this.responsive.addOrientationChangeListener(function(){return g.handleOrientationChange()}),u.isIos()&&r.a.tryCatch(function(){var t;i.b.fromNullable(null===(t=g.vpaidAd.getCreativeContainer())||void 0===t?void 0:t.contentWindow).forEach(function(t){g.eventListenerManager.add("touchmove",t,function(t){g.isActive()&&t.preventDefault()})})}).tapLeft(function(t){return g.logger.debug("Error when trying to access creative window to prevent touchmove on iOS",t)})}return t.getPropertyToSave=function(t,e){return{name:e,value:t.style.getPropertyValue(e),priority:t.style.getPropertyPriority(e)}},t.prototype.handleOrientationChange=function(){this.active&&(this.logger.debug("orientation change, resizeAd"),this.responsive.resize(!0))},t.prototype.isActive=function(){return this.active},t.prototype.init=function(t){this.vpaidEnvironmentVars=t,this.vpaidEnvironmentVars.videoSlot&&(this.canvasTag=this.vpaidEnvironmentVars.videoSlot.canvas)},t.prototype.addBeforeOpenEventListener=function(t){d.indexOf(this.beforeOpenEventListeners,t)<0&&this.beforeOpenEventListeners.push(t)},t.prototype.addCloseEventListener=function(t){d.indexOf(this.closeEventListeners,t)<0&&this.closeEventListeners.push(t)},t.prototype.open=function(){this.active||(this.active=!0,d.forEach(this.beforeOpenEventListeners,function(t){t()}),l.addClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen"),u.isIos()?(this.overrideParentsProperties(),this.originalVpaidSize.width=Object(p.getBoundingClientRect)(this.formatContainer).width,this.originalVpaidSize.height=this.vpaidAd.getAdHeight(),l.addClass(this.formatContainer,"no-transition"),this.applyStyleRules(),this.components.hideAllComponents()):l.openFullscreen(this.fullscreenElement),this.responsive.resize(!0),this.isVideoPaused?(this.vpaidAd.resumeAd(),this.wasVideoPaused=!0):this.wasVideoPaused=!1)},t.prototype.close=function(){var t=this;this.active&&(l.removeClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen"),u.isIos()?(this.restoreParentsProperties(),l.removeClass(this.formatContainer,"no-transition"),this.components.showAllComponents(),this.restoreStyleRules()):u.isAndroid()?setTimeout(function(){return l.closeFullscreen(t.vpaidAd.getContainer())},100):l.closeFullscreen(this.fullscreenElement),this.wasVideoPaused&&this.vpaidAd.pauseAd(),this.active=!1,this.responsive.resize(!0),this.canvasTag&&this.resetCanvas(),d.forEach(this.closeEventListeners,function(t){t()}))},t.prototype.applyStyleRules=function(){for(var t in this.originalFormatStyle)this.originalFormatStyle.hasOwnProperty(t)&&(this.originalFormatStyle[t]=this.formatContainer.style.getPropertyValue(t));for(var t in this.fullscreenFormatStyle)this.fullscreenFormatStyle.hasOwnProperty(t)&&this.formatContainer.style.setProperty(t,this.fullscreenFormatStyle[t])},t.prototype.restoreStyleRules=function(){for(var t in this.originalFormatStyle)this.originalFormatStyle.hasOwnProperty(t)&&this.formatContainer.style.setProperty(t,this.originalFormatStyle[t])},t.prototype.resetCanvas=function(){this.logger.debug("reset canvas"),this.canvasTag.style.setProperty("position","relative"),this.canvasTag.style.setProperty("top","0"),this.canvasTag.style.setProperty("left","0")},t.prototype.overrideParentsProperties=function(){var e=this;this.parentsPropertiesList=[];var n=l.findParentElements(this.formatContainer);d.forEach(n,function(n){var i={element:n,properties:[]},r=e.win.getComputedStyle(n);r.zIndex&&"auto"!==r.zIndex&&(i.properties.push(t.getPropertyToSave(n,"z-index")),n.style.setProperty("z-index","auto","important")),h("none",["transform","-webkit-transform","transition","-webkit-transition"],i,n),h("auto",["will-change"],i,n),e.parentsPropertiesList.push(i)}),this.parentsPropertiesList.push({element:this.win.document.body,properties:[t.getPropertyToSave(this.win.document.body,"overflow")]}),this.win.document.body.style.setProperty("overflow","hidden")},t.prototype.restoreParentsProperties=function(){d.forEach(this.parentsPropertiesList,function(t){d.forEach(t.properties,function(e){t.element.style.removeProperty(e.name),t.element.style.setProperty(e.name,e.value,e.priority)})})},t}()},function(t,e,n){n.d(e,"a",function(){return C});var i=n(50),r=n(38),o=n(9),a=n(5),s=n(1),c=n(134),u=n(3),d=n(64),l=n(21),p=n(52),h=n(200),f=n(8),g=n(302),m=n(7),b=["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],v=["","-webkit-","-moz-","-o-","-ms-"],y=function(t){u.forEach(v,function(e){t.element.style.setProperty(e+"transition",t.property+" "+t.duration+"s "+t.effect)})},A=function(t){u.forEach(v,function(e){return t.style.removeProperty(e+"transition")})},w=function(t){t.style.removeProperty("transform-origin"),t.style.removeProperty("transform")},O=function(t){t.style.removeProperty("bottom"),t.style.removeProperty("right")},E=function(t){t.style.setProperty("z-index",String(d.d)),t.style.setProperty("position","fixed")},C=function(){function t(t){this.format=t,this.originalPlayerZIndex=String(d.e),this.behaviorIsEnabled=!1,this.transitionEndListenerManager=new r.a,this.transitionInProgress=!1,this.midpointIsReached=!1,this.timeoutSlotIsReached=!1,this.remainingTimeLastSmartInSec=0,this.timerOutOfSlot=null,this.smartElapsedTimeInSec=0,this.detachedSlotState=s.b.empty(),this.currentTop=0,this.iOSRuler=s.b.empty(),this.window=t.placement.placementConfig.parentWindow.getWindow(),this.originalPlayerZIndex=this.format.playerContainer.style.getPropertyValue("z-index")}return Object.defineProperty(t.prototype,"isInDetachedSlot",{get:function(){return this.detachedSlotState.nonEmpty()},enumerable:!1,configurable:!0}),t.prototype.toggleSmartPositionIfNeeded=function(){var t=this;if(!this.behaviorIsEnabled||this.orientationIsLandscape!==this.isOrientationLandscape()||this.transitionInProgress)return void(this.orientationIsLandscape=this.isOrientationLandscape());this.windowTopLimit=this.getWindowTopLimit(),this.detachedSlotState.match({some:function(e){switch(e){case"top":Object(g.d)(t.windowTopLimit,t.creativeTopLimit)&&t.transitionFromTopToNativeSlot();break;case"corner":Object(g.c)(t.isParentContainerInView())&&t.transitionFromCornerToNativeSlot()}},none:function(){switch(Object(g.e)({deviceIsDesktop:Object(a.isDesktop)(),sliderIsEnabled:t.format.formatConfig.sliderBehavior.isEnabled(),placementIsSticky:t.format.formatConfig.sticky.isEnabled(),orientationIsLandscape:t.isOrientationLandscape()})){case"corner":Object(g.a)({sliderIsEnabled:t.format.formatConfig.sliderBehavior.isEnabled(),orientationIsLandscape:t.isOrientationLandscape(),parentContainerIsInView:t.isParentContainerInView()})&&t.transitionFromNativeSlotToCorner();break;case"top":t.updateCreativeTopLimit(),Object(g.b)(t.windowTopLimit,t.creativeTopLimit)&&t.transitionFromNativeSlotToTop()}}})},t.prototype.enableBehavior=function(){var t=this;this.nativeSlotPlaceholder=this.initNativeSlotPlaceholder(),this.format.getFullscreenHelper().addBeforeOpenEventListener(function(){return t.onFullScreenOpen()}),this.format.getFullscreenHelper().addCloseEventListener(function(){return t.onFullScreenClose()}),this.format.responsive.addOrientationChangeListener(function(){return t.onOrientationChange()}),this.orientationIsLandscape=this.isOrientationLandscape(),this.format.player.smartPosition.init(this.format.formatConfig.sliderBehavior.isEnabled(),function(){return t.showCloseButtonAtMidPoint()}),this.updateCreativeTopLimit(),this.behaviorIsEnabled=!0},t.prototype.disableBehavior=function(){var t=this;this.behaviorIsEnabled&&(this.behaviorIsEnabled=!1,this.detachedSlotState.forEach(function(e){switch(e){case"top":t.transitionFromTopToNativeSlot();break;case"corner":t.transitionFromCornerToNativeSlot()}}),this.format.formatConfig.sliderBehavior.isEnabled()||this.nativeSlotPlaceholder.parentNode.removeChild(this.nativeSlotPlaceholder),Object(i.e)(),this.iOSRuler=s.a)},t.prototype.moveToCornerPosition=function(){var e=this;this.detachedSlotState=Object(s.c)("corner"),this.header||this.createSmartHeader();var n=this.format.formatConfig.sliderBehavior.isEnabled()&&this.format.formatConfig.slider.closeButtonEnabled();this.format.player.smartPosition.setCornerPositionPlayerComponents({shouldShowCloseButton:n||this.timeoutSlotIsReached||this.midpointIsReached,showHeaderCloseButton:function(){return e.header.showCloseButton()}}),this.updateCloseButtonTimers(),E(this.format.playerContainer),this.format.responsive.unsetResponsive(),this.format.responsive.setResponsive(function(){return e.handleDetachedSlotResize("corner")}),Object(m.addClass)(this.format.playerContainer,t.CUSTOMIZATION_CSS_CLASS.CORNER),this.executeNativeSlotPlaceholderFadeAnimation("#000000","#ffffff"),this.executeOncePlayerTransitionEnded().then(function(){e.listenIOSNativeHeaderBarMovements(),e.setPlayerCornerPosition({withMarginFromEdge:!0}),A(e.format.playerContainer),w(e.format.playerContainer),e.transitionInProgress=!1}),this.slideInUpCornerPosition()},t.prototype.getOptimalDimension=function(t,e){return"corner"===e?this.format.responsive.getOptimalDimensionBasedOnSurface():this.format.responsive.getOptimalDimension(t)},t.prototype.slideOutDownCornerPosition=function(){var e=o.getBoundingClientRect(this.format.playerContainer).height;this.format.playerContainer.style.setProperty("transform-origin","bottom"),this.format.playerContainer.style.setProperty("transform","translateY("+(e+t.MARGIN_FROM_EDGES_IN_PX)+"px)"),y({element:this.format.playerContainer,property:"transform",duration:t.TRANSITION_DURATION_IN_SECONDS,effect:"ease-in"})},t.prototype.transitionFromNativeSlotToCorner=function(){this.transitionInProgress=!0,this.showCompensationDiv(),this.moveToCornerPosition()},t.prototype.transitionFromNativeSlotToTop=function(){this.transitionInProgress=!0,this.showCompensationDiv(),this.updateCloseButtonTimers(),this.moveToTopPosition(),this.transitionInProgress=!1},t.prototype.createSmartHeader=function(){var t=this;this.header=new h.a,this.header.init(this.format.getVpaidAd(),this.format.getVolumeController()),this.header.smartCloseButton.onClickAction=function(){t.disableBehavior(),t.format.formatConfig.sliderBehavior.isEnabled()&&t.format.getVpaidAd().skipAd()},this.format.playerContainer.insertBefore(this.header.getElement(),this.format.playerContainer.firstChild)},t.prototype.updateCloseButtonTimers=function(){this.timeoutSlotIsReached||this.midpointIsReached||this.format.player.smartPosition.isCloseButtonMode(2)||(this.remainingTimeLastSmartInSec=this.format.getVpaidAd().getAdRemainingTime(),this.timerOutOfSlot=this.showCloseButtonHandler())},t.prototype.moveToTopPosition=function(){var e=this;this.detachedSlotState=Object(s.c)("top"),Object(m.addClass)(this.format.playerContainer,t.CUSTOMIZATION_CSS_CLASS.TOP),this.format.player.smartPosition.setTopPositionPlayerComponents({shouldShowCloseButton:this.timeoutSlotIsReached||this.midpointIsReached,onCloseButtonClick:function(){return e.disableBehavior()}}),E(this.format.playerContainer),this.handleFloatingHeaders(),this.format.playerContainer.style.setProperty("top",this.currentTop+"px"),this.format.responsive.unsetResponsive(),this.format.responsive.setResponsive(function(){return e.handleDetachedSlotResize("top")})},t.prototype.slideInUpCornerPosition=function(){var e=o.getBoundingClientRect(this.format.playerContainer).height;this.header.show(),this.format.playerContainer.style.setProperty("bottom","-"+e+"px"),this.format.playerContainer.style.setProperty("right",t.MARGIN_FROM_EDGES_IN_PX+"px"),this.format.playerContainer.style.setProperty("transform-origin","bottom"),this.format.playerContainer.style.setProperty("transform","translateY(-"+(e+t.MARGIN_FROM_EDGES_IN_PX)+"px)"),y({element:this.format.playerContainer,property:"transform",duration:t.TRANSITION_DURATION_IN_SECONDS,effect:"ease-out"})},t.prototype.executeNativeSlotPlaceholderFadeAnimation=function(e,n){this.nativeSlotPlaceholder.style.setProperty("background-color",e),y({element:this.nativeSlotPlaceholder,property:"background-color",duration:t.TRANSITION_DURATION_IN_SECONDS,effect:"linear"}),this.nativeSlotPlaceholder.style.setProperty("background-color",n)},t.prototype.updateCreativeTopLimit=function(){var t=this.detachedSlotState.isEmpty()?this.format.playerContainer:this.nativeSlotPlaceholder,e=o.getBoundingClientRect(t),n=e.top,i=e.bottom,r=o.getScrollTop(this.window);this.creativeTopLimit=n===i?r:r+n},t.prototype.getWindowTopLimit=function(){return o.getScrollTop(this.window)+this.currentTop},t.prototype.transitionFromCornerToNativeSlot=function(){var e=this;this.transitionInProgress=!0,Object(m.removeClass)(this.format.playerContainer,t.CUSTOMIZATION_CSS_CLASS.CORNER),this.executeNativeSlotPlaceholderFadeAnimation("#ffffff","#000000"),this.executeOncePlayerTransitionEnded().then(function(){e.format.player.smartPosition.cleanupCornerPositionSpecificUI(function(){return e.header.showCloseButton()}),e.header.hide(),O(e.format.playerContainer),e.moveToNativeSlotPosition(),A(e.format.playerContainer),e.format.formatConfig.sliderBehavior.isEnabled()||w(e.format.playerContainer),e.stopScrollListener(),e.transitionInProgress=!1}),this.slideOutDownCornerPosition()},t.prototype.transitionFromTopToNativeSlot=function(){Object(m.removeClass)(this.format.playerContainer,t.CUSTOMIZATION_CSS_CLASS.TOP),this.transitionInProgress=!0,this.format.playerContainer.style.removeProperty("top"),this.format.player.smartPosition.cleanupTopPositionSpecificUI(),this.moveToNativeSlotPosition(),this.transitionInProgress=!1},t.prototype.moveToNativeSlotPosition=function(){this.detachedSlotState=s.a,this.timerOutOfSlot&&(this.smartElapsedTimeInSec+=this.remainingTimeLastSmartInSec-this.format.getVpaidAd().getAdRemainingTime(),this.clearTimerOutOfSlot()),this.format.playerContainer.style.setProperty("position","relative"),this.format.playerContainer.style.setProperty("z-index",this.originalPlayerZIndex),this.nativeSlotPlaceholder.style.setProperty("display","none"),this.format.responsive.unsetResponsive(),this.format.responsive.setResponsive()},t.prototype.isParentContainerInView=function(){return Object(m.getPercentageInView)({element:this.format.parentContainer,elementAncestors:Object(m.findParentElements)(this.format.parentContainer),elementClientRect:Object(o.getBoundingClientRect)(this.format.parentContainer),mainWindow:this.window,elementHeight:this.format.parentContainer.offsetHeight})>=this.format.formatConfig.threshold.percentage()},t.prototype.showCompensationDiv=function(){var t=this.format.responsive.getOptimalDimension(this.format.parentContainer).height;this.nativeSlotPlaceholder.style.setProperty("display","block"),this.nativeSlotPlaceholder.style.setProperty("height",t+"px")},t.prototype.handleFloatingHeaders=function(){if(this.detachedSlotState.existsIf(function(t){return"top"===t})){var e=Object(m.getTop)(this.window,Object(m.findFloatingHeaders)(this.window,this.format.playerContainer,[this.format.playerContainer]),o.getWindowSize(this.window).height*t.MAX_FLOATING_TOP);this.currentTop!==e&&(this.currentTop=e,this.format.playerContainer.style.setProperty("top",this.currentTop+"px"))}},t.prototype.handleDetachedSlotResize=function(t){var e=this.getOptimalDimension(this.format.parentContainer,t),n=e.width,i=e.height;this.format.getVpaidAd().resizeAd(n,i),this.handleFloatingHeaders()},t.prototype.initNativeSlotPlaceholder=function(){var t=this.window.document.createElement("div");return t.className="teads-player teads-compensation-div",t.style.setProperty("-webkit-box-shadow","inset 0px 0px 85px rgba(0, 0, 0, 0.1)"),t.style.setProperty("-moz-box-shadow","inset 0px 0px 85px rgba(0, 0, 0, 0.1)"),t.style.setProperty("box-shadow","inset 0px 0px 85px rgba(0, 0, 0, 0.1)"),t.style.setProperty("background-color","#000000"),this.format.formatConfig.sliderBehavior.isEnabled()||(this.format.playerContainer.nextSibling?this.format.playerContainer.parentNode.insertBefore(t,this.format.playerContainer.nextSibling):this.format.playerContainer.parentNode.appendChild(t)),t},t.prototype.isOrientationLandscape=function(){if(Object(a.isDesktop)())return!0;var t=o.getWindowSize(this.window);return t.width>t.height},t.prototype.setPlayerCornerPosition=function(e){var n=e.withMarginFromEdge?t.MARGIN_FROM_EDGES_IN_PX:0;this.format.playerContainer.style.setProperty("bottom",n+"px"),this.format.playerContainer.style.setProperty("right",n+"px"),this.handleIOSNativeHeaderBar(!0)},t.prototype.onFullScreenOpen=function(){this.detachedSlotState.existsIf(function(t){return"corner"===t})&&this.setPlayerCornerPosition({withMarginFromEdge:!1})},t.prototype.onFullScreenClose=function(){var t=this;this.detachedSlotState.forEach(function(e){"corner"===e&&t.setPlayerCornerPosition({withMarginFromEdge:!0}),t.handleDetachedSlotResize(e)})},t.prototype.clearTimerOutOfSlot=function(){this.timerOutOfSlot&&(this.timerOutOfSlot.clear(),this.timerOutOfSlot=null)},t.prototype.showCloseButtonAtMidPoint=function(){var t=this;if(!this.timeoutSlotIsReached){this.midpointIsReached=!0;var e=this.format.getVpaidAd().getAdRemainingTime()-1,n=function(){return t.format.getVpaidAd().unsubscribe(i,f.a.AdRemainingTimeChange)},i=function(){t.format.getVpaidAd().getAdRemainingTime()<e&&(t.showCloseButton(),n())};this.format.getVpaidAd().subscribe(i,f.a.AdRemainingTimeChange)}},t.prototype.showCloseButtonHandler=function(){var e=this;return l.c(function(){if(!e.midpointIsReached){(e.format.formatConfig.sliderBehavior.isEnabled()?e.format.getVpaidAd().getAdDuration()-e.format.getVpaidAd().getAdRemainingTime():e.remainingTimeLastSmartInSec+e.smartElapsedTimeInSec-e.format.getVpaidAd().getAdRemainingTime())>=t.TIME_IN_SEC_BEFORE_CLOSE_BUTTON&&(e.showCloseButton(),e.clearTimerOutOfSlot(),e.timeoutSlotIsReached=!0)}},t.SHOW_CLOSE_BUTTON_INTERVAL_DELAY_IN_MS)},t.prototype.showCloseButton=function(){var t=this;this.detachedSlotState.forEach(function(e){"top"===e&&t.format.player.smartPosition.showCloseButton(),"corner"===e&&t.header.showCloseButton()})},t.prototype.executeOncePlayerTransitionEnded=function(){var t=this;return new p.a(function(e){var n=function(){t.transitionEndListenerManager.removeAll(),e()};t.transitionEndListenerManager.addMultiple(b,t.format.playerContainer,n)})},t.prototype.onOrientationChange=function(){var t=this;this.detachedSlotState.filter(function(e){return!t.format.getFullscreenHelper().isActive()}).match({some:function(e){var n=Object(g.a)({sliderIsEnabled:t.format.formatConfig.sliderBehavior.isEnabled(),orientationIsLandscape:t.isOrientationLandscape(),parentContainerIsInView:t.isParentContainerInView()});switch(e){case"top":n&&t.transitionFromTopToCorner();break;case"corner":Object(g.b)(t.windowTopLimit,t.creativeTopLimit)&&!n?(t.updateCreativeTopLimit(),t.transitionFromCornerToTop()):Object(g.b)(t.windowTopLimit,t.creativeTopLimit)||n?t.format.formatConfig.sliderBehavior.isEnabled()&&t.isOrientationLandscape()?(t.handleIOSNativeHeaderBar(),t.listenIOSNativeHeaderBarMovements()):t.format.formatConfig.sliderBehavior.isEnabled()&&!t.isOrientationLandscape()&&(t.handleIOSNativeHeaderBar(),t.stopScrollListener()):t.transitionFromCornerToNativeSlot()}},none:function(){t.format.responsive.resize(),t.isOrientationLandscape()||t.updateCreativeTopLimit()}})},t.prototype.transitionFromTopToCorner=function(){this.format.playerContainer.style.removeProperty("top"),this.showCompensationDiv(),this.moveToCornerPosition()},t.prototype.transitionFromCornerToTop=function(){this.stopScrollListener(),this.header.hide(),O(this.format.playerContainer),this.showCompensationDiv(),this.moveToTopPosition()},t.prototype.listenIOSNativeHeaderBarMovements=function(){var t=this;if(Object(a.isIos)()&&this.isOrientationLandscape()&&!this.scrollListener){var e=this.format.placement.placementConfig.scrollSelector.getSlot();this.scrollListener=Object(c.a)(function(){return t.handleIOSNativeHeaderBar()},e,this.window.context),this.iOSRuler=Object(s.c)(Object(i.a)(window)),Object(i.d)(window)}},t.prototype.stopScrollListener=function(){this.scrollListener&&(Object(c.b)(this.scrollListener),this.scrollListener=null)},t.prototype.handleIOSNativeHeaderBar=function(e){if(void 0===e&&(e=!1),this.behaviorIsEnabled&&this.iOSRuler.nonEmpty()){var n=!this.isOrientationLandscape()||e&&this.getWindowTopLimit()>0?t.MARGIN_FROM_EDGES_IN_PX:Object(i.b)(window)+t.MARGIN_FROM_EDGES_IN_PX;this.format.formatConfig.sliderBehavior.isEnabled()&&this.format.parentContainer.style.setProperty("bottom",n+"px"),this.format.playerContainer.style.setProperty("bottom",n+"px")}},t.MARGIN_FROM_EDGES_IN_PX=5,t.TRANSITION_DURATION_IN_SECONDS=.4,t.MAX_FLOATING_TOP=Object(a.isDesktop)()?.25:.2,t.TIME_IN_SEC_BEFORE_CLOSE_BUTTON=5,t.SHOW_CLOSE_BUTTON_INTERVAL_DELAY_IN_MS=300,t.CUSTOMIZATION_CSS_CLASS={TOP:"smart-position-top",CORNER:"smart-position-corner"},t}()},function(t,e,n){var i=n(4),r=n(13),o=n(25),a=n(8),s=n(5),c=function(){function t(t){this.format=t,this.initialized=!1,this.active=!1,this.logger=new i.a("BrandingMode")}return t.prototype.isActive=function(){return this.active},t.prototype.isInitialized=function(){return this.initialized},t.prototype.init=function(){var t=this;if(this.logger.debug("init called"),this.initialized)return void this.logger.warn("Branding mode helper has already been initialized");this.initialized=!0,this.vpaidEnvironmentVars=this.format.getEnvironmentVars();var e=this.format.getVpaidAd();e.showComponent("fullscreenbutton");var n=this.format.states.isReplay;this.format.getFullscreenHelper().init(this.vpaidEnvironmentVars),n&&s.isAndroid()&&e.subscribe(function(){t.setVolume(t.format.formatConfig.volume.getMain()),t.initialVolume=t.format.getVolumeController().getVolume(),t.onUnmute()},a.a.AdVideoStart);var i=function(){t.isFullscreenSupported()&&t.stop()};e.subscribe(i,a.a.AdClickThru,this),e.subscribe(function(){return e.unsubscribe(i,a.a.AdClickThru)},a.a.AdStopped),e.subscribe(this.toggle,o.a.FullscreenRequest,this),e.subscribe(function(){return e.unsubscribe(t.toggle,o.a.FullscreenRequest)},a.a.AdStopped),this.format.vpaidApi.getStudioData()||e.subscribe(this.stop,o.a.AdVideoComplete,this),e.subscribe(this.stop,o.a.EndscreenInit,this),e.subscribe(this.stop,o.a.AdStopped,this),this.format.getVolumeController().addUnmuteCallback(function(){return t.onUnmute()}),this.format.getVolumeController().addMuteCallback(function(){return t.onMute()})},t.prototype.deinit=function(){var t=this;this.logger.debug("deinit called"),this.initialized=!1;var e=this.format.getVpaidAd(),n=function(){t.isFullscreenSupported()&&t.stop()};e.subscribe(n,a.a.AdClickThru,this),e.subscribe(function(){return e.unsubscribe(n,a.a.AdClickThru)},a.a.AdStopped),e.unsubscribe(this.toggle,o.a.FullscreenRequest),e.unsubscribe(this.stop,o.a.AdVideoComplete),e.unsubscribe(this.stop,o.a.EndscreenInit),e.unsubscribe(this.stop,o.a.AdStopped),e.hideComponent("fullscreenbutton")},t.prototype.toggle=function(){if(!this.initialized)return void this.logger.warn("Cannot toggle branding mode helper before its initialization");this.active?this.stop():this.start()},t.prototype.start=function(){this.active||(this.logger.debug("start"),this.initialVolume=this.format.getVolumeController().getVolume(),this.setVolume(this.format.formatConfig.volume.getMain()),this.isFullscreenSupported()?(this.format.getFullscreenHelper().open(),this.format.getVpaidAd().showComponent("fullscreenbutton")):this.format.getVpaidAd().hideComponent("fullscreenbutton"),this.active=!0)},t.prototype.stop=function(){this.active&&(this.logger.debug("stop"),this.format.getVolumeController().isMuted()&&(this.initialVolume=0),this.setVolume(this.initialVolume),this.isFullscreenSupported()?this.format.getFullscreenHelper().close():this.format.getVpaidAd().showComponent("fullscreenbutton"),this.format.getVpaidAd().hideComponent("fullscreenbutton"),this.active=!1)},t.prototype.setVolume=function(t){var e=this,n=function(){return e.format.getVolumeController().setVolume(t)};this.vpaidEnvironmentVars.videoSlot&&this.vpaidEnvironmentVars.videoSlot.audio&&!this.vpaidEnvironmentVars.videoSlot.audio.authorized?this.vpaidEnvironmentVars.videoSlot.audio.authorizeAudio(Object(r.a)(n,this)):n()},t.prototype.isFullscreenSupported=function(){var t=this.format.getVpaidAd(),e=this.format.getFullscreenHelper().isActive()||t.getAdWidth()>t.getAdHeight();return!s.isDesktop()&&!s.isAmp()&&!s.isIABSafeFrame()&&e},t.prototype.onUnmute=function(){this.isFullscreenSupported()||this.start()},t.prototype.onMute=function(){this.isFullscreenSupported()||this.stop()},t}();e.a=c},function(t,e,n){function i(){var t=function(t){o=Object(d.createIframe)(),o.id=f,o.src=l.b.wigoIframeUrl,o.style.setProperty("display","none","important"),t.document.body.appendChild(o)};return p.a.tryCatch(function(){return Object(d.findTopWindow)(window.document.body)}).orElse(function(t){return h.warn("Cannot get top window",t),Object(p.e)(window)}).forEach(t),o}function r(){var t=a.b.getInstances();t.sort(function(t,e){return c.getBoundingClientRect(t.elementToFollow).top-c.getBoundingClientRect(e.elementToFollow).top});var e=t.length;s.forEach(t,function(t){t.moveButton(e),e--})}e.a=i,e.b=r;var o,a=n(80),s=n(3),c=n(9),u=n(4),d=n(7),l=n(18),p=n(6),h=new u.a("helper.WigoIframe"),f="wigoiframe"},function(t,e,n){var i=n(0),r=n(8),o=n(325),a=n(81),s=n(87),c=n(31),u=n(3),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.placeholders=["currentTime","totalTime","remainingTime","countdown"],e}return Object(i.c)(e,t),e.prototype.init=function(){this.setText(this.config.text)},e.prototype.setText=function(t){var e=this;void 0===t&&(t=""),this.renderText(t),this.havePlaceholder(t)&&!this.haveProgressCallback&&(this.haveProgressCallback=!0,this.vpaid.subscribe(function(){e.renderText(t)},r.a.AdRemainingTimeChange))},e.prototype.renderText=function(t){this.textNode&&this.getElement().removeChild(this.textNode),this.textNode=document.createElement("span"),this.textNode.innerHTML=this.havePlaceholder(t)?this.replacePlaceholders(t):t,this.getElement().appendChild(this.textNode)},e.prototype.replacePlaceholders=function(t){var e=this,n={};return Object(u.forEach)(this.placeholders,function(t){n[t]=e.getPlaceholderValue(t)}),a.a(t,n)},e.prototype.havePlaceholder=function(t){var e=new RegExp("({{"+this.placeholders.join("}}|{{")+"}})","g");return!!t.match(e)},e.prototype.getPlaceholderValue=function(t){var e=s.a(this.vpaid);e=e<0||isNaN(e)?0:Math.floor(e);var n=Math.floor(this.vpaid.getAdRemainingTime());switch(t){case"currentTime":return o.a(e);case"totalTime":return o.a(Math.floor(this.vpaid.getAdDuration()));case"remainingTime":return o.a(n);case"countdown":return String((this.config.countdown||0)-e)}},e}(c.a);e.a=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(210),r=n(135),o=window.teads||{};o.video=o.video||{},o.video.VPAIDCanvas=i.a,o.video.VPAIDVideo=r.a,window.teads=o},function(t,e,n){var i=n(0),r=(n(211),n(51)),o=n(15),a=n(77),s=n(26),c=n(8),u=n(135),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.initAd=function(e,n,i,s,c,u){var d=this;u.videoSlot&&u.videoSlot.parentNode&&u.videoSlot.parentNode.removeChild(u.videoSlot),u.slot&&this.createContainer(u.slot),r.a(c).fold(function(t){return d.handleException(t,"initAd")},function(r){u.videoSlot=new a.a(d.container,e,n,r),u.videoSlot.addEventListener(o.a.ERROR,function(t){return d.dispatchVpaidEvent(d.eventMap[t.type])}),t.prototype.initAd.call(d,e,n,i,s,r,u)})},e.prototype.startAd=function(){if(this.status>s.a.LOADED)return void this.dispatchVpaidEvent(c.a.AdLog,"try to call startAd but ad is starting or is already started");if(this.status<s.a.LOADED)return void this.dispatchVpaidEvent(c.a.AdLog,"Ad is not loaded, use initAd first");try{t.prototype.startAd.call(this),this.dispatchVpaidEvent(c.a.AdDurationChange)}catch(t){this.handleException(t,"startAd")}},e.prototype.appendVideo=function(){},e.prototype.removeVideo=function(){this.video.pause(),this.video.html5video&&this.container.removeChild(this.video.html5video),this.video.canvas&&this.container.removeChild(this.video.canvas)},e}(u.a);e.a=d},function(t,e,n){var i=(n(75),n(77)),r=n(93),o=n(97),a=n(91),s=n(17),c=n(95),u=n(96),d=n(98),l=n(99),p=n(100),h=n(101),f=n(44),g=n(94),m=n(40),b=n(23),v=n(92),y=n(102),A=n(15),w=window.teads||{};w.canvas=w.canvas||{},w.canvas.player={CanvasPlayer:i.a,components:{Audio:r.a,Buffering:o.a,Canvas:a.a,EventDispatcher:s.a,File:c.a,HtmlAudioElement:u.a,JpegVideo:d.a,Mp4CTVideo:l.a,Mp4Video:p.a,MpegVideo:h.a,Video:f.b,WebAudioApi:g.a,PLAYERS:f.a},helper:{Utils:m},model:{MediaState:b.a,Shader:v,StreamType:y.a,mediaEvents:A.a}},window.teads=w},function(t,e,n){n.d(e,"a",function(){return i});var i;!function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(i||(i={}));var r;!function(t){t[t.NETWORK_EMPTY=0]="NETWORK_EMPTY",t[t.NETWORK_IDLE=1]="NETWORK_IDLE",t[t.NETWORK_LOADING=2]="NETWORK_LOADING",t[t.NETWORK_NO_SOURCE=3]="NETWORK_NO_SOURCE"}(r||(r={}))},function(t,e,n){var i,r=n(5),o=n(51),a=n(61),s=n(7),c=n(26),u=n(49),d=n(8),l=function(){function t(){this.status=c.a.READY,this.eventHandler=new u.a,this.trackingRaised={AdVideoFirstQuartile:!1,AdVideoMidpoint:!1,AdVideoThirdQuartile:!1},this.parameters={},this.skippable=!1,this.expanded=!1}return t.prototype.getVPAID=function(){return this},t.prototype.handshakeVersion=function(t){return"2.0"},t.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},t.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},t.prototype.initAd=function(t,e,n,s,u,l){var p=this;this.status=c.a.LOADING,this.width=t,this.height=e,this.viewMode=n,o.a(u).fold(function(t){p.dispatchVpaidEvent(d.a.AdError,"invalid creative data: "+u)},function(t){for(var e in t)t.hasOwnProperty(e)&&(p.parameters[e]=t[e]);if(p.environmentVars=l,p.environmentVars.videoSlot||(p.environmentVars.videoSlot=i=i||document.createElement("video")),p.environmentVars.videoSlot.setAttribute&&(p.environmentVars.videoSlot.setAttribute("webkit-playsinline","true"),p.environmentVars.videoSlot.setAttribute("playsinline","true"),r.isAndroid()&&r.isChromeWebView()&&p.environmentVars.videoSlot.getAttribute&&null===p.environmentVars.videoSlot.getAttribute("poster")&&p.environmentVars.videoSlot.setAttribute("poster",a.b),p.environmentVars.videoSlot.getAttribute&&null===p.environmentVars.videoSlot.getAttribute("muted")&&p.environmentVars.videoSlot.setAttribute("muted","true")),!p.environmentVars.slot)return void p.dispatchVpaidEvent(d.a.AdError,"no slot provided in environmentVars");p.video=p.environmentVars.videoSlot,p.createContainer(p.environmentVars.slot)})},t.prototype.startAd=function(){this.status=c.a.STARTING},t.prototype.skipAd=function(){this.status=c.a.SKIPPING},t.prototype.stopAd=function(){this.status=c.a.STOPPING},t.prototype.resizeAd=function(t,e,n){this.width=t,this.height=e,this.viewMode=n},t.prototype.expandAd=function(){return!1},t.prototype.collapseAd=function(){return!1},t.prototype.getAdLinear=function(){return!0},t.prototype.getAdWidth=function(){return this.width},t.prototype.getAdHeight=function(){return this.height},t.prototype.getAdExpanded=function(){return s.isFullscreen()||this.expanded},t.prototype.getAdSkippableState=function(){return this.skippable},t.prototype.getAdCompanions=function(){return""},t.prototype.getAdIcons=function(){return!1},t.prototype.getAdDuration=function(){throw"not implemented"},t.prototype.getAdRemainingTime=function(){throw"not implemented"},t.prototype.getStatus=function(){return this.status},t.prototype.createContainer=function(t){this.container||(this.container=document.createElement("div"),this.container.style.setProperty("position","relative"),t.appendChild(this.container))},t.prototype.onAdVideoCompleteDispatched=function(){var t=this;this.parameters.noAutoStop?(this.video.addEventListener("seeked",function(){t.video.pause()},!1),this.video.currentTime=1):this.stopAd()},t.prototype.dispatchVpaidEvent=function(t,e){this.handleVPAIDEvent(new d.a(t,e))},t.prototype.handleVPAIDEvent=function(t){if(!(this.status===c.a.SKIPPING&&t.type!==d.a.AdSkipped||this.status===c.a.STOPPING&&t.type!==d.a.AdStopped||this.status<=c.a.STOPPED||this.status===c.a.STOPPING&&t.type!==d.a.AdStopped)){switch(t.type){case d.a.AdLoaded:this.status=c.a.LOADED;break;case d.a.AdStarted:this.status=c.a.STARTED;break;case d.a.AdVideoStart:case d.a.AdPlaying:this.status=c.a.PLAYING;break;case d.a.AdPaused:this.status=c.a.PAUSED;break;case d.a.AdVideoComplete:this.status=c.a.COMPLETE;break;case d.a.AdSkipped:this.status=c.a.SKIPPED;break;case d.a.AdStopped:this.status=c.a.STOPPED;break;case d.a.AdDurationChange:case d.a.AdRemainingTimeChange:var e=this.getAdDuration(),n=e-this.getAdRemainingTime();e>0&&n>=.25*e&&!this.trackingRaised.AdVideoFirstQuartile?this.dispatchVpaidEvent(d.a.AdVideoFirstQuartile):e>0&&n>=.5*e&&!this.trackingRaised.AdVideoMidpoint?this.dispatchVpaidEvent(d.a.AdVideoMidpoint):e>0&&n>=.75*e&&!this.trackingRaised.AdVideoThirdQuartile&&this.dispatchVpaidEvent(d.a.AdVideoThirdQuartile);break;case d.a.AdVideoFirstQuartile:case d.a.AdVideoMidpoint:case d.a.AdVideoThirdQuartile:if(this.trackingRaised[t.type])return;this.trackingRaised[t.type]=!0;break;case d.a.AdVideoComplete:this.status=c.a.COMPLETE;break;case d.a.AdError:if(this.trackingRaised[t.type])return;this.trackingRaised[t.type]=!0}this.eventHandler.handleEvent(t),this.status===c.a.SKIPPED&&this.stopAd(),t.type===d.a.AdVideoComplete&&this.onAdVideoCompleteDispatched()}},t.prototype.handleException=function(t,e){var n='method "'+e+'" threw an exception: '+t.toString();this.dispatchVpaidEvent(d.a.AdLog,n),this.dispatchVpaidEvent(d.a.AdError,n)},t}();e.a=l},function(t,e,n){var i=function(){function t(t,e,n){this.id=n,this.layer=document.createElement("div"),this.layer.className+="vpaid-clickthrough",this.layer.style.setProperty("cursor","pointer"),this.layer.style.setProperty("opacity","0"),this.layer.style.setProperty("background-color","#FFFFFF"),this.layer.style.setProperty("position","absolute"),this.layer.style.setProperty("z-index","65000"),this.layer.addEventListener("click",function(i){t(e,n,!0)},!1)}return t.prototype.resize=function(t,e){this.layer.style.setProperty("width",t+"px"),this.layer.style.setProperty("height",e+"px")},t.prototype.remove=function(){this.layer.parentNode&&this.layer.parentNode.removeChild(this.layer)},t.prototype.append=function(t){t.firstChild?t.insertBefore(this.layer,t.firstChild):t.appendChild(this.layer)},t}();e.a=i},,,function(t,e,n){function i(t,e){var n;if(l){try{n=new ActiveXObject("Msxml2.DOMDocument.6.0"),d.a.debug("XML Parser - ActiveXObject - Msxml2.DOMDocument.6.0")}catch(t){try{n=new ActiveXObject("Msxml2.DOMDocument.3.0"),d.a.debug("XML Parser - ActiveXObject - Msxml2.DOMDocument.3.0")}catch(t){n=new ActiveXObject("Microsoft.XMLDOM"),d.a.debug("XML Parser - ActiveXObject - Microsoft.XMLDOM")}}n.async=!1,n.loadXML(t)}else if(window.DOMParser){var i=new DOMParser;n=i.parseFromString(t,"text/xml")}else e.error("vast-parser no-xml-found");return n}function r(t){if(t)try{var e=c(t);return e?u(e):""}catch(e){d.a.error("Couldn't get content for node "+t.nodeName+': "'+e+'"')}}function o(t,e){try{if(t.attributes[e])return String(t.attributes[e].value);for(var n=0;n<t.attributes.length;n++)if(t.attributes[n].name===e)return String(t.attributes[n].value)}catch(t){d.a.error("Couldn't get attribute value: \""+t+'"')}}function a(t){return!/[^\t\n\r ]/.test(t.textContent?t.textContent:t.text)}function s(t){return 8===t.nodeType||3===t.nodeType&&a(t)}function c(t){for(var e=t.firstChild;e;){if(!s(e))return e;e=e.nextSibling}return null}function u(t){var e=t.textContent?t.textContent:t.text,n=e.replace(/[\t\n\r ]+/g," ");return" "===n.charAt(0)&&(n=n.substring(1,n.length))," "===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n}e.c=i,e.b=r,e.a=o;var d=n(168),l=Object&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window||!!window.ActiveXObject},function(t,e,n){n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i=function(){function t(){this.error=[],this.click=[],this.pause=[],this.resume=[],this.skip=[],this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.impression=[],this.close=[],this.progress=[],this.mute=[],this.unmute=[],this.rewind=[],this.fullscreen=[],this.exitFullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitationLinear=[],this.acceptInvitation=[],this.closeLinear=[],this.noAd=[],this.noLinearAd=[],this.customClicks=[],this.billable=[],this.otherAdInteraction=[],this.clickIcon=[]}return t}(),r=function(){function t(){}return t.error="error",t.click="click",t.pause="pause",t.resume="resume",t.skip="skip",t.creativeView="creativeView",t.start="start",t.firstQuartile="firstQuartile",t.midpoint="midpoint",t.thirdQuartile="thirdQuartile",t.complete="complete",t.impression="impression",t.close="close",t.progress="progress",t.mute="mute",t.unmute="unmute",t.rewind="rewind",t.fullscreen="fullscreen",t.exitFullscreen="exitFullscreen",t.expand="expand",t.collapse="collapse",t.acceptInvitationLinear="acceptInvitationLinear",t.acceptInvitation="acceptInvitation",t.closeLinear="closeLinear",t.noAd="noAd",t.noLinearAd="noLinearAd",t.customClicks="customClicks",t.billable="billable",t.otherAdInteraction="otherAdInteraction",t.clickIcon="clickIcon",t}()},function(t,e,n){n.d(e,"a",function(){return C});var i=n(0),r=n(10),o=n(7),a=n(61),s=n(41),c=n(88),u=n(5),d=n(2),l=n(4),p=n(64),h=n(1),f=n(3),g=n(9),m=n(29),b=n(79),v=n(8),y=n(33),A=Object(u.isDesktop)()?.08:.15,w=function(t,e,n){return h.b.fromNullable(t).filter(function(t){return t>e.height}).map(function(t){return e.height/t}).map(function(t){return{width:t*n,height:e.height}})},O=function(t,e,n,i,r){return h.b.fromNullable(i).filter(function(e){return e.width!==n||e.height!==t}).map(function(i){return{width:n,height:r?e.height:t}})},E=function(t,e,n,r,o,a){var s=t.orElse(function(){return w(n,r,o)}).orElse(function(){return O(n,r,o,e,a)}).getOrValue(e);return Object(i.a)(Object(i.a)({},s),{width:Math.round(s.width),height:Math.round(s.height)})},C=function(){function t(t){var e=this;if(this.abstractFormat=t,this.isLandscape=!1,this.logger=new l.a("Format.Responsive"),this.orientationChangeListeners=[],this.manualMaxWidth=!1,this.vpaidAd=t.getVpaidAd(),this.mainContainer=t.parentContainer,this.formatContainer=t.placement.getInnerContainer(),this.mediafile=t.player.getMediafile(),this.win=t.placement.placementConfig.parentWindow.getWindow(),this.linearAd=t.linearAd,this.portfolioItemId=t.formatConfig.portfolioItemId,this.resizeCallback=function(){e.resize(),e.setResponsiveCssClass(e.mainContainer)},this.vpaidAd.subscribe(function(){e.unsetResponsive()},v.a.AdError),this.vpaidAd.subscribe(function(){e.unsetResponsive()},v.a.AdStopped),Object(u.isMobile)()||Object(u.isTablet)()){var n=function(t){var n=g.getWindowSize(e.win);e.isLandscape=n.width>n.height};n(),this.addOrientationChangeListener(n),this.setResponsiveCssClass(this.mainContainer),this.addOrientationChangeListener(function(){e.isNativeFullscreen()&&e.resize()});var i=function(t){e.win.setTimeout(function(){e.onOrientationChange(t)},200)};g.addEventListener("orientationchange",this.win,i),this.vpaidAd.subscribe(function(){g.removeEventListener("orientationchange",e.win,i)},v.a.AdStopped)}}return t.findOptimalCreativeSizeBasedOnWindowSurface=function(t,e){var n=e.width*e.height,i=n*A,r=t.map(b.a.getRatio).getOrValue(a.a),o=Math.sqrt(i/r);return{width:r*o,height:o}},t.prototype.updateAndResizeWithAdVideoMetadata=function(t){t.width&&t.height&&(this.mediafile.width!==t.width||this.mediafile.height!==t.height)&&(this.logger.debug("video size is different from VAST mediafile, force resize to good dimensions"),this.mediafile.width=t.width,this.mediafile.height=t.height,this.resize(!0))},t.prototype.resizeOnStart=function(){var t=this;this.vpaidAd.subscribe(function(e){t.logger.debug("Receive metadata from video",e),t.updateAndResizeWithAdVideoMetadata(e)},m.a.AdVideoMetadata),this.vpaidAd.subscribe(function(){return t.resize(!0)},v.a.AdVideoStart),this.vpaidAd.subscribe(function(){return t.resize(!0)},v.a.AdStarted)},t.prototype.setResponsive=function(t){if(void 0===t&&(t=this.resizeCallback),!this.iframeForSlotWidth&&(this.iframeForSlotWidth=document.createElement("iframe"),this.iframeForSlotWidth.className="teads-resize",this.iframeForSlotWidth.style.setProperty("height","0","important"),this.iframeForSlotWidth.style.setProperty("min-height","0","important"),this.iframeForSlotWidth.style.setProperty("width","100%","important"),this.iframeForSlotWidth.style.setProperty("border","none","important"),this.iframeForSlotWidth.style.setProperty("margin","0","important"),this.iframeForSlotWidth.style.setProperty("padding","0","important"),this.iframeForSlotWidth.style.setProperty("display","block","important"),Object(c.a)(this.portfolioItemId))){this.logger.debug("Third party display detected, adding iframe for height detection"),this.iframeForCreativeHeight=Object(o.createIframe)(),this.iframeForCreativeHeight.className="teads-resize-for-height",this.iframeForCreativeHeight.style.setProperty("position","absolute","important"),this.iframeForCreativeHeight.style.setProperty("top","0","important"),this.iframeForCreativeHeight.style.setProperty("bottom","0","important"),this.iframeForCreativeHeight.style.setProperty("left","0","important"),this.iframeForCreativeHeight.style.setProperty("right","0","important"),this.iframeForCreativeHeight.style.setProperty("background-color","transparent","important"),this.iframeForCreativeHeight.style.setProperty("z-index","-1","important"),this.iframeForCreativeHeight.style.setProperty("opacity","0","important"),this.iframeForCreativeHeight.style.setProperty("height","100%","important"),this.iframeForCreativeHeight.style.setProperty("width","100%","important"),this.iframeForCreativeHeight.style.setProperty("border","none","important"),this.iframeForCreativeHeight.style.setProperty("margin","0","important"),this.iframeForCreativeHeight.style.setProperty("padding","0","important"),this.iframeForCreativeHeight.style.setProperty("display","block","important");this.abstractFormat.placement.getPlayerContainer().appendChild(this.iframeForCreativeHeight),g.addEventListener("resize",this.iframeForCreativeHeight.contentWindow,function(){return t()})}this.abstractFormat.placement.getElectedSlot().getElement().appendChild(this.iframeForSlotWidth),g.addEventListener("resize",this.iframeForSlotWidth.contentWindow,function(){return t()}),t()},t.prototype.unsetResponsive=function(){return!(!this.iframeForSlotWidth||!this.iframeForSlotWidth.parentNode)&&(g.removeEventListener("resize",this.iframeForSlotWidth.contentWindow,this.resizeCallback),this.iframeForSlotWidth.parentNode.removeChild(this.iframeForSlotWidth),!0)},t.prototype.addOrientationChangeListener=function(t){f.indexOf(this.orientationChangeListeners,t)<0&&this.orientationChangeListeners.push(t)},t.prototype.getOptimalDimension=function(t){void 0===t&&(t=this.mainContainer);var e=!!this.abstractFormat.vpaidApi.getStudioData(),n={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()},i=g.getWindowSize(this.win),o=this.getContainerWidth(t),a=f.includes([25],this.portfolioItemId),s=e||a,c=b.a.getOptimalHeight(this.mediafile,o,s),u=h.b.fromNullable(this.abstractFormat.formatConfig).flatMap(Object(r.a)(Object(d.prop)("creativeSize"),h.b.fromNullable));return E(u,n,c,i,o,this.isFullscreen())},t.prototype.getOptimalDimensionBasedOnSurface=function(){var e=g.getWindowSize(this.win),n=t.findOptimalCreativeSizeBasedOnWindowSurface(h.b.fromNullable(this.mediafile),e),i={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()};return i.width===n.width&&i.height===n.height||(i.width=n.width,i.height=this.isFullscreen()?e.height:n.height),{width:Math.round(i.width),height:Math.round(i.height)}},t.prototype.resize=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=this.mainContainer);var n={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()};this.setMaxWidth(e);var i=this.getOptimalDimension(e);if(f.includes([37,39],this.portfolioItemId)&&this.handleMaxHeight(e,this.formatContainer,i),this.isNativeFullscreen()||this.isFullscreen()&&t){var r=g.getWindowSize(this.win);n.height===r.height&&n.width===r.width||(this.logger.debug("fullscreen resize from "+n.width+"x"+n.height+" to "+r.width+"x"+r.height+"  (forced: "+t+")"),this.vpaidAd.resizeAd(r.width,r.height,"fullscreen"))}else(t||n.height!==i.height||n.width!==i.width)&&(this.repositionFormatContainer(i,e),this.logger.debug("resize from "+n.width+"x"+n.height+" to "+i.width+"x"+i.height+" (forced: "+t+")"),this.vpaidAd.resizeAd(i.width,i.height,this.isFullscreen()?"fullscreen":"normal"))},t.prototype.repositionFormatContainer=function(t,e){void 0===e&&(e=this.mainContainer);var n=this.getContainerWidth(e),i=t.width>=n?0:(n-t.width)/2;Object(y.a)(Object(o.setCSSProp)("margin-left",i+"px"),Object(o.setCSSProp)("margin-right",i+"px"))(this.formatContainer)},t.prototype.isFullscreen=function(){return Object(o.hasClass)(this.vpaidAd.getMainComponentsContainer(),"fullscreen")},t.prototype.isNativeFullscreen=function(){return Object(o.isFullscreen)(this.win.document)},t.prototype.handleMaxHeight=function(t,e,n){var i=g.getBoundingClientRect(e).height;if(this.isFullscreen())t.style.setProperty("max-height","none");else{var r=i>=n.width?n.height:i;this.logger.debug("Celtra miniscroller detected, setting max-height property on teads-inread to "+r+"px"),t.style.setProperty("max-height",Math.round(r)+"px"),t.style.setProperty("clip-path","inset(0)")}},t.prototype.onOrientationChange=function(t){f.forEach(this.orientationChangeListeners,function(e){e(t)})},t.prototype.getContainerWidth=function(t){if(void 0===t&&(t=this.mainContainer),this.isFullscreen())return g.getWindowSize(this.win).width;var e=this.win.getComputedStyle(t),n=e.getPropertyValue("width");if(Object(d.isSizeInPx)(n))return Math.round(parseFloat(n));var i=parseFloat(e.getPropertyValue("padding-left"))||0,r=parseFloat(e.getPropertyValue("padding-right"))||0;return Math.round(g.getBoundingClientRect(t).width-(i+r))},t.prototype.setMaxWidth=function(t){var e;if(void 0===t&&(t=this.mainContainer),this.isFullscreen())t.style.setProperty("max-width","none");else if(!t.style.getPropertyValue("max-width")||this.manualMaxWidth){var n=g.getBoundingClientRect(t),i=g.getBoundingClientRect(null===(e=this.iframeForSlotWidth)||void 0===e?void 0:e.parentElement);t.style.setProperty("max-width",Math.round(i.width-Math.max(n.left-i.left,n.right-i.right))+"px"),this.manualMaxWidth=!0}},t.prototype.setResponsiveCssClass=function(t){var e,n=function(t,e){return!t||t.size>e},i=g.getBoundingClientRect(t).width;Object(s.c)(function(r,a){Object(o.removeClass)(t,a.className),i<=a.size&&n(e,a.size)&&(e=a)})(p.f),e&&Object(o.addClass)(t,e.className)},t}()},function(t,e,n){n.d(e,"d",function(){return b}),n.d(e,"a",function(){return v}),n.d(e,"e",function(){return O}),n.d(e,"b",function(){return E}),n.d(e,"c",function(){return C});var i=n(0),r=n(3),o=n(10),a=n(2),s=n(46),c=n(73),u=n(14),d=n(11),l=n(63),p=n(1),h=n(86),f=n(18),g=function(t,e){return void 0===e&&(e=u.a),Object(o.b)(t,Object(d.replaceStringsWithValue)(f.b.timestampMacroNames,e()))},m=Object(r.reduce)(c.d,function(t,e){var n;return Object(i.a)(Object(i.a)({},t),(n={},n[e.toLowerCase()]=e,n))},{}),b=Object(o.a)(Object(a.prop)("event"),Object(r.isMemberOf)(Object.keys(m))),v=r.cArray.map(function(t){var e=t.event,n=t.url;return{event:m[e],trackingUrl:Object(l.i)(g(n))}}),y=Object(r.reduce)(Object(o.b)(s.b,r.cArray.filter(Object(a.not)(Object(a.equals)(s.a.Progress)))),function(t,e){var n;return Object(i.a)(Object(i.a)({},t),(n={},n[e.toLowerCase()]=e,n))},{}),A=/progress-(\d+)/i,w=function(t){return A.test(t)},O=Object(o.a)(Object(a.prop)("event"),function(t){return w(t)||Object(r.isMemberOf)(Object.keys(y))(t)}),E=Object(o.a)(Object(r.partition)(Object(o.a)(Object(a.prop)("event"),w)),h.a.bimap(Object(o.a)(r.cArray.map(function(t){var e=t.event,n=t.url;return Object(o.b)(e,function(t){return t.match(A)},p.b.fromNullable,p.d.map(function(t){var e=Object(i.e)(t,2),n=e[1];return parseInt(n,10)}),p.d.filter(a.isNumber),p.d.map(function(t){return{offset:t,trackingUrl:g(n)}}))}),p.e),r.cArray.map(function(t){var e=t.url,n=t.event;return{event:y[n],trackingUrl:g(e)}}))),C=Object(o.a)(r.cArray.filter(function(t){return Object(r.isMemberOf)(s.b)(t.event)&&Object(a.not)(w)(t.event)}),r.cArray.map(function(t){var e=t.event,n=t.url;return{event:e,trackingUrl:g(n)}}))},function(t,e,n){function i(t){w=t}function r(){return O++}function o(){Object(f.i)({name:"a"}),E.info("Init - Format initialization success"),m.startAutoplayTest(),Object(f.a)(["tag","format"],Object(A.findChildWindows)(document.body).concat(window)),p.b.fromNullable(window.teads.PAGE_PROCESSED).forEach(function(t){return w=t}),p.b.fromNullable(window.teads.currentPlayerId).forEach(function(t){return O=t}),s(),y.b.loadAndStoreReportIfNeeded(u.a),c=new l.a}function a(){Object(f.i)({name:"d"}),g.onDomReady(function(){return v.a({ttpObject:p.b.fromNullable(window._ttp),pageInstance:c}).tapLeft(function(t){return E.error(t)})})}function s(){m.isAmp()&&(window.context.observeIntersection(function(t){window._teads_amp.change=t.pop(),b.d()}),b.d())}n.d(e,"a",function(){return w}),e.f=i,e.b=r,n.d(e,"d",function(){return c}),e.c=o,e.e=a;var c,u=n(42),d=n(139),l=n(479),p=n(1),h=n(4),f=n(20),g=n(9),m=n(5),b=n(129),v=n(375),y=n(80),A=n(7),w=Object(d.b)(0),O=0,E=new h.a("Main")},function(t,e,n){var i=n(9),r=n(61),o=n(74),a=function(){function t(t,e){void 0===e&&(e=0),this.isSizeResolved=!1,this.scoreValues={WIDTH:20,HEIGTH:20,LENGTH:20,HIGH_MIN_SLOT:-5,LOW_MIN_SLOT:500,EQUAL_MIN_SLOT:1e3},this.element=t,this.index=e;var n=i.getSize(t);this.width=n.width,this.height=n.height}return t.prototype.resolveSize=function(){if(!this.isSizeResolved){var t=this.element.style.overflow;this.element.style.setProperty("overflow","hidden");var e=i.getSize(this.element);this.element.style.setProperty("overflow",t),this.width=e.width,this.height=e.width/r.a,this.isSizeResolved=!0}},t.prototype.getElement=function(){return this.element},t.prototype.getElementRect=function(){return this.elementRect?this.elementRect:(this.elementRect=i.getBoundingClientRect(this.element),this.elementRect)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getScore=function(){return this.score},t.prototype.getIndex=function(){return this.index},t.prototype.computeScore=function(t){var e=o.c,n=0,r=t.minimum.get(),a=t.parentWindow.getWindow();this.width>t.minimumWidth.get()+e.WIDTH_MARGIN&&(n+=this.scoreValues.WIDTH),this.height>e.MIN_LONG_HEIGHT+e.HEIGHT_MARGIN&&(n+=this.scoreValues.HEIGTH),this.height>t.minimumTextLength.get()+e.LENGTH_MARGIN&&(n+=this.scoreValues.LENGTH),this.index>r+e.LENGTH_MARGIN?n+=this.scoreValues.EQUAL_MIN_SLOT:this.index>=0&&r?n+=this.scoreValues.HIGH_MIN_SLOT:n+=this.scoreValues.LOW_MIN_SLOT;var s=i.getBoundingClientRect(this.getElement()),c=a.document.body||a.document.documentElement;n-=(s.top+(a.pageYOffset||c.scrollTop))/20,this.score=n},t}();e.a=a},,,function(t,e,n){var i=n(139),r=n(175),o=n(53),a=n(1),s=n(226),c=n(227),u=n(228),d=n(229),l=n(230),p=n(231),h=n(232),f=n(233),g=n(234),m=n(235),b=n(236),v=n(237),y=n(238),A=n(239),w=n(240),O=n(176),E=n(242),C=n(243),I=n(244),S=n(245),T=n(170),j=n(246),k=n(247),P=n(248),L=n(249),V=n(250),x=n(251),_=n(252),N=function(){function t(t){if(!t.settings)throw new o.a(o.a.INCOMPLETE_OBJECT);var e={type:t.type,content:t.content};this.vast=new s.a(e,t.settings.values.placementId),t.settings.values=t.settings.values||{placementFormat:null,pageId:null,placementId:null,threshold:null},t.settings.components=t.settings.components||{},t.settings.behaviors=t.settings.behaviors||{},this.adSourceId=t.ad_source_id,this.connectionId=t.connection_id,this.insertionId=t.insertion_id,this.dspCampaignId=t.dsp_campaign_id,this.dspCreativeId=t.dsp_creative_id,this.scenarioId=t.scenario_id,this.portfolioItemId=t.portfolio_item_id,this.creativeSize=t.creativeSize,this.formatName=new r.a(t.settings.values.placementFormat),this.pageId=Object(i.b)(t.settings.values.pageId),this.placementId=t.settings.values.placementId,this.threshold=new c.a(t.settings.values.threshold),this.volume=new u.a(t.settings.values.volume),this.animations=new d.a(t.settings.values.animations,this.formatName,this.placementId),this.adType=new l.a(t.settings.values.adType),this.vtpEvent=new p.a(t.settings.values.vtpEvent),this.smartPosition=new h.a(t.settings.behaviors.smartPosition,this.formatName),this.sliderBehavior=new f.a(t.settings.behaviors.slider),this.sticky=new g.a(t.settings.behaviors.sticky,this.formatName),this.friendly=a.b.fromNullable(t.settings.behaviors.friendly).getOrValue(!1),this.closeButton=new m.a(t.settings.components.closeButton),this.soundButton=new b.a(t.settings.components.soundButton),this.callButton=new v.a(t.settings.components.callButton),this.timer=new y.a(t.settings.components.timer),this.progressBar=new A.a(t.settings.components.progressBar),this.label=new w.a(t.settings.components.label),this.credits=new O.b(t.settings.components.credits,this.smartPosition,this.formatName),this.endScreen=new E.a(t.settings.components.endScreen),this.brandLogo=new C.a(t.settings.components.brandLogo,t.settings.values.brandLogoUrl),this.slider=new I.a(t.settings.components.slider),this.launch=new S.a(t.settings.behaviors.launch,this.placementId),this.videoStart=new T.a(t.settings.behaviors.videoStart,this.formatName),this.soundStart=new j.a(t.settings.behaviors.soundStart),this.videoPause=new k.a(t.settings.behaviors.videoPause),this.soundMute=new P.a(t.settings.behaviors.soundMute),this.playerClick=new L.a(t.settings.behaviors.playerClick),this.end=new V.a(t.settings.behaviors.end),this.callbacks=new x.a(t.callbacks,this.volume),this.allowedPlayer=new _.a(t.settings.values.allowedPlayer,this.formatName,this.smartPosition,this.placementId)}return t}();e.a=N},function(t,e,n){var i=n(0),r=n(12),o=n(53),a=n(16),s=n(2),c=function(t){function e(e,n){var i=t.call(this,"Vast")||this;return i.type=e.type,i.content=e.content,i.pid=n,i.appendPID(),i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){if(!Object(s.isString)(this.type)||!e.VALUES[this.type.toUpperCase()])throw new o.a(o.a.OPTION_VAST_INVALID);if(!Object(s.isString)(this.content))throw new o.a(o.a.OPTION_VAST_INVALID)},e.prototype.isVastUrl=function(){return this.type===e.VALUES.VASTURL},e.prototype.isVastXml=function(){return this.type===e.VALUES.VASTXML},e.prototype.getContent=function(){return this.content},e.prototype.appendPID=function(){var t=Object(a.r)(this.content);this.isVastUrl()&&"a.teads.tv"===t.hostname&&this.pid&&(this.content+=-1===this.content.indexOf("?")?"?":"&",this.content+="pid="+this.pid)},e.VALUES={VASTURL:"VastUrl",VASTXML:"VastXml"},e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(12),o=n(53),a=n(2),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Threshold")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){if(!Object(a.isNumber)(this.value)||this.value<=0||this.value>100)throw new o.a(o.a.OPTION_THRESHOLD_MISSING)},e.prototype.get=function(){return this.value},e.prototype.percentage=function(){return this.value/100},e.DEFAULT=null,e}(r.a);e.a=s},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=n(5),s=n(24),c=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var r=t.call(this,"Volume")||this;return s.a(Object(a.getIosVersion)(),"10")?r.value=e.DEFAULT_IOS10:r.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.getMain=function(){return this.value.main},e.VALUES={MAIN:"main"},e.DEFAULT={main:.35},e.DEFAULT_IOS10={main:1},e}(o.a);e.a=c},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=n(3),s=n(64),c=function(t){function e(n,r,o){void 0===n&&(n=e.DEFAULT),void 0===r&&(r=null),void 0===o&&(o=null);var a=t.call(this,"Animations")||this;return a.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),s.c.test(String(o))?a.value.expand=.5:r&&r.isInBoard()&&(a.value=e.DEFAULT_INBOARD),a.checkValue(),a}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.setExpandDuration=function(t){var n=this;a.forEach(e.PROPERTIES,function(e){t.style.setProperty(e,n.value.expand+"s")})},e.prototype.setCollapseDuration=function(t){var n=this;a.forEach(e.PROPERTIES,function(e){t.style.setProperty(e,n.value.collapse+"s")})},e.prototype.getExpandDuration=function(){return this.value.expand},e.prototype.getCollapseDuration=function(){return this.value.collapse},e.PROPERTIES=["-webkit-transition-duration","-o-transition-duration","-moz-transition-duration","transition-duration"],e.VALUES={EXPAND:"expand",COLLAPSE:"collapse"},e.DEFAULT={expand:0,collapse:.5},e.DEFAULT_INBOARD={expand:.5,collapse:.5},e}(o.a);e.a=c},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"AdType")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)&&e.VALUES[this.value]||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.isVideo=function(){return this.value===e.VALUES.video},e.prototype.isDisplay=function(){return this.value===e.VALUES.display},e.prototype.isNative=function(){return this.value===e.VALUES.native},e.VALUES={video:"video",display:"display",native:"native"},e.DEFAULT=e.VALUES.video,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=n(8),s=n(169),c=function(t){function e(n){void 0===n&&(n="");var r=t.call(this,"VtpEvent")||this;if(r.event=e.DEFAULT_EVENT,r.offset=e.DEFAULT_OFFSET,Object(o.isString)(n)){var c=Object(i.e)(n.split("-"),2),u=c[0],d=c[1];u&&s.a[u]&&(r.event=s.a[u]),r.event===a.a.AdRemainingTimeChange&&(r.offset=parseInt(d,10))}return r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.event)&&Object(o.isNumber)(this.offset)&&!isNaN(this.offset)||(this.event=e.DEFAULT_EVENT,this.offset=e.DEFAULT_OFFSET)},e.prototype.getEvent=function(){return this.event},e.prototype.getOffset=function(){return this.offset},e.DEFAULT_EVENT=null,e.DEFAULT_OFFSET=0,e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=n(5),s=n(24),c=function(t){function e(n,r){void 0===r&&(r=null);var o=t.call(this,"SmartPosition")||this;return o.formatName=r,o.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),(s.c(a.getIosVersion(),e.MIN_IOS_VERSION)||a.isAmp()||a.isIABSafeFrame())&&(o.value.top=!1,o.value.corner=!1),o.checkValue(),o}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){var t;return window.DO_BYPASS_DO_FORCE_SMART&&(null===(t=this.formatName)||void 0===t?void 0:t.isInRead())||this.value.mustBypassWhitelist&&(this.value.corner||this.value.top)},e.prototype.isCorner=function(){return this.value.corner&&this.isEnabled()},e.prototype.isTop=function(){return this.value.top&&this.isEnabled()&&!a.isDesktop()},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,this.checkValue()},e.MIN_IOS_VERSION="7",e.VALUES={top:"top",corner:"corner"},e.DEFAULT={top:!1,corner:!1,mustBypassWhitelist:!1},e}(o.a);e.a=c},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){var r=t.call(this,"SliderBehavior")||this;return r.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value.enable},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,this.checkValue()},e.VALUES={enable:"enable"},e.DEFAULT={enable:!1},e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(24),s=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,"Sticky")||this;return i.value=e,i.formatName=n,i.checkValue(),i}return Object(i.c)(e,t),e.isCompatibleWithContext=function(){return(o.isMobile()||o.isTablet())&&(!o.isIos()||function(){return a.b(o.getIosVersion(),e.MIN_IOS_VERSION)}())&&!o.isAmp()&&!o.isIABSafeFrame()},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,this.checkValue()},e.prototype.isEnabled=function(){return!0===this.value},e.prototype.checkValue=function(){this.value=!!(this.formatName&&this.formatName.isInBoard()&&e.isCompatibleWithContext()&&!1!==this.value)},e.MIN_IOS_VERSION="7",e}(r.a);e.a=s},function(t,e,n){var i=n(0),r=n(41),o=n(2),a=n(12),s=function(t){function e(n){var a=t.call(this,"CloseButton")||this;return a.getValueFromVast=!n||Object(o.isUndefined)(n.display),a.value=Object(i.a)(Object(i.a)({},e.DEFAULT),Object(r.a)(n,Object(o.not)(o.isUndefined))),a.checkValue(),a}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.containsKeys)(e.VALUES,this.value)?(this.value.countdown=+this.value.countdown,Object(o.isNumber)(this.value.countdown)||(this.value.countdown=0)):this.value=e.DEFAULT},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.hasToGetValueFromVast=function(){return this.getValueFromVast},e.VALUES={DISPLAY:"display",COUNTDOWN:"countdown"},e.DEFAULT={display:!0,countdown:0},e}(a.a);e.a=s},function(t,e,n){var i=n(0),r=n(41),o=n(2),a=n(1),s=n(12),c=function(t){function e(n){var i=t.call(this,"SoundButton")||this,r=e.sanitize(n),o=r.display,a=r.countdown,s=r.type;return i.isEnabled=o,i.countdown=a,i.type=s,i}return Object(i.c)(e,t),e.sanitize=function(t){return a.b.fromNullable(t).map(function(t){return Object(i.a)(Object(i.a)({},e.defaultValues),Object(r.a)(t,Object(o.not)(o.isNull)))}).filter(o.matchesCheckers(e.checkers)).getOrValue(e.defaultValues)},e.prototype.checkValue=function(){},e.prototype.toString=function(){return"SoundButton("+this.isEnabled+", "+this.countdown+", "+this.type+")"},e.defaultValues={display:!0,countdown:0,type:"mute"},e.checkers={display:o.isBoolean,countdown:o.isNumber,type:function(t){return"mute"===t}},e}(s.a);e.a=c},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var r=t.call(this,"CallButton")||this;return r.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.getText=function(){return this.value.text},e.VALUES={DISPLAY:"display",COUNTDOWN:"countdown",TEXT:"text"},e.DEFAULT={display:!0,countdown:3,text:"Learn More"},e}(o.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Timer")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!1,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"ProgressBar")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=n(241),s=n(5),c=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var r=t.call(this,"Label")||this;return r.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),r.checkValue(),r}return Object(i.c)(e,t),e.getTranslation=function(){var t=s.getLanguage().toLowerCase(),e=new a.a(t).translate("label");return e||5!==t.length||(e=new a.a(t.substr(0,2)).translate("label")),e||(e=new a.a("en").translate("label")),e},e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.getHTML=function(){return this.value.html},e.prototype.getText=function(){return this.value.text},e.prototype.isEnabled=function(){return this.value.display},e.VALUES={DISPLAY:"display",TEXT:"text",HTML:"html"},e.TEXT=e.getTranslation(),e.DEFAULT={display:!0,text:e.TEXT,html:e.TEXT},e}(o.a);e.a=c},function(t,e,n){n.d(e,"a",function(){return i});var i=function(){function t(t){this.lang=t,this.translations={ar:{label:"إعلان"},cs:{label:"REKLAMA"},de:{label:"WERBUNG"},da:{label:"ANNONCE"},en:{label:"ADVERTISING"},es:{label:"PUBLICIDAD"},fr:{label:"PUBLICITÉ"},fi:{label:"MAINONTA"},hr:{label:"OGLAS"},hu:{label:"HIRDETÉS"},id:{label:"Iklan"},it:{label:"PUBBLICITÀ"},ja:{label:"広告"},jamobile:{label:"タップして音声が流れます"},jamobilePR:{label:"[PR]タップして音が流れます"},ko:{label:"광고"},kr:{label:"광고"},mo:{label:"ADVERTISING"},nl:{label:"ADVERTENTIE"},no:{label:"ANNONSERING"},pl:{label:"REKLAMA"},pt:{label:"PUBLICIDADE"},ro:{label:"PUBLICITATE"},ru:{label:"РЕКЛАМА"},sr:{label:"ОГЛАШАВАЊЕ"},sk:{label:"REKLAMA"},sl:{label:"OGLAŠAVANJE"},sv:{label:"ANNONS"},sw:{label:"REKLAM"},tr:{label:"ILAN"},zh:{label:"广告"},"zh-hk":{label:"廣告"},"zh-tw":{label:"廣告"},vi:{label:"ADVERTISING"},"fil-ph":{label:"ADVERTISING"},ms:{label:"ADVERTISING"},"hi-in":{label:"विज्ञापन"}}}return t.prototype.translate=function(t){return(this.translations[this.lang]||{})[t]},t}()},function(t,e,n){var i=n(0),r=n(41),o=n(2),a=n(12),s=n(5),c=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var a=t.call(this,"EndScreen")||this;return a.value=Object(i.a)(Object(i.a)(Object(i.a)({},e.DEFAULT),Object(r.a)(n,Object(o.not)(o.isUndefined))),{callButton:Object(i.a)(Object(i.a)({},e.DEFAULT.callButton),Object(r.a)(null===n||void 0===n?void 0:n.callButton,Object(o.not)(o.isUndefined))),replayButton:Object(i.a)(Object(i.a)({},e.DEFAULT.replayButton),Object(r.a)(null===n||void 0===n?void 0:n.replayButton,Object(o.not)(o.isUndefined)))}),Object(s.isAmp)()&&(a.value.display=!0,a.value.autoClose=!1),!1===a.value.autoClose&&(a.value.countdown=0),a.checkValue(),a}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.getCallButton=function(){return this.value.callButton},e.prototype.getReplayButton=function(){return this.value.replayButton},e.prototype.getAutoClose=function(){return this.value.autoClose},e.VALUES={DISPLAY:"display",CALLBUTTON:"callButton",REPLAYBUTTON:"replayButton",AUTOCLOSE:"autoClose",COUNTDOWN:"countdown",TYPE:"type"},e.DEFAULT={display:!0,callButton:{text:"Learn More",type:"learnMore"},replayButton:{text:"Replay"},autoClose:!1,countdown:0,type:"simple"},e}(a.a);e.a=c},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=function(t){function e(n,r){void 0===n&&(n=null),void 0===r&&(r="");var o=t.call(this,"BrandLogo")||this,a={display:!!n&&n.display,url:r};return o.value=Object(i.a)(Object(i.a)({},e.DEFAULT),a),o.checkValue(),o}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.getUrl=function(){return this.value.url},e.prototype.isEnabled=function(){return this.value.display},e.VALUES={DISPLAY:"display",URL:"url"},e.DEFAULT={display:!1,url:""},e}(o.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(e){var n=t.call(this,"SmartPosition")||this;return n.value=e,n.checkValue(),n}return Object(i.c)(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.closeButtonEnabled=function(){return this.value.closeButtonDisplay},e.VALUES={closeButtonDisplay:"closeButtonDisplay"},e.DEFAULT={closeButtonDisplay:!1},e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(2),s=n(64),c=function(t){function e(n,i){void 0===n&&(n=e.DEFAULT),void 0===i&&(i=null);var r=t.call(this,"Launch")||this;return s.c.test(String(i))?r.value=e.VALUES.THRESHOLD:Object(o.isAmp)()?r.value=e.VALUES.AUTO:r.value=n,r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(a.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isAuto=function(){return this.value===e.VALUES.AUTO},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.VALUES={AUTO:"auto",THRESHOLD:"threshold"},e.DEFAULT=e.VALUES.AUTO,e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=n(5),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var r=t.call(this,"SoundStart")||this;return r.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),!Object(a.isMobile)()&&!Object(a.isTablet)()||Object(a.isSDK)()||(r.value.type="mute"),r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isMute=function(){return this.value.type===e.VALUES_TYPE.MUTE},e.prototype.isUnmute=function(){return this.value.type===e.VALUES_TYPE.UNMUTE},e.prototype.isCountdown=function(){return this.value.type===e.VALUES_TYPE.COUNTDOWN},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.getType=function(){return this.value.type},e.VALUES={TYPE:"type",COUNTDOWN:"countdown"},e.VALUES_TYPE={MUTE:"mute",UNMUTE:"unmute",COUNTDOWN:"countdown"},e.DEFAULT={type:"mute",countdown:0},e}(o.a);e.a=s},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.VALUES.THRESHOLD);var i=t.call(this,"VideoPause")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isNo=function(){return this.value===e.VALUES.NO},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.prototype.getValue=function(){return this.value},e.prototype.setToNo=function(){return this.value=e.VALUES.NO},e.VALUES={NO:"no",THRESHOLD:"threshold"},e.DEFAULT=e.VALUES.THRESHOLD,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"SoundMute")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isNo=function(){return this.value===e.VALUES.NO},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.VALUES={NO:"no",THRESHOLD:"threshold"},e.DEFAULT=e.VALUES.THRESHOLD,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(2),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"PlayerClick")||this;return i.value=n,Object(o.isDesktop)()&&(i.value=e.VALUES.CLICK),i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(a.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isClick=function(){return this.value===e.VALUES.CLICK},e.prototype.isFullscreen=function(){return this.value===e.VALUES.FULLSCREEN},e.VALUES={CLICK:"click",FULLSCREEN:"fullscreen"},e.DEFAULT=Object(o.isDesktop)()?e.VALUES.CLICK:e.VALUES.FULLSCREEN,e}(r.a);e.a=s},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(2),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"End")||this;return i.value=Object(o.isAmp)()?e.VALUES.ENDSCREEN:n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(a.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isCollapse=function(){return this.value===e.VALUES.COLLAPSE},e.prototype.isEndScreen=function(){return this.value===e.VALUES.ENDSCREEN},e.VALUES={COLLAPSE:"collapse",ENDSCREEN:"endscreen"},e.DEFAULT=e.VALUES.ENDSCREEN,e}(r.a);e.a=s},function(t,e,n){var i=n(0),r=n(42),o=n(78),a=n(12),s=n(2),c=n(8),u=function(t){function e(n,i){void 0===n&&(n=e.DEFAULT);var r=t.call(this,"Callbacks")||this;return r.callbacks=n,r.volume=i,r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){s.isObject(this.callbacks)||(this.callbacks=e.DEFAULT)},e.prototype.trigger=function(t,e,n){if(this.last===t)return this.logger.debug("Callbacks already triggered",t),!1;if(t===c.a.AdVolumeChange&&e&&(e.getVolume()===this.volume.getMain()?this.trigger("unmute"):e.isMuted()&&this.trigger("mute")),t===c.a.AdExpandedChange&&n&&(n.isActive()?this.trigger("enterFullscreen"):this.trigger("exitFullscreen")),s.isFunction(this.callbacks[t]))try{return this.callbacks[t](),this.last=t,!0}catch(e){r.a.error("cb-threw-err "+t+" "+Object(o.a)(e)),this.logger.error('the "'+t+'" callback threw an error:',e)}else this.callbacks[t]&&this.logger.error('the "'+t+'" callback is not a function:',this.callbacks[t]);return!1},e.DEFAULT={},e}(a.a);e.a=u},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(24),s=n(90),c=function(t){function e(n,i,r,o){void 0===o&&(o=null);var a=t.call(this,"AllowedPlayer")||this;return a.formatName=i,a.smartPosition=r,a.placementId=o,a.isCustomContext()&&a.isCustomOs()?a.setValue(s.a.CANVAS):a.setValue(e.VALUES[n]),a.checkValue(),a}return Object(i.c)(e,t),e.prototype.checkValue=function(){var t=!1;for(var n in e.VALUES)e.VALUES.hasOwnProperty(n)&&(t=t||this.value===e.VALUES[n]);t||(this.value=e.DEFAULT)},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,o.cacheCanvasUsed(this.value===s.a.CANVAS)},e.prototype.isCustomContext=function(){return o.isAmp()||o.isIABSafeFrame()||this.formatName.isInBoard()&&this.smartPosition.isEnabled()},e.prototype.isCustomOs=function(){return o.isAndroid()&&!a.a(o.getChromeVersion(),"53")||o.isIos()&&!o.isWhiteListedIos10Safari(String(this.placementId))},e.VALUES={html5:s.a.HTML5,canvas:s.a.CANVAS,any:s.a.ANY},e.DEFAULT=s.a.ANY,e}(r.a);e.a=c},function(t,e,n){function i(t,e,n,s,u){void 0===u&&(u=!0),t=o(t,e.apiFrameworkList),t=a(t);var m=t.match(/\/\/.*/);m&&(t=e.forceHTTPS?"https:"+m[0]:l.getProtocol()+m[0]),A.debug("Loading VAST file URL:",t," - credentials:",u);var v,y=!1,w=function(o){if(clearTimeout(v),!y&&u)return A.warn("load file with credentials failed, try without credentials before flash proxy"),void i(t,e,n,s,!1);A.warn("load file with javascript failed"),!y&&d.a()?r(t,e,n,s):(A.warn("Error loading URL",t),s(o,new h.a))};try{var O=g.a();O.open("GET",t,!0),O.withCredentials=u;var E=function(){if(clearTimeout(v),!y){E=l.noop;var t;if("string"==typeof O.responseXML)t=O.responseXML;else if("string"==typeof O.responseText)t=O.responseText;else{if("string"!=typeof O.response)return void w(p.a.get(p.b.WRAPPER_TIMEOUT.id,"empty xhr response"));t=O.response}n(f.trim(t))}};g.b(O)?O.onreadystatechange=function(){if(4===O.readyState){if(O.status<200||O.status>=400){var t=p.a.get(p.b.WRAPPER_TIMEOUT.id,"invalid XHR status code "+O.status);return A.warn("server return an invalid status code : "+t.toString()),404===O.status&&(y=!0),w(t)}E()}}:(O.onerror=function(){return w(p.a.get(p.b.WRAPPER_TIMEOUT.id,"XHR onerror"))},O.onprogress=function(){},O.onload=function(){return E()}),c.a.tryCatch(function(){return O.send()}).fold(function(t){w(p.a.get(p.b.WRAPPER.id,"Error on XHR send method",t))},function(){var t=e.timeout||b.a.TIMEOUT;v=setTimeout(function(){y=!0,w(p.a.get(p.b.WRAPPER_TIMEOUT.id,"no response after "+t+"ms"))},t)})}catch(t){A.warn("Could not load XML file directly",t),y=!0,w(p.a.get(p.b.UNDEFINED.id,"VASTLoader.load error "+t,t))}}function r(t,e,n,i){var r="vastloader_"+Date.now()+"_"+Math.round(1e3*Math.random());A.debug("try loading file with flash cors proxy",r);var o,a=e.timeout||b.a.TIMEOUT,s=!1;window[r]=function(e,a){if(!s){if(clearTimeout(o),e)A.debug("Flash CORS proxy successfully load VAST file",t),n(f.trim(decodeURIComponent(a)));else{A.error("Unable to load VAST file with flash CORS proxy");var c=p.a.get(p.b.WRAPPER_TIMEOUT.id,"flash CORS proxy fail to load XML");i(c,new h.a)}window[r]=void 0}};var c=e.assetsUrl+"/"+m.a.corsswf,u=document.createElement("div");u.innerHTML='<object id="'+r+'" name="'+r+'" data="'+c+'" type="application/x-shockwave-flash" width="0" height="0"><param name="allowScriptAccess" value="always"/><param name="movie" value="'+c+'"/><param name="flashvars" value="url='+encodeURIComponent(t)+"&handler="+r+'"/></object>',document.body.appendChild(u),o=setTimeout(function(){s=!0;var t=p.a.get(p.b.WRAPPER_TIMEOUT.id,"flash cors have no response after "+a+"ms");i(t,new h.a)},a)}function o(t,e,n){void 0===e&&(e=v.a),void 0===n&&(n=y.a);try{var i=f.rand(8);return t.replace(/\[timestamp\]/gi,String(Date.now())).replace(/\[(random|cachebusting|random_number|TTD_CACHEBUSTER)\]/gi,i).replace(/ord=(%n|\{RANDOMNUM\}|%25%25TTD_CACHEBUSTER%25%25)/gi,"ord="+i).replace(/\[APIFRAMEWORKS\]/gi,e.join(",")).replace(/%APIFRAMEWORKS%/gi,e.join(",")).replace(/\[OMIDPARTNER\]/gi,n).replace(/%OMIDPARTNER%/gi,n)}catch(t){A.warn("updateUrlPlaceholder threw an exception: "+t)}return t}function a(t){return c.a.tryCatch(function(){return decodeURIComponent(t)}).fold(function(){return s(t)},function(){return t})}function s(t){return t.replace(/%/g,"")}e.a=i;var c=n(6),u=n(4),d=n(70),l=n(2),p=n(32),h=n(138),f=n(11),g=n(28),m=n(254),b=n(178),v=n(255),y=n(179),A=new u.a("vast.VASTLoader")},function(t,e,n){n.d(e,"a",function(){return i});var i={corsswf:"cors.swf"}},function(t,e,n){n.d(e,"a",function(){return i});var i=[1,2]},,,,,,,,,function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=(n(265),n(165)),r=window.teads||{};r.helper=r.helper||{},window.teads=r,Object(i.d)()},function(t,e,n){var i=n(161),r=n(172),o=n(165),a=window.teads||{};a.instances=a.instances||o.e,a.tagManagerResourcesList=i.e,a.clearInstances=o.b,a.destroyPageRelatedVariables=o.c,a.loadAd=i.d,a.isNoAd=i.b,a.isSameAd=r.b,a.cleanup=o.a},function(t,e,n){function i(t){var e=t.instancesStore,n=t.placement,i=t.formatConfig,o=t.vastPlayer,a=t.markId,s=t.sumologicLogger,c=t.adCallTrackOpts,u=t.auctionId,d=t.viewerId;i.sliderBehavior.isEnabled()?n.enableSlider():n.isSliderEnabled()&&i.sliderBehavior.setValue({enable:!0});var h=i.sliderBehavior.isEnabled()?new p.a(n,i,o.getOrNull(),a,u,d,s):new l.a(n,i,o.getOrNull(),a,c,u,d,s);return r(e,n.wigo,h),f.b(),h}function r(t,e,n){var i=n.formatConfig.formatName.get();t[i]||(t[i]=[]),t[i].push(n),n.setWigo(e)}function o(t){var e=s.b.fromNullable(t).filter(function(t){return!t.adType.isVideo()}).flatMap(Object(c.a)(Object(u.prop)("creativeSize"),s.b.fromNullable));return{path:d.b.basePathUrl,type:t.allowedPlayer.getValue(),formatConfig:t,background:"transparent",vpaidApi:null,pageId:t.pageId,adType:t.adType.get(),width:e.map(function(t){return t.width}).getOrNull(),height:e.map(function(t){return t.height}).getOrNull()}}function a(t,e,n){return{name:"inread",config:{components:h.a(t,n,e,g.b(e))}}}e.a=i,e.b=o,e.c=a;var s=n(1),c=n(10),u=n(2),d=n(18),l=n(267),p=n(303),h=n(304),f=n(207),g=n(120)},function(t,e,n){var i=n(0),r=n(20),o=n(2),a=n(188),s=n(115),c=n(7),u=n(204),d=n(1),l=n(90),p=n(88),h=n(141),f=n(205),g=n(134),m=n(129),b=n(3),v=n(5),y=n(9),A=n(103),w=n(69),O=n(21),E=n(206),C=n(83),I=n(121),S=n(8),T=n(51),j=n(16),k=n(167),P=n(56),L=function(t){function e(e,n,i,r,o,a,s,u){var l=t.call(this,e,n,i,r,a,s,u)||this;return l.placement=e,l.config=n,l.player=i,l.markId=r,l.adCallTrackOpts=o,l.hasLoggedPlayProblem=!1,l.adCallTracked=!1,l.getFunnelMacros=function(){var t=d.b.fromNullable(l.slotType);return w.b({slotType:t})},l.config.adType.isDisplay()&&Object(c.addClass)(l.parentContainer,"teads-display"),Object(p.a)(l.config.portfolioItemId)&&(Object(c.addClass)(l.parentContainer,"teads-third-party-display"),b.includes([37,39],l.config.portfolioItemId)&&v.isIos()&&l.parentContainer.style.setProperty("-webkit-clip-path","inset(0)")),l.windowReferenceForViewability=l.getReferenceWindowForViewability(l.playerContainer,l.win.location.href),l}return Object(i.c)(e,t),e.prototype.load=function(e,n){var i=this;v.isIABSafeFrame()&&!Object(k.a)(this.formatConfig.portfolioItemId,this.placement.placementConfig.headerBiddingProvider.nonEmpty())?A.c(function(){return t.prototype.load.call(i,e,n)}):t.prototype.load.call(this,e,n)},e.prototype.getTemplateName=function(){return"inread"},e.prototype.start=function(){var e=this,n=this.placement.placementConfig.scrollSelector.getSlot();this.scrollListener=Object(g.a)(function(t){return e.onScroll(t)},n,this.win.context),v.isDesktop()&&this.setRealVisibilityInterval(),this.isInView=this.getInViewState(),this.formatConfig.vast.getContent()&&this.player.getMediafile()?t.prototype.start.call(this):this.onScroll()},e.prototype.onAdLoaded=function(){var e=this;if(t.prototype.onAdLoaded.call(this),this.extensions=d.b.fromNullable(this.player).map(function(t){return t.getPlugin("Extensions")}),this.extensions.forEach(function(t){return e.loadAdVerificationScripts(t)}),this.fullscreenHelper.addCloseEventListener(function(){e.isSmartPositioned()||e.responsive&&e.responsive.resize(!0)}),this.isVertical){var n=function(){e.responsive.unsetResponsive(),e.parentContainer.style.setProperty("display","none"),e.isInView=!1,e.requestPauseAd()};this.responsive.addOrientationChangeListener(function(t){e.isFullscreen()||(e.responsive.isLandscape?n():(e.parentContainer.style.setProperty("display","block"),e.responsive.setResponsive(),e.onScroll(t)))}),this.fullscreenHelper.addCloseEventListener(function(){e.responsive&&e.responsive.isLandscape&&n()})}v.isDesktop()||this.vpaidAd.render(this.vpaidAd.getVPAID()),v.isIABSafeFrame()&&!this.states.hasOpened&&this.openFormat(),this.onScroll(),this.isInView=this.getInViewState()},e.prototype.onAdVideoStart=function(){t.prototype.onAdVideoStart.call(this),this.smartPositionHelper&&this.smartPositionHelper.enableBehavior(),this.states.hasStarted&&this.states.hasOpened&&this.fitContainerToContent()},e.prototype.onAdSizeChange=function(){if(t.prototype.onAdSizeChange.call(this),this.states.hasOpened){var e=this.fitContainerToContent();v.isAmp()&&m.f(e)}},e.prototype.onAdVideoComplete=function(){t.prototype.onAdVideoComplete.call(this),this.smartPositionHelper&&this.smartPositionHelper.disableBehavior()},e.prototype.onVpaidReady=function(){var e=this;t.prototype.onVpaidReady.call(this),this.fullscreenHelper=new u.a(this.parentContainer,this.vpaidAd,this.components,this.responsive,this.win,this.playerContainer),this.brandingMode=new E.a(this),this.isVertical||!this.formatConfig.sticky.isEnabled()&&!this.formatConfig.smartPosition.isEnabled()||(this.smartPositionHelper=new f.a(this)),this.vpaidAd.subscribe(function(){return e.pauseAdIfShouldNotBePlaying()},S.a.AdStarted),this.vpaidAd.subscribe(function(){return e.pauseAdIfShouldNotBePlaying()},S.a.AdRemainingTimeChange),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},S.a.AdError),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},S.a.AdStopped),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},S.a.AdSkipped),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},S.a.AdVideoComplete)},e.prototype.close=function(e){t.prototype.close.call(this,e),this.clearRealVisibilityInterval()},e.prototype.startInView=function(){this.states.hasStarted&&(this.formatConfig.videoPause.isThreshold()||this.isVertical||this.states.hasCompleted)&&this.requestResumeAd(),this.volumeController.startInView()},e.prototype.endInView=function(){this.formatConfig.videoPause.isThreshold()||this.states.hasCompleted?this.requestPauseAd():this.volumeController.endInView()},e.prototype.fitContainerToContent=function(t){var e;void 0===t&&(t=!1);var n=this.getEnvironmentVars();if(this.vpaidApi.isStudioDisplay());else if(v.isIos()&&!d.b.fromNullable(null===(e=n.videoSlot)||void 0===e?void 0:e.mediaProxy).isEmpty()){var i=n.videoSlot.mediaProxy,r=i.getStatus();if(r!==I.a.READY)return}if((this.states.hasOpened||t)&&!this.isFullscreen()){var o=y.getBoundingClientRect(this.placement.getInnerContainer()),a=o.height;return this.parentContainer.style.setProperty("height",a+"px"),a}},e.prototype.manageInView=function(t){t!==this.isInView&&(t?this.startInView():this.endInView()),this.isInView=t},e.prototype.openFormat=function(){var t,e=this;v.isIABSafeFrame()||(this.states.hasOpened=!0),this.formatConfig.animations.setExpandDuration(this.parentContainer);var n=this.getEnvironmentVars();if(this.vpaidApi.isStudioDisplay()||!this.formatConfig.adType.isVideo());else if(v.isIos()&&!d.b.fromNullable(null===(t=n.videoSlot)||void 0===t?void 0:t.mediaProxy).isEmpty()){var i=n.videoSlot.mediaProxy,r=i.getStatus();if(r===I.a.READY)this.logger.debug("mediaProxy is ready !",n.videoSlot.src);else{if(r===I.a.ERROR)return void this.logger.error("mediaProxy error, video is not available for the moment",n.videoSlot.src);if(!n.videoSlot.src||r<I.a.READY)return this.logger.debug("mediaProxy not ready or video.src not setted, delay inread opening",n.videoSlot.src),void i.listen(C.a.READY,function(){e.openFormat()},!1)}}var o=this.fitContainerToContent(!0);this.logger.debug("Format (pageId = "+this.formatConfig.pageId+", placementId = "+this.formatConfig.placementId+") has been opened"),this.responsive&&!this.isSmartPositioned()&&this.responsive.setResponsive(),v.isIABSafeFrame()&&A.f(this.vpaidApi.adMetadata.map(Object(a.b)([this.components.getComponent("label"),this.components.getComponent("credits")])).getOrValue(o),function(t){e.states.hasOpened=t,e.vpaidApi.adMetadata.forEach(function(t){return e.responsive.updateAndResizeWithAdVideoMetadata(t)})})},e.prototype.trackAdCall=function(t){var e=this;!t||this.states.hasStopped||this.adCallTracked||(this.adCallTracked=!0,Object(P.h)({placementKey:this.placement.key,sumologicLogger:this.sumologicLogger,wigo:this.placement.wigo,logger:this.logger,headerBiddingProvider:this.placement.placementConfig.headerBiddingProvider,baseUrlWithQueryParameters:this.adCallTrackOpts}),this.initAdTimingMark.forEach(function(t){var n=Math.round(Object(r.l)()-t);Object(o.isFunction)(e.vpaidAd.getVPAID().handleAdCallTimeout)&&e.vpaidAd.getVPAID().handleAdCallTimeout(n),e.logger.info("Duration between initAd and adCall",n)}),Object(r.i)({name:"l",id:this.markId}),this.sumologicLogger.info(Object(r.f)("ac",this.markId),40))},e.prototype.isUserInteraction=function(t){return!!(!v.isMobile()&&!v.isTablet()||this.formatConfig.allowedPlayer.getValue()===l.a.CANVAS||v.isWhiteListedIos10Safari(String(this.config.placementId))||v.isFacebookWebviewIOS10()||v.canAutoplay())||!!t&&"scroll"!==t.type},e.prototype.onScroll=function(e){if(t.prototype.onScroll.call(this,e),!this.isFullscreen()&&!this.isVerticalLandscape()){this.smartPositionHelper&&this.smartPositionHelper.toggleSmartPositionIfNeeded();var n=this.getInViewState();this.trackAdCall(n),!this.isSmartPositioned()&&this.states.isReady&&(this.states.hasOpened||this.isUserInteraction(e)&&this.isWindowVisible()&&(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&n)&&this.openFormat(),this.states.hasOpened&&!this.states.hasStopped&&(this.states.hasStarted?this.manageInView(n):(this.viewabilityTagsHelper.onScroll(),(this.isUserInteraction(e)||this.states.isReplay)&&this.canStart(n)&&(this.startAd(),v.isDesktop()||this.setRealVisibilityInterval()))))}},e.prototype.canStart=function(t){return!this.formatConfig.videoStart.isThreshold()||t||this.states.isReplay||this.shouldBypassDeepVisibilityCheck()},e.prototype.canPlay=function(t){return this.formatConfig.videoPause.isNo()||t},e.prototype.isFullscreen=function(){return!!this.fullscreenHelper&&this.fullscreenHelper.isActive()},e.prototype.isSmartPositioned=function(){return this.smartPositionHelper&&this.smartPositionHelper.isInDetachedSlot},e.prototype.getReferenceWindowForViewability=function(t,e){return Object(j.j)(e)?Object(c.getWindow)(t):Object(c.findTopWindow)(t)},e.prototype.getViewportInViewState=function(){var t=this.vpaidAd?this.vpaidAd.getAdHeight():e.DEFAULT_AD_HEIGHT;return!!this.isSmartPositioned()||Object(c.isInView)({element:this.playerContainer,elementAncestors:Object(c.findParentElements)(this.playerContainer),elementClientRect:y.getBoundingClientRect(this.playerContainer,!Object(j.j)(this.win.location.href)),mainWindow:this.windowReferenceForViewability,thresholdCoefficient:this.formatConfig.threshold.get()/100,elementHeight:t})},e.prototype.setRealVisibilityInterval=function(){var t=this;this.realVisibilityInterval=this.realVisibilityInterval.orElse(function(){return d.b.fromNullable(O.c(function(){return t.checkRealVisibility()},250))})},e.prototype.checkRealVisibility=function(){if(!this.isFullscreen()&&!this.isVerticalLandscape()){this.smartPositionHelper&&this.smartPositionHelper.toggleSmartPositionIfNeeded();var t=this.getInViewState();this.trackAdCall(t),this.states.isReady&&(this.states.hasOpened?this.states.hasOpened&&!this.states.hasStopped&&(this.states.hasStarted?(this.manageInView(t),Object(p.b)(this.config.portfolioItemId)&&this.fitContainerToContent()):(this.viewabilityTagsHelper.onScroll(),this.canStart(t)&&this.startAd())):this.isWindowVisible()&&(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&t)&&this.openFormat())}},e.prototype.pauseAdIfShouldNotBePlaying=function(){if(this.states.isPlaying){var t=this.getInViewState();if(!(this.states.hasStarted?this.canPlay(t):this.canStart(t))&&(this.isInView=!1,this.requestPauseAd(),!this.hasLoggedPlayProblem)){this.hasLoggedPlayProblem=!0;var e=this.linearAd&&this.linearAd.id?this.linearAd.id:"0",n=this.linearAd&&this.linearAd.creativeId?this.linearAd.creativeId:"0";this.sumologicLogger.info("shouldnt-be-playing "+this.placement.pid+" "+n+" "+e)}}},e.prototype.shouldBypassDeepVisibilityCheck=function(){var t,e=this.getEnvironmentVars();return v.isIos()&&v.isCanvasUsed()&&!d.b.fromNullable(null===(t=e.videoSlot)||void 0===t?void 0:t.mediaProxy).isEmpty()&&this.getViewportInViewState()},e.prototype.isVerticalLandscape=function(){return this.isVertical&&this.responsive&&this.responsive.isLandscape},e.prototype.insertViewabilityScripts=function(t,e){var n=this;b.forEach(t,function(t){var i=t.vendor,r=t.url,o=document.createElement("script");o.type="text/javascript",o.src=r,o.async=!0,"IAS"===i&&Object(h.a)(n.config.portfolioItemId)?n.parentContainer.appendChild(o):"DoubleVerify"===i?e.parentElement.appendChild(o):e.insertBefore(o,n.playerContainer.firstChild)})},e.prototype.loadAdVerificationScripts=function(t){var e=this;t.getExtension(s.a.AD_VERIFICATIONS).map(function(e){return t.retrieveCreativePrefetchAdVerificationScriptUrls(e)}).map(function(t){var n=e.getFunnelMacros();return b.map(t,function(t){var e=t.vendor,i=t.url;return{vendor:e,url:w.h(n)(i)}})}).forEach(function(t){var n=function(){e.insertViewabilityScripts(t,e.playerContainer)};Object(T.c)(e.player.getLinearAd().adParameters,e.player.getMediafile().url)?e.viewabilityTagsHelper.onceThresholdReached(n):n()})},e.DEFAULT_AD_HEIGHT=1,e}(a.a);e.a=L},function(t,e,n){function i(){return r.isDesktop()||r.isFirefox()&&r.isAndroid()}n.d(e,"a",function(){return g});var r=n(5),o=n(9),a=n(7),s=n(126),c=n(4),u=n(38),d=n(2),l=n(1),p=n(84),h=n(15),f=n(8),g=function(){function t(t,e,n){var r=this;this.container=t,this.resize=d.noop,this.logger=new c.a("FixedBackground"),this.resizeContainer=function(t){t&&"orientationchange"===t.type&&(r.center=null);var e=o.getBoundingClientRect(r.container,!1),n=o.getWindowSize(r.win),a=Math.round(e.width),s=r.image.height*a/r.image.width;if(r.baseContainer.style.setProperty("width",a+"px"),r.baseContainer.style.setProperty("height",Math.round(e.height)+"px"),i())r.center=r.center||(n.height-s)/2,r.baseContainer.style.setProperty("background-size",Math.round(a)+"px "+Math.round(s)+"px"),r.baseContainer.style.setProperty("background-position",Math.round(e.left)+"px "+r.center+"px");else{r.fixedContainer.style.setProperty("width",Math.round(a)+"px"),r.fixedContainer.style.setProperty("height",Math.round(1.2*(n.height+s))+"px"),r.fixedContainer.style.setProperty("background-size",Math.round(a)+"px "+Math.round(s)+"px"),r.fixedContainer.style.setProperty("left",Math.round(e.left)+"px"),r.center=r.center||(n.height-s)/2%s;var c=r.center>0?r.center-s:r.center;r.fixedContainer.style.setProperty("top",c+"px")}},this.resizeVideoContainer=function(t){var e=o.getBoundingClientRect(r.container,!1),n=Math.round(e.width),i=Math.round(r.video.videoHeight*n/r.video.videoWidth);r.baseContainer.style.setProperty("width",n+"px"),r.baseContainer.style.setProperty("height",Math.round(e.height)+"px"),r.video.style.setProperty("width",n+"px"),r.video.width=n,r.video.style.setProperty("height",i+"px"),r.video.height=i,r.video.style.setProperty("left",Math.round(e.left)+"px")},this.win=a.getWindow(this.container),a.addClass(e,"teads-display-format"),this.resize=Object(d.isFunction)(n)?n:this.resize,this.eventListenerManager=new u.a,this.eventListenerManager.addMultiple(["resize","orientationchange"],this.win,function(){return r.resize()}),this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.container,function(){return r.resize()})}return t.prototype.loadImage=function(t,e){var n=this;this.image=new Image,this.image.onerror=function(t){return e(!1,l.b.empty())},this.image.onload=function(t){n.image.naturalWidth&&n.image.naturalHeight?e(!0,l.b.fromNullable(n.image)):(n.logger.error("setFixedBackgroundImage: Asset size error: cannot retrieve image dimensions"),e(!1,l.b.fromNullable(n.image)))},this.image.src=t},t.prototype.loadVideo=function(t,e,n){var i=this;this.video&&this.destroy(),this.video=e.videoSlot,this.video.addEventListener(h.a.ERROR,function(){n(!1,l.b.empty())}),this.video.addEventListener(h.a.LOADED_METADATA,function(){i.video.videoWidth&&i.video.videoHeight?n(!0,l.b.fromNullable(i.video)):(i.logger.error("setFixedBackgroundVideo: Asset size error: cannot retrieve video dimensions"),n(!1,l.b.fromNullable(i.video)))}),this.video.src===t?(this.video.currentTime=0,n(!0,l.b.fromNullable(this.video))):(this.video.setAttribute("preload","auto"),this.video.src=t)},t.prototype.initContainer=function(){this.resize=this.resizeContainer,s.a(t.CSS,this.win,t.STYLE_NODE_ID),this.baseContainer=this.win.document.createElement("div"),this.baseContainer.className=t.CSSCLASSES.absolute,i()?this.baseContainer.style.setProperty("background-image","url("+this.image.src+")"):(this.fixedContainer=this.win.document.createElement("div"),this.fixedContainer.style.setProperty("background-image","url("+this.image.src+")"),this.fixedContainer.className=t.CSSCLASSES.fixed,this.baseContainer.style.setProperty("-webkit-clip-path","inset(1px 0px)","important"),this.baseContainer.style.setProperty("clip-path","inset(1px 0px)","important"),this.baseContainer.appendChild(this.fixedContainer)),this.resize()},t.prototype.initVideoContainer=function(e){var n=this;this.resize=this.resizeVideoContainer,s.a(t.CSS,this.win,t.STYLE_NODE_ID),this.baseContainer=this.baseContainer||this.win.document.createElement("div"),this.baseContainer.className=t.CSSCLASSES.absolute,this.baseContainer.style.setProperty("-webkit-clip-path","inset(1px 0px)","important"),this.baseContainer.style.setProperty("clip-path","inset(1px 0px)","important"),(this.baseContainer.style.getPropertyValue("-webkit-clip-path")||this.baseContainer.style.getPropertyValue("clip-path"))&&a.addClass(this.video,t.CSSCLASSES.videoScroller),e.subscribe(function(){requestAnimationFrame(function(){n.baseContainer.style.setProperty("display","none"),requestAnimationFrame(function(){n.baseContainer.style.setProperty("display","block"),n.video.play()})})},f.a.AdVideoStart),e.subscribe(function(){return n.video.play()},f.a.AdPlaying),e.subscribe(function(){return n.video.pause()},f.a.AdPaused),this.eventListenerManager.add("scroll",this.win,function(){var t=n.isInView(n.container,e)?1:0;n.video.style.setProperty("opacity",""+t,"important")}),this.baseContainer.appendChild(this.video),this.resize()},t.prototype.append=function(){this.container.style.setProperty("position","relative"),this.container.style.setProperty("z-index","100"),this.container.parentNode.insertBefore(this.baseContainer,this.container)},t.prototype.destroy=function(){this.baseContainer.parentNode.removeChild(this.baseContainer),this.eventListenerManager.removeAll()},t.prototype.getBaseContainer=function(){return this.baseContainer},t.prototype.isInView=function(t,e){return a.isInView({element:t,elementAncestors:a.findParentElements(t),elementClientRect:o.getBoundingClientRect(t),mainWindow:this.win,thresholdCoefficient:.001,elementHeight:e.getAdHeight()})},t.CSS=p.c,t.CSSCLASSES={absolute:"teads-display-absolute",fixed:"teads-display-fixed",clickZone:"teads-display-clickzone",videoScroller:"teads-video-scroller"},t.STYLE_NODE_ID="teads-inread-display",t}()},function(t,e,n){var i=n(270);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,".teads-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:0;cursor:pointer}",""])},function(t,e,n){var i=n(272);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,".teads-inboard,.teads-inread{overflow:hidden;height:0;-webkit-transition:height .5s;-moz-transition:height .5s;-o-transition:height .5s;-ms-transition:height .5s;transition:height .5s;box-sizing:content-box}.teads-inboard.no-transition,.teads-inread.no-transition{-webkit-transition:none;-moz-transition:none;-o-transition:none;-ms-transition:none;transition:none}div.teads-inboard div:after,div.teads-inboard div:before,div.teads-inread div:after,div.teads-inread div:before{display:none!important}div.teads-inread.teads-display{margin-bottom:10px!important}div.teads-inread.teads-third-party-display{height:auto!important}",""])},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,"div.teads-expand div.teads-ui-components-credits,div.teads-inboard div.teads-ui-components-credits,div.teads-inread div.teads-ui-components-credits{font-family:Helvetica,Arial,sans-serif!important;font-size:11.5px!important;color:#aaa!important;text-align:right!important;padding:1px 0!important;height:26px!important;line-height:26px!important;padding-right:4px!important;letter-spacing:.3px!important}div.teads-expand div.teads-ui-components-credits a span,div.teads-inboard div.teads-ui-components-credits a span,div.teads-inread div.teads-ui-components-credits a span{display:inline!important}div.teads-expand div.teads-ui-components-credits a,div.teads-expand div.teads-ui-components-credits a span,div.teads-inboard div.teads-ui-components-credits a,div.teads-inboard div.teads-ui-components-credits a span,div.teads-inread div.teads-ui-components-credits a,div.teads-inread div.teads-ui-components-credits a span{font-family:Helvetica,Arial,sans-serif!important;font-size:11.5px!important;box-shadow:none!important;letter-spacing:.3px!important}div.teads-expand.sm-screen div.teads-ui-components-credits a,div.teads-expand.sm-screen div.teads-ui-components-credits a span,div.teads-expand.xs-screen div.teads-ui-components-credits a,div.teads-expand.xs-screen div.teads-ui-components-credits a span,div.teads-inboard.sm-screen div.teads-ui-components-credits a,div.teads-inboard.sm-screen div.teads-ui-components-credits a span,div.teads-inboard.xs-screen div.teads-ui-components-credits a,div.teads-inboard.xs-screen div.teads-ui-components-credits a span,div.teads-inread.sm-screen div.teads-ui-components-credits a,div.teads-inread.sm-screen div.teads-ui-components-credits a span,div.teads-inread.xs-screen div.teads-ui-components-credits a,div.teads-inread.xs-screen div.teads-ui-components-credits a span{font-family:Helvetica,Arial,sans-serif!important;font-size:9px!important;box-shadow:none!important;letter-spacing:.3px!important}div.teads-inboard.xs-screen div.teads-ui-components-credits,div.teads-inread.sm-screen div.teads-ui-components-credits{font-size:9px!important;letter-spacing:.3px!important}div.teads-expand .teads-ui-components-credits a,div.teads-inboard .teads-ui-components-credits a,div.teads-inread .teads-ui-components-credits a{color:#aaa!important;text-decoration:none!important;font-weight:300!important;border:none!important;letter-spacing:.3px!important;background:none!important;padding:0!important}div.teads-expand.sm-screen .teads-ui-components-credits a,div.teads-expand.xs-screen .teads-ui-components-credits a,div.teads-inboard.sm-screen .teads-ui-components-credits a,div.teads-inboard.xs-screen .teads-ui-components-credits a,div.teads-inread.sm-screen .teads-ui-components-credits a,div.teads-inread.xs-screen .teads-ui-components-credits a{font-size:9px!important;letter-spacing:.3px!important}div.teads-expand div.teads-ui-components-credits span.teads-ui-components-credits-colored,div.teads-inboard div.teads-ui-components-credits span.teads-ui-components-credits-colored,div.teads-inread div.teads-ui-components-credits span.teads-ui-components-credits-colored{color:#79bbe9!important}div.teads-inboard div.teads-ui-components-credits a:after,div.teads-inboard div.teads-ui-components-credits a:before,div.teads-inboard div.teads-ui-components-credits span:after,div.teads-inboard div.teads-ui-components-credits span:before,div.teads-inread div.teads-ui-components-credits a:after,div.teads-inread div.teads-ui-components-credits a:before,div.teads-inread div.teads-ui-components-credits span:after,div.teads-inread div.teads-ui-components-credits span:before{display:none!important}",""])},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,"div.teads-expand div.teads-ui-components-label,div.teads-inboard div.teads-ui-components-label,div.teads-inread div.teads-ui-components-label{font-family:Helvetica,Arial,sans-serif!important;font-size:11.5px!important;color:#aaa;text-align:center!important;text-transform:uppercase!important;height:21px!important;line-height:21px!important;letter-spacing:.3px!important;font-weight:300!important}div.teads-inboard div.teads-ui-components-label:after,div.teads-inboard div.teads-ui-components-label:before,div.teads-inread div.teads-ui-components-label:after,div.teads-inread div.teads-ui-components-label:before{display:none!important}div.teads-inboard.sm-screen div.teads-ui-components-label,div.teads-inboard.xs-screen div.teads-ui-components-label,div.teads-inread.sm-screen div.teads-ui-components-label,div.teads-inread.xs-screen div.teads-ui-components-label{font-size:10px!important}",""])},function(t,e,n){var i=n(276);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,'.teads-expand .teads-ui-components-adchoices,.teads-inread .teads-ui-components-adchoices{color:#000;font-family:arial;font-size:11px;cursor:pointer;position:absolute;top:3px;right:5px;width:15px;height:15px;line-height:15px;padding:1px;background:url("data:image/svg+xml;base64,PHN2Zw0KICB2ZXJzaW9uPSIxLjEiDQogIGJhc2VQcm9maWxlPSJmdWxsIg0KICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8c3R5bGU+DQogICAgLyogPCFbQ0RBVEFbICovDQogICAgLmFkY2hvaWNlcyB7DQogICAgICB0ZXh0LXJlbmRlcmluZzogZ2VvbWV0cmljUHJlY2lzaW9uOw0KICAgICAgZmlsbC1vcGFjaXR5OiAxLjA7DQogICAgICBmaWxsOiAjMDBhZWNkOw0KICAgICAgc3Ryb2tlOiBub25lOw0KICAgIH0NCiAgICAvKiBdXT4gKi8NCiAgPC9zdHlsZT4NCiAgPHN2ZyBjbGFzcz0iYWRjaG9pY2VzIiB4PSIwcHgiPg0KICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSIwLjY3Ij48L2NpcmNsZT4NCiAgICA8cGF0aCBkPSJNNC4yLDExLjNRMy4zLDExLjgsMy4zLDEwLjc1TDMuMyw0LjFRMy4zLDMuMSw0LjMsMy41TDEwLjQsNy4wUTEyLjAsNy41LDEwLjQsOC4wTDYuNjUsMTAuMEw2LjY1LDcuNzVhMC42NSwwLjY1LDAsMSwwLC0xLjMsMEw1LjM1LDEwLjc1YTAuOSwwLjksMCwwLDAsMS4zLDAuOEwxMi43LDguMlExMy43LDcuNSwxMi43LDYuN0wzLjMsMS42UTIuMiwxLjMsMS44LDIuNUwxLjgsMTIuNVEyLjIsMTMuOSwzLjMsMTMuM0w0LjgsMTIuNUEwLjMsMC4zLDAsMSwwLDQuMiwxMS4zWiI+PC9wYXRoPg0KICA8L3N2Zz4NCjwvc3ZnPg0K");background-size:15px 15px;background-repeat:no-repeat;background-position:100%;z-index:1}.teads-expand .teads-ui-components-adchoices.expanded:first-child,.teads-inread .teads-ui-components-adchoices.expanded:first-child{border-bottom-left-radius:8px;padding:1px 17px 1px 4px;background-color:hsla(0,0%,100%,.8)}.teads-expand .teads-ui-components-adchoices.expanded,.teads-inread .teads-ui-components-adchoices.expanded{width:auto;padding-right:19px}.teads-inread .teads-ui-components-adchoices span{display:none}.teads-expand .teads-ui-components-adchoices.expanded span,.teads-inread .teads-ui-components-adchoices.expanded span{display:inline}',""])},function(t,e,n){t.exports="/** This will include vpaid-ui assets */ "+n(192)+" "+n(191)+" .teads-expand { position: relative; } .teads-expand-closebutton { padding: 5px; text-align:center; color:white; cursor:pointer; position:absolute; z-index: 2147483646; top:5px; right:5px; width: 15px; height: 15px; padding: 0px; } .teads-expand-iframe { width: 100%; height: 100%; } .teads-expand-iframe iframe { border: 0px; width: 100%; height: 100%; background: #FFFFFF url({{assetsPath}}/default/img/loading.gif) no-repeat center center } .teads-expand-overlay { position: fixed; opacity: 0; background: #000000; border: 0; top: 0; left: 0; z-index: 2147483646; overflow: hidden; width: 100%; height: 100%; transition-property: opacity; -webkit-transition-property: opacity; -moz-transition-property: opacity; -o-transition-property: opacity; -ms-transition-property: opacity; transition-duration: {{transitionDuration}}ms; -webkit-transition-duration: {{transitionDuration}}ms; -moz-transition-duration: {{transitionDuration}}ms; -o-transition-duration: {{transitionDuration}}ms; -ms-transition-duration: {{transitionDuration}}ms; } .teads-expand-overlay.opened { opacity: 0.6 } .teads-expand-container.opened { opacity: 1 } .teads-expand-container { opacity: 0; position: fixed; background: #FFFFFF; border: 0; left: 0px; top: 0px; z-index: 2147483647; transition-property: opacity width height left top; -webkit-transition-property: opacity width height left top; -moz-transition-property: opacity width height left top; -o-transition-property: opacity width height left top; -ms-transition-property: opacity width height left top; transition-duration: {{transitionDuration}}ms; -webkit-transition-duration: {{transitionDuration}}ms; -moz-transition-duration: {{transitionDuration}}ms; -o-transition-duration: {{transitionDuration}}ms; -ms-transition-duration: {{transitionDuration}}ms; } body.noscroll { overflow:hidden; } "},function(t,e,n){var i=n(279);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,".teads-inread .teads-ui-components-hpl{position:absolute;left:-1000px;display:none;z-index:-100}",""])},function(t,e,n){var i=n(281);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,'div.teads-display-absolute{position:absolute!important;overflow:hidden!important;z-index:99!important;pointer-events:none!important;background-repeat:repeat-y;background-attachment:fixed}.teads-display-fixed{position:fixed!important;background-repeat:repeat-y!important}.teads-display-clickzone{display:block!important;position:absolute!important;top:0!important;width:100%!important;height:100%!important}.teads-video-scroller{position:fixed;top:50%;transform:translateY(-50%)}div.teads-display-format{position:sticky;-webkit-position:sticky}div.teads-display-format .icon-close{background-size:650px 40px!important;background-image:url("{{assetsPath}}/default/player-sprite.svg")!important}div.teads-display-format .icon-close,div.teads-display-format .sm-screen .icon-close,div.teads-display-format .xs-screen .icon-close{width:11px!important;height:11px!important;background-position:-80px 0!important}div.teads-display-format .teads-ui-component-closebutton svg{display:none!important}div.teads-ui-component-closebutton .components-countdown{display:none!important;position:absolute!important;left:2px!important;bottom:20px!important}div.teads-display-format .teads-ui-component-closebutton .components-countdown .countdown-circle>li{color:#fff!important}div.teads-display-format .teads-ui-component-closebutton .components-countdown .show,div.teads-display-format .teads-ui-component-closebutton .show{display:block!important}div.teads-display-format .teads-ui-component-closebutton .show .close-button{opacity:.8!important}div.teads-display-format .teads-ui-component-closebutton .show:hover .close-button.show{opacity:1!important}div.teads-display-format .sm-screen .teads-ui-component-closebutton .closebutton,div.teads-display-format .xs-screen .teads-ui-component-closebutton .closebutton{padding:10px 10px 15px 15px!important}',""])},function(t,e){t.exports='<div class="teads-expand"> <div class="teads-expand-label"></div> <div class="teads-expand-iframe"> <iframe src="{{iframeurl}}"></iframe> </div> <div class="teads-expand-closebutton"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 15 15" style="enable-background:new 0 0 15 15;" xml:space="preserve"> <g> <path style="fill:#000000;" d="M8.883,7.5l5.83-5.83c0.382-0.382,0.382-1.001,0-1.383c-0.382-0.382-1.002-0.382-1.383,0L7.5,6.117 l-5.83-5.83c-0.382-0.382-1.002-0.382-1.383,0c-0.382,0.382-0.382,1.001,0,1.383l5.83,5.83l-5.83,5.83 c-0.382,0.382-0.382,1.001,0,1.383C0.478,14.904,0.728,15,0.978,15c0.25,0,0.501-0.096,0.692-0.287l5.83-5.83l5.83,5.83 C13.521,14.904,13.771,15,14.022,15c0.25,0,0.501-0.096,0.692-0.287c0.382-0.382,0.382-1.001,0-1.383L8.883,7.5z"/> </g> </svg> </div> </div> '},function(t,e,n){var i=n(284);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,".teads-countdown,.teads-countdown-container{width:100%;height:100%}.teads-countdown-number{font-family:Helvetica,Arial,sans-serif!important;font-weight:300;font-size:30px}.teads-countdown-circle-background{opacity:.8;stroke-width:1px}.teads-countdown-circle{position:absolute;width:100px;height:100px}.teads-countdown-fsicon{width:20px;height:20px;position:absolute;top:10px;right:10px}.teads-countdown-background{background-color:#000;opacity:.6;width:100%;height:100%}.teads-countdown-clickzone{position:absolute;top:0;left:0;width:100%;height:100%}",""])},function(t,e){t.exports='<div class="teads-countdown"> <div class="teads-countdown-background"></div> <div class="teads-countdown-circle" style="width:100px;height:100px"> <svg viewbox="0 0 100 100" shape-rendering="optimizeQuality"> <path class="teads-countdown-circle-background" fill="none" stroke-linecap="round" stroke-width="2" stroke="#CCC" stroke-dasharray="250" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"> </path> <path class="teads-countdown-circle-main" fill="none" stroke-linecap="round" stroke-width="2" stroke="#fff" stroke-dasharray="250" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"></path> <text class="teads-countdown-number" x="50" y="53" text-anchor="middle" dy="7" font-size="20" fill="#FFFFFF">3</text> </svg> </div> <div class="teads-countdown-fsicon"> <svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"> <path fill="#FFFFFF" d="m1.09374,7.62501c-0.32761,0 -0.59374,0.26613 -0.59374,0.59374l0,5.93753c0,0.00114 0,0.00114 0,0.00231c0,0.07712 0.01536,0.15308 0.04523,0.22438c0.02842,0.07016 0.07103,0.13279 0.12352,0.18614c0.00231,0.0029 0.00231,0.00523 0.00465,0.00754c0.00117,0.00117 0.00348,0.00117 0.00465,0.00348c0.05363,0.05218 0.1177,0.09627 0.18787,0.12466c0.07364,0.03014 0.15077,0.04523 0.22786,0.04523l5.93753,0c0.32761,0 0.59374,-0.26613 0.59374,-0.59374c0,-0.32761 -0.26613,-0.59377 -0.59374,-0.59377l-4.5042,0l11.03542,-11.03542l0,4.50418c0,0.32761 0.26613,0.59374 0.59377,0.59374c0.32761,0 0.59374,-0.26613 0.59374,-0.59374l0,-5.93753l0,0c0,-0.07712 -0.01508,-0.15425 -0.0464,-0.22672c-0.06028,-0.14495 -0.17567,-0.26151 -0.32065,-0.32065c-0.07248,-0.031 -0.14957,-0.04637 -0.22669,-0.04637l-5.93753,0c-0.32761,0 -0.59374,0.26613 -0.59374,0.59374c0,0.32761 0.26613,0.59377 0.59374,0.59377l4.50418,0l-11.03542,11.03542l0,-4.50418c0,-0.32761 -0.26616,-0.59374 -0.59377,-0.59374z"/> </svg> </div> </div> '},function(t,e,n){var i=n(287);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,'.teads-inread .teads-ui-components-smart-header{margin-bottom:2px!important;height:21px}.teads-inread .teads-ui-components-smart-header .smart-header-content{position:absolute!important;right:0!important;background-color:#434343!important;padding:1px 6px 0}.smart-header-content .close-button-smart .icon-close{transition:.1s;-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;-ms-transition:.1s}.smart-header-content .adChoices-button-smart,.smart-header-content .close-button-smart,.smart-header-content .sound-button-smart{display:inline-block;cursor:pointer}.smart-header-content .adChoices-button-smart,.smart-header-content .close-button-smart{margin-right:5px}.smart-header-content .close-button-smart .icon-close{width:11px;height:11px;background-position:-80px 0;background-image:url("{{assetsPath}}/default/player-sprite.svg")}.smart-header-content .adChoices-button-smart{width:13px;height:13px;background:url("data:image/svg+xml;base64,PHN2Zw0KICB2ZXJzaW9uPSIxLjEiDQogIGJhc2VQcm9maWxlPSJmdWxsIg0KICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8c3R5bGU+DQogICAgLyogPCFbQ0RBVEFbICovDQogICAgLmFkY2hvaWNlcyB7DQogICAgICB0ZXh0LXJlbmRlcmluZzogZ2VvbWV0cmljUHJlY2lzaW9uOw0KICAgICAgZmlsbC1vcGFjaXR5OiAxLjA7DQogICAgICBmaWxsOiAjRkZGOw0KICAgICAgc3Ryb2tlOiBub25lOw0KICAgIH0NCiAgICAvKiBdXT4gKi8NCiAgPC9zdHlsZT4NCiAgPHN2ZyBjbGFzcz0iYWRjaG9pY2VzIiB4PSIwcHgiPg0KICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSIwLjY3Ij48L2NpcmNsZT4NCiAgICA8cGF0aCBkPSJNNC4yLDExLjNRMy4zLDExLjgsMy4zLDEwLjc1TDMuMyw0LjFRMy4zLDMuMSw0LjMsMy41TDEwLjQsNy4wUTEyLjAsNy41LDEwLjQsOC4wTDYuNjUsMTAuMEw2LjY1LDcuNzVhMC42NSwwLjY1LDAsMSwwLC0xLjMsMEw1LjM1LDEwLjc1YTAuOSwwLjksMCwwLDAsMS4zLDAuOEwxMi43LDguMlExMy43LDcuNSwxMi43LDYuN0wzLjMsMS42UTIuMiwxLjMsMS44LDIuNUwxLjgsMTIuNVEyLjIsMTMuOSwzLjMsMTMuM0w0LjgsMTIuNUEwLjMsMC4zLDAsMSwwLDQuMiwxMS4zWiI+PC9wYXRoPg0KICA8L3N2Zz4NCjwvc3ZnPg==")}.icon-muteoff{background-position:-390px 0}.icon-muteon{background-position:-445px 0}.icon-muteoff,.icon-muteon{width:16px;height:11px;background-image:url("{{assetsPath}}/default/player-sprite.svg")}',""])},function(t,e){t.exports='<div class="smart-header-content"> <div class="close-button-smart"></div> <div class="adChoices-button-smart"></div> <div class="sound-button-smart"> <div class="icon-muteon"></div> </div> </div> '},function(t,e,n){n.d(e,"a",function(){return l});var i=n(0),r=n(14),o=n(1),a=n(10),s=n(127),c=n(114),u=n(162),d=n(63),l=function(t){return function(e,n,l){var p=n.baseUrl,h=n.referer,f=n.queryParameters;return void 0===l&&(l=o.a),Object(a.b)(Object(d.a)({baseUrl:p,queryParameters:Object(i.a)({referer:h,action:e,fv:s.c,ts:Object(r.a)().toString()},f)},l),function(n){return u.a.track(e,{trackStrategy:s.b,trackingUrl:n},Object(c.b)(t))},Object(c.j)(t))}}},function(t,e,n){var i=n(0),r=n(67),o=n(46),a=n(14),s=n(2),c=n(4),u=n(10),d=n(3),l=n(199),p=new c.a("tracker-v2 thirdPartyVastTracker"),h=function(t,e,n,o,c,u){void 0===u&&(u=s.identity);var h=o.trackStrategy,f=o.macros,g=o.timestamp,m=void 0===g?Object(a.a)():g;return e(t,c)?u(Object(d.reduce)(n,function(e,n){var o=Object(r.b)(f)(n);return h([o]),Object(i.a)(Object(i.a)({},e),{trackedEvents:Object(i.g)(e.trackedEvents,[{event:t,time:m,trackingUrl:o}])})},c)):(p.debug("Could not track third-party VAST event "+t+", tracked events: ",c.trackedEvents,"multiple-allowed events: ",l.a),c)},f={track:function(t,e,n){var i,r;return Object(u.b)(h(t,f.canTrack,null!==(r=null===(i=Object(d.find)(n.trackings,function(e){return e.event===t}))||void 0===i?void 0:i.trackingUrls)&&void 0!==r?r:[],e,n),Object(l.c)(t,e,h))},trackProgress:function(t,e,n){return Object(u.b)(n,Object(l.d)(t,e,f.canTrack,h),function(n){var r,a;return h(o.a.Progress,function(e,n){return f.canTrack(e,n)&&!Object(d.includes)(n.trackedProgressOffsets,t)},null!==(a=null===(r=Object(d.find)(n.progressTrackings,function(e){return e.offset===t}))||void 0===r?void 0:r.trackingUrls)&&void 0!==a?a:[],e,n,function(e){return Object(i.a)(Object(i.a)({},e),{trackedProgressOffsets:Object(i.g)(e.trackedProgressOffsets,[t])})})},Object(l.b)(t,e,h))},trackVastError:function(t,e,n){var a,s,c=Object(i.a)(Object(i.a)({},e),{macros:Object(i.g)(e.macros,[Object(r.i)("[ERRORCODE]",t.toString())])});return Object(u.b)(h(o.a.Error,f.canTrack,null!==(s=null===(a=Object(d.find)(n.trackings,function(t){return t.event===o.a.Error}))||void 0===a?void 0:a.trackingUrls)&&void 0!==s?s:[],c,n),Object(l.c)(o.a.Error,c,h))},canTrack:function(t,e){var n=e.trackedEvents;return!Object(d.some)(n,function(e){return e.event===t})||Object(d.isMemberOf)(l.a)(t)}};e.a=f},function(t,e,n){var i=n(0),r=n(3),o=n(14),a=n(10),s=n(4),c=n(16),u=n(2),d=n(67),l=n(46),p=n(63),h=n(1),f=n(199),g=new s.a("tracker-v2 teadsVastTracker"),m=function(t,e,n){if(Object(c.n)(n,"revenue")&&Object(c.n)(n,"gid")){if((Object(c.o)(n,"analyticsOnly","false")&&e.alreadyBilledAdvertiser.whenAnalyticsOnlyFalse||Object(c.o)(n,"analyticsOnly","true")&&e.alreadyBilledAdvertiser.whenAnalyticsOnlyTrue)&&n.indexOf("?dr=0")<0&&n.indexOf("&dr=0")<0)return[e,Object(p.h)(n+"&dr=1")];var i=e.alreadyBilledAdvertiser,r=i.whenAnalyticsOnlyFalse,o=i.whenAnalyticsOnlyTrue;return Object(c.o)(n,"analyticsOnly","false")?r=!0:Object(c.o)(n,"analyticsOnly","true")&&(o=!0),[b(e,{whenAnalyticsOnlyFalse:r,whenAnalyticsOnlyTrue:o}),n]}return[e,n]},b=function(t,e){return Object(i.a)(Object(i.a)({},t),{alreadyBilledAdvertiser:e,trackBillable:!0})},v=function(t){return function(e){return Object(p.h)(Object(c.a)(e,"fv",encodeURIComponent(t)))}},y=function(t){return function(e){return Object(p.h)(Object(c.a)(e,"referer",encodeURIComponent(t)))}},A=function(t){return function(e){return Object(p.h)(Object(c.a)(e,"slot",encodeURIComponent(t)))}},w=function(t){return function(e){return Object(a.b)(t,h.d.fold(function(){return e},function(t){return Object(p.h)(Object(c.a)(e,"studio_cid",encodeURIComponent(t)))}))}},O=function(t){return function(e){return t.match({some:function(t){return Object(p.h)(Object(c.a)(e,"error_cause",encodeURIComponent(t)))},none:function(){return e}})}},E=function(t,e,n,s,c,l){void 0===l&&(l=u.identity);var p=s.trackStrategy,h=s.formatVersion,b=s.referer,O=s.timestamp,E=void 0===O?Object(o.a)():O,C=s.macros,I=s.slotType;return e(t,c)?Object(a.b)(n,r.cArray.foldLeft(c,function(e,n){var r=Object(i.e)(m(0,e,n),2),o=r[0],s=r[1],c=Object(a.a)(Object(d.b)(C),A(I),v(h),w(e.studioCreativeId),y(b))(s);return p([c]),Object(i.a)(Object(i.a)({},o),{trackedEvents:Object(i.g)(o.trackedEvents,[{event:t,time:E,trackingUrl:c}])})}),l):(g.debug("Could not track VAST event "+t+", tracked events: ",c.trackedEvents,"multiple-allowed events: ",f.a),c)},C={track:function(t,e,n){var i,o;return Object(a.b)(E(t,C.canTrack,null!==(o=null===(i=Object(r.find)(n.trackings,function(e){return e.event===t}))||void 0===i?void 0:i.trackingUrls)&&void 0!==o?o:[],e,n),Object(f.c)(t,e,E))},trackProgress:function(t,e,n){return Object(a.b)(n,Object(f.d)(t,e,C.canTrack,E),function(n){var o,a;return E(l.a.Progress,function(e,n){return C.canTrack(e,n)&&!Object(r.includes)(n.trackedProgressOffsets,t)},null!==(a=null===(o=Object(r.find)(n.progressTrackings,function(e){return e.offset===t}))||void 0===o?void 0:o.trackingUrls)&&void 0!==a?a:[],e,n,function(e){return Object(i.a)(Object(i.a)({},e),{trackedProgressOffsets:Object(i.g)(e.trackedProgressOffsets,[t])})})},Object(f.b)(t,e,E))},trackVastError:function(t,e,n){var o,s,c=Object(i.a)(Object(i.a)({},e),{macros:Object(i.g)(e.macros,[Object(d.i)("[ERRORCODE]",t.toString())])});return Object(a.b)(E(l.a.Error,C.canTrack,Object(a.b)(null!==(s=null===(o=Object(r.find)(n.trackings,function(t){return t.event===l.a.Error}))||void 0===o?void 0:o.trackingUrls)&&void 0!==s?s:[],r.cArray.map(O(e.errorCause))),c,n),Object(f.c)(l.a.Error,c,E))},canTrack:function(t,e){var n=e.trackedEvents;return(t===l.a.Pause?Object(r.some)(n,function(t){return t.event===l.a.Start}):t!==l.a.Resume||Object(r.some)(n,function(t){return t.event===l.a.Pause}))&&(!Object(r.some)(n,function(e){return e.event===t})||Object(r.isMemberOf)(f.a)(t))}};e.a=C},function(t,e,n){function i(t){return function(e,n){return Object(d.b)([Object(f.a)(t),Object(f.a)(t)],l.a.sndMap(function(i){return Object(d.b)(g.b.track(e,y(n),i),Object(f.i)(t))}))}}function r(t){return function(e,n){return Object(d.b)([Object(f.c)(t),Object(f.c)(t)],l.a.sndMap(function(i){return Object(d.b)(b.a.track(e,y(n),i),Object(f.k)(t))}))}}function o(t){return function(e,n,i){return void 0===i&&(i=u.a),Object(d.b)([[Object(f.a)(t),Object(f.b)(t)],[Object(f.a)(t),Object(f.b)(t)]],l.a.sndMap(function(r){var o=Object(s.e)(r,2),a=o[0],c=o[1];return Object(d.b)(m.c(e,{trackStrategy:h.b},y(n),i)(a,c),l.a.bimap(Object(f.i)(t),Object(f.j)(t)))}),l.a.zip)}}function a(t){return function(e,n,i){return void 0===i&&(i=u.a),Object(d.b)([[Object(f.c)(t),Object(f.b)(t)],[Object(f.c)(t),Object(f.b)(t)]],l.a.sndMap(function(r){var o=Object(s.e)(r,2),a=o[0],c=o[1];return Object(d.b)(m.g(e,{trackStrategy:h.b},y(n),i)(a,c),l.a.bimap(Object(f.k)(t),Object(f.j)(t)))}),l.a.zip)}}e.d=i,e.j=r,e.e=o,e.k=a,n.d(e,"f",function(){return A}),n.d(e,"h",function(){return w}),n.d(e,"g",function(){return O}),n.d(e,"i",function(){return E}),n.d(e,"l",function(){return C}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return T}),n.d(e,"a",function(){return j});var s=n(0),c=n(3),u=n(1),d=n(10),l=n(86),p=n(2),h=n(127),f=n(114),g=n(163),m=n(162),b=n(193),v=n(293),y=function(t){return Object(s.a)({formatVersion:h.c,trackStrategy:h.d},t)},A=function(t){return function(e,n){return Object(d.b)([Object(f.a)(t),Object(f.a)(t)],l.a.sndMap(function(i){return Object(d.b)(g.b.trackFormatError(e,y(n),i),Object(f.i)(t))}))}},w=function(t){return function(e,n){return Object(d.b)([Object(f.c)(t),Object(f.c)(t)],l.a.sndMap(function(i){return Object(d.b)(b.a.trackFormatError(e,y(n),i),Object(f.k)(t))}))}},O=function(t){return function(e,n,i){return Object(d.b)([[Object(f.a)(t),Object(f.b)(t)],[Object(f.a)(t),Object(f.b)(t)]],l.a.sndMap(function(r){var o=Object(s.e)(r,2),a=o[0],c=o[1];return Object(d.b)(m.b(e,{trackStrategy:h.b},y(n),i)(a,c),l.a.bimap(Object(f.i)(t),Object(f.j)(t)))}),l.a.zip)}},E=function(t){return function(e,n,i,r){return Object(d.b)([[Object(f.c)(t),Object(f.b)(t)],[Object(f.c)(t),Object(f.b)(t)]],l.a.sndMap(function(e){var o=Object(s.e)(e,2),a=o[0],c=o[1];return Object(d.b)(m.f(n,{trackStrategy:h.b},y(i),r)(a,c),l.a.bimap(Object(f.k)(t),Object(f.j)(t)))}),l.a.zip)}},C=function(t){return function(e,n){return Object(d.b)(Object(f.d)(t),function(t){return v.a.track(e,Object(s.a)(Object(s.a)({},n),{trackStrategy:h.d}),t)},Object(f.l)(t))}},I=Object(d.a)(Object(p.prop)("trackedEvents"),c.cArray.map(Object(p.prop)("event"))),S=function(t){var e=Object(s.e)(t,2),n=e[0],i=e[1];return Object(c.difference)(I(n))(I(i))},T=l.a.bimap(S,S),j=function(t){return function(e){var n=e.event,i=e.trackingUrl;return Object(d.b)(Object(f.a)(t),function(t){return Object(s.a)(Object(s.a)({},t),{customTrackings:Object(s.g)(t.customTrackings,[{event:n,trackingUrls:[i]}])})},Object(f.i)(t))}}},function(t,e,n){var i=n(0),r=n(14),o=n(4),a=n(128),s=n(10),c=n(16),u=n(67),d=new o.a("tracker-v2 thirdPartyTracker"),l=function(t,e){var n=t.gdprStatus,i=t.gdprConsent;switch(n){case 0:return Object(s.b)(Object(c.a)(e,"gdpr","0"),a.thirdPartyFormatUrl);case 11:case 12:return Object(s.b)(Object(c.a)(e,"gdpr","1"),function(t){return""!==i?Object(c.a)(t,"gdpr_consent",i):t},a.thirdPartyFormatUrl);default:return e}},p={track:function(t,e,n){var o=e.trackStrategy,a=e.timestamp,c=void 0===a?Object(r.a)():a,h=e.trackingUrl,f=e.macros;if(!p.canTrack(t,n))return d.debug("Could not track third-party format event "+t+", tracked events: ",n.trackedEvents),n;var g=Object(s.b)(h,Object(u.b)(f),function(n){return"comscore"===t?l(e,n):n});return o([g]),Object(i.a)(Object(i.a)({},n),{trackedEvents:Object(i.g)(n.trackedEvents,[{event:t,time:c,trackingUrl:g}])})},canTrack:function(t,e){return!0}};e.a=p},function(t,e,n){n.d(e,"b",function(){return g}),n.d(e,"a",function(){return m}),n.d(e,"e",function(){return O}),n.d(e,"g",function(){return S}),n.d(e,"n",function(){return T}),n.d(e,"o",function(){return j}),n.d(e,"l",function(){return k}),n.d(e,"m",function(){return P}),n.d(e,"h",function(){return L}),n.d(e,"k",function(){return V}),n.d(e,"i",function(){return x}),n.d(e,"j",function(){return _}),n.d(e,"f",function(){return N}),n.d(e,"c",function(){return D}),n.d(e,"d",function(){return R}),n.d(e,"p",function(){return M});var i=n(0),r=n(3),o=n(1),a=n(10),s=n(86),c=n(16),u=n(2),d=n(127),l=n(114),p=n(46),h=n(162),f=n(198),g=function(t){return function(e){var n=e.event,r=e.trackingUrl;return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],s.a.bimap(function(t){return b(r)?Object(i.a)(Object(i.a)({},t),{customTrackings:Object(i.g)(t.customTrackings,[{event:n,trackingUrls:[r]}])}):t},function(t){return v(r)?Object(i.a)(Object(i.a)({},t),{customTrackings:Object(i.g)(t.customTrackings,[{event:n,trackingUrls:[r]}])}):t}),s.a.bimap(Object(l.n)(t),Object(l.m)(t)))}},m=function(t){return function(e){var n=e.offset,r=e.trackingUrl;return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],s.a.bimap(function(t){return b(r)?Object(i.a)(Object(i.a)({},t),{customProgressTrackings:Object(i.g)(t.customProgressTrackings,[{offset:n,trackingUrls:[r]}])}):t},function(t){return v(r)?Object(i.a)(Object(i.a)({},t),{customProgressTrackings:Object(i.g)(t.customProgressTrackings,[{offset:n,trackingUrls:[r]}])}):t}),s.a.bimap(Object(l.n)(t),Object(l.m)(t)))}},b=function(t){return Object(c.q)(t)||Object(c.p)(Object(c.r)(t).hostname)},v=function(t){return!b(t)},y=function(t){return function(e,n){return Object(a.b)(e,r.cArray.map(function(t){var e=t.url,i=t.data;return Object(a.b)(e,o.b.fromNullable,o.d.filter(n),o.d.map(function(t){return{url:t,offset:i}}))}),o.e,Object(r.groupByMap)(Object(u.prop)("offset"),Object(u.prop)("url")),function(e){return Object(a.b)(Object.keys(e),r.cArray.map(function(t){return parseInt(t,10)}),r.cArray.foldLeft(t,function(t,n){return Object(a.b)(e[n],function(t){return{offset:n,trackingUrls:t}},I(t))}))})}},A=function(t){return function(e,n,i){return Object(a.b)(e,r.cArray.map(Object(a.a)(Object(u.prop)("url"),o.b.fromNullable,o.d.filter(function(t){return""!==t}),o.d.filter(n))),o.e,function(t){return{event:i,trackingUrls:t}},C(t))}},w=function(t,e){return function(n){return Object(a.b)(Object.keys(t),r.cArray.filter(function(e){return Object(r.isNotEmpty)(t[e])}),r.cArray.filter(Object(r.isMemberOf)(p.b)),r.cArray.foldLeft(n,function(n,i){return i===p.a.Progress?y(n)(t[i],e):A(n)(t[i],e,i)}))}},O=function(t){return function(e){return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],E(e),s.a.bimap(Object(l.n)(t),Object(l.m)(t)))}},E=function(t){return function(e){return Object(a.b)(e,s.a.bimap(w(t,b),w(t,v)))}},C=function(t){return function(e){return Object(i.a)(Object(i.a)({},t),{trackings:Object(i.g)(t.trackings,[e])})}},I=function(t){return function(e){return Object(i.a)(Object(i.a)({},t),{progressTrackings:Object(i.g)(t.progressTrackings,[e])})}},S=function(t){return function(e){return Object(a.b)(Object(l.f)(t),function(t){return Object(i.a)(Object(i.a)({},t),{studioCreativeId:o.b.fromPredicate(e,u.isString)})},Object(l.n)(t))}},T=function(t){return function(e,n){return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],function(r){var o=Object(i.e)(r,2),c=o[0],u=o[1];return Object(a.b)(f.d(e,Object(i.a)(Object(i.a)({},n),{trackStrategy:d.d,formatVersion:d.c}))(c,u),function(t){var e=Object(i.e)(t,2),n=e[0],r=e[1];return[[c,n],[u,r]]},s.a.bimap(s.a.sndMap(Object(l.n)(t)),s.a.sndMap(Object(l.m)(t))))})}},j=function(t){return function(e,n,r){return void 0===r&&(r=o.a),Object(a.b)([Object(l.f)(t),Object(l.e)(t),Object(l.b)(t)],function(o){var c=Object(i.e)(o,3),u=c[0],p=c[1],f=c[2];return Object(a.b)(h.i(e,{trackStrategy:d.b},Object(i.a)(Object(i.a)({},n),{trackStrategy:d.d,formatVersion:d.c}),r)(u,p,f),function(t){var e=Object(i.e)(t,3),n=e[0],r=e[1],o=e[2];return[[[u,n],[f,o]],[p,r]]},s.a.bimap(Object(a.a)(s.a.fstMap(s.a.sndMap(Object(l.n)(t))),s.a.sndMap(s.a.sndMap(Object(l.j)(t)))),s.a.sndMap(Object(l.m)(t))))})}},k=function(t){return function(e,n){return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],function(r){var o=Object(i.e)(r,2),c=o[0],u=o[1];return Object(a.b)(f.c(e,Object(i.a)(Object(i.a)({},n),{trackStrategy:d.d,formatVersion:d.c}))(c,u),function(t){var e=Object(i.e)(t,2),n=e[0],r=e[1];return[[c,n],[u,r]]},s.a.bimap(s.a.sndMap(Object(l.n)(t)),s.a.sndMap(Object(l.m)(t))))})}},P=function(t){return function(e,n,r){return void 0===r&&(r=o.a),Object(a.b)([Object(l.f)(t),Object(l.e)(t),Object(l.b)(t)],function(o){var c=Object(i.e)(o,3),u=c[0],p=c[1],f=c[2];return Object(a.b)(h.h(e,{trackStrategy:d.b},Object(i.a)(Object(i.a)({},n),{trackStrategy:d.d,formatVersion:d.c}),r)(u,p,f),function(t){var e=Object(i.e)(t,3),n=e[0],r=e[1],o=e[2];return[[[u,n],[f,o]],[p,r]]},s.a.bimap(Object(a.a)(s.a.fstMap(s.a.sndMap(Object(l.n)(t))),s.a.sndMap(s.a.sndMap(Object(l.j)(t)))),s.a.sndMap(Object(l.m)(t))))})}},L=function(t){return function(e,n){return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],function(r){var o=Object(i.e)(r,2),c=o[0],u=o[1];return Object(a.b)(f.a(e,Object(i.a)(Object(i.a)({},n),{trackStrategy:d.d,formatVersion:d.c}))(c,u),function(t){var e=Object(i.e)(t,2),n=e[0],r=e[1];return[[c,n],[u,r]]},s.a.bimap(s.a.sndMap(Object(l.n)(t)),s.a.sndMap(Object(l.m)(t))))})}},V=function(t){return function(e,n,r){return void 0===r&&(r=o.a),Object(a.b)([Object(l.f)(t),Object(l.e)(t),Object(l.b)(t)],function(o){var c=Object(i.e)(o,3),u=c[0],p=c[1],f=c[2];return Object(a.b)(h.d(e,{trackStrategy:d.b},Object(i.a)(Object(i.a)({},n),{trackStrategy:d.d,formatVersion:d.c}),r)(u,p,f),function(t){var e=Object(i.e)(t,3),n=e[0],r=e[1],o=e[2];return[[[u,n],[f,o]],[p,r]]},s.a.bimap(Object(a.a)(s.a.fstMap(s.a.sndMap(Object(l.n)(t))),s.a.sndMap(s.a.sndMap(Object(l.j)(t)))),s.a.sndMap(Object(l.m)(t))))})}},x=function(t){return function(e,n,r){return Object(a.b)([Object(l.f)(t),Object(l.e)(t)],function(o){var c=Object(i.e)(o,2),u=c[0],p=c[1];return Object(a.b)(f.b(e,n,Object(i.a)(Object(i.a)({},r),{trackStrategy:d.d,formatVersion:d.c}))(u,p),function(t){var e=Object(i.e)(t,2),n=e[0],r=e[1];return[[u,n],[p,r]]},s.a.bimap(s.a.sndMap(Object(l.n)(t)),s.a.sndMap(Object(l.m)(t))))})}},_=function(t){return function(e,n,r,c){return void 0===c&&(c=o.a),Object(a.b)([Object(l.f)(t),Object(l.e)(t),Object(l.b)(t)],function(o){var u=Object(i.e)(o,3),p=u[0],f=u[1],g=u[2];return Object(a.b)(h.e(e,n,{trackStrategy:d.b},Object(i.a)(Object(i.a)({},r),{trackStrategy:d.d,formatVersion:d.c}),c)(p,f,g),function(t){var e=Object(i.e)(t,3),n=e[0],r=e[1],o=e[2];return[[[p,n],[g,o]],[f,r]]},s.a.bimap(Object(a.a)(s.a.fstMap(s.a.sndMap(Object(l.n)(t))),s.a.sndMap(s.a.sndMap(Object(l.j)(t)))),s.a.sndMap(Object(l.m)(t))))})}},N=function(t){return Object(a.b)([[Object(l.f)(t),Object(l.f)(t)],[Object(l.e)(t),Object(l.e)(t)]],s.a.bimap(s.a.sndMap(function(e){return Object(a.b)(Object(i.a)(Object(i.a)({},e),{trackedEvents:l.h.trackedEvents,trackedProgressOffsets:l.h.trackedProgressOffsets,alreadyBilledAdvertiser:l.h.alreadyBilledAdvertiser}),Object(l.n)(t))}),s.a.sndMap(function(e){return Object(a.b)(Object(i.a)(Object(i.a)({},e),{trackedEvents:l.g.trackedEvents,trackedProgressOffsets:l.g.trackedProgressOffsets}),Object(l.m)(t))})))},D=function(t){var e=Object(i.e)(t,2),n=e[0];return e[1].trackedEvents.slice(n.trackedEvents.length)},R=s.a.bimap(D,D),M=function(t){return Object(a.b)(t,Object(r.groupBy)(Object(u.prop)("event")),function(t){return Object(a.b)(Object.keys(t),r.cArray.foldLeft([],function(e,n){return Object(i.g)(e,[{event:n,trackingUrls:Object(a.b)(t[n],r.cArray.map(Object(u.prop)("trackingUrl")))}])}))})}},function(t,e,n){var i=n(0),r=n(65),o=n(13),a=n(5),s=n(9),c=n(7),u=n(84),d=n(25),l=function(t){function e(e){var n=t.call(this,"teads-ui-components-adchoices",u.a)||this;return n.getVpaidAd=e,n.innerHTML="<span>AdChoices</span>",n.initElement(),a.isMobile()||(s.addEventListener("mouseover",n.getElement(),Object(o.a)(n.onMouseOver,n)),s.addEventListener("mouseout",n.getElement(),Object(o.a)(n.onMouseOut,n))),s.addEventListener("click",n.getElement(),Object(o.a)(n.onClick,n)),n}return Object(i.c)(e,t),e.prototype.onMouseOver=function(){c.addClass(this.getElement(),"expanded")},e.prototype.onMouseOut=function(){c.removeClass(this.getElement(),"expanded")},e.prototype.onClick=function(){this.getVpaidAd().forEach(function(t){return t.dispatchCustomEvent(d.a.AdChoicesClickRequest)})},e.prototype.isEnabled=function(){return!0},e}(r.a);e.a=l},function(t,e,n){var i=n(0),r=n(65),o=n(84),a=function(t){function e(e){var n=t.call(this,"teads-ui-components-hpl",o.d)||this,i=e.match({some:function(t){return"&auctid="+t},none:function(){return""}});return n.innerHTML='<a href="https://t.teads.tv/track?action=hpl-register'+i+'"></a>',n.initElement(),n}return Object(i.c)(e,t),e.prototype.isEnabled=function(){return!0},e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(65),o=n(84),a=function(t){function e(e){var n=t.call(this,"teads-ui-components-credits",o.b)||this;n.config=e;var i=/\[([^\]]*)\]/g,r=n.config.getText().replace(i,'<span class="teads-ui-components-credits-colored">$1</span>'),a=n.config.getLink()||"https://hp.teads.com/?utm_source=inread&utm_medium=credits&utm_campaign=invented%20by%20teads";return n.innerHTML='<a href="'+a+'" rel="nofollow" target="_blank">'+r+"</a>",n.initElement(),n}return Object(i.c)(e,t),e.prototype.isEnabled=function(){return this.config.isEnabled()},e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(65),o=n(84),a=function(t){function e(e){var n=t.call(this,"teads-ui-components-label",o.e)||this;return n.label=e,n.innerHTML=n.label.getText(),n.initElement(),n}return Object(i.c)(e,t),e.prototype.isEnabled=function(){return this.label.isEnabled()},e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(65),o=n(38),a=n(2),s=function(t){function e(){var e=t.call(this,"close-button icon-close","")||this;return e.WIDTH_WHEN_VISIBLE=11,e.eventListenerManager=new o.a,e.innerHTML="",e.initElement(),e.eventListenerManager.add("click",e.getElement(),function(t){return e.onClick(t)}),e}return Object(i.c)(e,t),e.prototype.isEnabled=function(){return!0},e.prototype.hide=function(){this.element&&this.element.style.setProperty("width","0")},e.prototype.show=function(){this.element&&this.element.style.setProperty("width",this.WIDTH_WHEN_VISIBLE+"px")},e.prototype.onClick=function(t){Object(a.isFunction)(this.onClickAction)&&this.onClickAction()},e}(r.a);e.a=s},function(t,e,n){n.d(e,"a",function(){return i});var i=function(){function t(t){this.components=t}return t.prototype.getComponent=function(t){return this.components.hasOwnProperty(t)?this.components[t]:null},t.prototype.getComponents=function(){return this.components},t.prototype.showComponent=function(t){this.components.hasOwnProperty(t)&&this.components[t].show()},t.prototype.hideComponent=function(t){this.components.hasOwnProperty(t)&&this.components[t].hide()},t.prototype.showAllComponents=function(){for(var t in this.components)this.components.hasOwnProperty(t)&&this.components[t].show()},t.prototype.hideAllComponents=function(){for(var t in this.components)this.components.hasOwnProperty(t)&&this.components[t].hide()},t}()},function(t,e,n){n.d(e,"a",function(){return c});var i=n(38),r=n(3),o=n(8),a=n(5),s=n(9),c=function(){function t(){this.lastUserInteractionSound=0,this.cursorCoords={x:0,y:0},this.currentVolume=0,this.muteCallbacks=[],this.unmuteCallbacks=[],this.eventListenerManager=new i.a}return t.prototype.init=function(t){this.abstractFormat=t,this.vpaidAd=t.getVpaidAd(),this.formatConfig=t.formatConfig,this.formatConfig.soundStart.isMute()?this.hasStarted=!1:this.formatConfig.soundStart.isUnmute()?this.hasStarted=!0:this.formatConfig.soundStart.isCountdown()&&(this.hasStarted=!1)},t.prototype.getVolume=function(){return-1===this.vpaidAd.getAdVolume()?this.currentVolume:this.vpaidAd.getAdVolume()},t.prototype.setVolume=function(t){this.getVolume()!==t&&(this.currentVolume=t,this.vpaidAd.setAdVolume(t))},t.prototype.toggleVolume=function(){if(this.getVolume()>0)this.mute(),this.lastUserInteractionSound=1,r.forEach(this.muteCallbacks,function(t){return t()});else{var t=this.formatConfig.volume.getMain();this.setVolume(t),this.lastUserInteractionSound=2,r.forEach(this.unmuteCallbacks,function(t){return t()})}},t.prototype.userAlreadyInteracted=function(){return 0!==this.lastUserInteractionSound},t.prototype.startAt=function(t){var e=this,n=function(){e.vpaidAd.getAdDuration()-e.vpaidAd.getAdRemainingTime()>=t&&(e.vpaidAd.unsubscribe(n,o.a.AdRemainingTimeChange),e.hasStarted||(e.hasStarted=!0,e.setVolume(e.formatConfig.volume.getMain())))};this.vpaidAd.subscribe(n,o.a.AdRemainingTimeChange)},t.prototype.mute=function(){this.setVolume(0)},t.prototype.isMuted=function(){return 0===this.getVolume()},t.prototype.onAdVideoStart=function(){this.formatConfig.soundStart.isUnmute()?this.setVolume(this.formatConfig.volume.getMain()):this.formatConfig.soundStart.isCountdown()?this.startAt(this.formatConfig.soundStart.getCountdown()):this.setVolume(0)},t.prototype.replay=function(){var t=this,e=Object(s.getBoundingClientRect)(this.abstractFormat.parentContainer);Object(a.isDesktop)()&&(this.cursorCoords={x:Math.floor(e.left+e.width/2),y:Math.floor(e.top+e.height/2)},this.eventListenerManager.add("mousemove",this.abstractFormat.placement.placementConfig.parentWindow.getWindow().document.body,function(e){t.cursorCoords={x:e.clientX,y:e.clientY}}))},t.prototype.startInView=function(){if(!this.userAlreadyInteracted()){this.formatConfig.soundMute.isThreshold()&&this.hasStarted&&(this.formatConfig.soundStart.isCountdown()||this.formatConfig.soundStart.isUnmute())&&this.setVolume(this.formatConfig.volume.getMain())}},t.prototype.endInView=function(){!this.userAlreadyInteracted()&&this.formatConfig.soundMute.isThreshold()&&this.hasStarted&&this.setVolume(0)},t.prototype.addMuteCallback=function(t){r.indexOf(this.muteCallbacks,t)<0&&this.muteCallbacks.push(t)},t.prototype.addUnmuteCallback=function(t){r.indexOf(this.unmuteCallbacks,t)<0&&this.unmuteCallbacks.push(t)},t}()},function(t,e,n){n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s});var i=function(t){var e=t.sliderIsEnabled,n=t.orientationIsLandscape,i=t.parentContainerIsInView;return!!e||n&&!i},r=function(t){return t},o=function(t,e){return t>e},a=function(t,e){return t<=e},s=function(t){var e=t.deviceIsDesktop,n=t.sliderIsEnabled,i=t.placementIsSticky,r=t.orientationIsLandscape;return e||n||!i&&r?e||!e&&r||n?"corner":void 0:"top"}},function(t,e,n){n.d(e,"a",function(){return c});var i=n(0),r=n(188),o=n(204),a=n(205),s=n(206),c=function(t){function e(e,n,i,r,o,a,s){var c=t.call(this,e,n,i,r,o,a,s)||this;return c.placement=e,c.config=n,c.player=i,c.markId=r,c}return Object(i.c)(e,t),e.prototype.load=function(e,n){t.prototype.load.call(this,e,n)},e.prototype.getTemplateName=function(){return"inread"},e.prototype.onAdLoaded=function(){t.prototype.onAdLoaded.call(this),this.smartPositionHelper.enableBehavior(),this.smartPositionHelper.moveToCornerPosition();var e=this.smartPositionHelper.getOptimalDimension(this.parentContainer,"corner");this.parentContainer.style.setProperty("position","fixed"),this.parentContainer.style.setProperty("overflow","visible"),this.parentContainer.style.setProperty("width",e.width+"px"),this.parentContainer.style.setProperty("height",e.height+"px"),this.parentContainer.style.setProperty("right",a.a.MARGIN_FROM_EDGES_IN_PX+"px"),this.parentContainer.style.setProperty("bottom",a.a.MARGIN_FROM_EDGES_IN_PX+"px"),this.startAd()},e.prototype.onAdVideoStart=function(){t.prototype.onAdVideoStart.call(this),this.openFormat()},e.prototype.fitContainerToContent=function(t){return null},e.prototype.getViewportInViewState=function(){return!0},e.prototype.initInternalResponsive=function(){t.prototype.initInternalResponsive.call(this,!1)},e.prototype.onVpaidReady=function(){t.prototype.onVpaidReady.call(this),this.fullscreenHelper=new o.a(this.parentContainer,this.vpaidAd,this.components,this.responsive,this.win,this.playerContainer),this.brandingMode=new s.a(this),this.formatConfig.smartPosition.setValue({corner:!0,top:!1,mustBypassWhitelist:!1}),this.smartPositionHelper=new a.a(this)},e.prototype.openFormat=function(){this.states.hasOpened=!0,this.placement.placementConfig.css.applyRulesOn(this.parentContainer)},e}(r.a)},function(t,e,n){function i(t,e,n,i){void 0===n&&(n=null);var c=i&&i.display,u=c||t.adType.isDisplay()||t.adType.isNative(),d=o(t,n,e),l=r(d,e);return{clicktoplay:{disable:!t.videoStart.isClick()},closebutton:{disable:d.disable,countdown:d.countdown,listenSkippableState:d.listenSkippableState},soundbutton:{disable:!!(u||t.sliderBehavior.isEnabled()||e.isSliderEnabled())||!t.soundButton.isEnabled,startOffset:t.soundButton.countdown,type:t.soundButton.type},progressbar:{disable:u||!t.progressBar.isEnabled()},clickbutton:{disable:!!i||!t.callButton.isEnabled(),startOffset:t.callButton.getCountdown(),text:t.callButton.getText()},label:{disable:!0,html:t.label.getHTML()},credits:{formatName:t.formatName.get(),disable:!0,text:t.credits.getText(),url:t.credits.getLink()},endscreen:{disable:!!(u||t.sliderBehavior.isEnabled()||e.isSliderEnabled())||(t.end.isCollapse()||t.end.isEndScreen()&&!t.endScreen.isEnabled()),countdown:t.endScreen.getCountdown(),callButton:t.endScreen.getCallButton(),closeButton:{disable:l.disable,listenSkippableState:l.listenSkippableState},replayButton:t.endScreen.getReplayButton(),autoClose:t.endScreen.getAutoClose()},fullscreenbutton:{disable:u||!t.playerClick.isFullscreen(),preventDefault:!0},brandlogo:{disable:!t.brandLogo.isEnabled(),url:t.brandLogo.getUrl()},startscreen:{disable:!t.adType.isVideo()},earlyclickoverlay:{disable:!a.includes(s.b,t.adSourceId)}}}function r(t,e){var n={disable:t.disable,listenSkippableState:t.listenSkippableState};return e.isSliderEnabled()&&(n.disable=!0,n.listenSkippableState=!1),n}function o(t,e,n){var i={disable:!t.closeButton.isEnabled(),countdown:t.closeButton.getCountdown(),listenSkippableState:!1};return(t.closeButton.hasToGetValueFromVast()||i.disable&&t.smartPosition.isTop())&&(i.disable=!1,e&&e.skipDelay?i.countdown=e.skipDelay:i.listenSkippableState=!0),n.isSliderEnabled()&&(i.disable=!0,i.listenSkippableState=!1),i}e.a=i;var a=n(3),s=n(64)},function(t,e,n){var i=n(3),r=n(5),o=n(32),a=n(70),s=n(1),c=n(19),u=n(4),d=n(16),l=n(62),p=n(306),h=n(43),f=n(45),g=n(82),m=n(8),b=n(117),v=n(81),y=n(307),A=n(313),w=n(66),O=n(67),E=n(79),C=n(90),I=n(118),S=n(336),T=n(56),j=function(t){return t.map(function(t){return t.hostname}).filter(d.p).match({some:function(){return"/dist/format/vpaid-sandbox.html"},none:function(){return"https://s8t.teads.tv/media/format/v3/vpaid-sandbox.html"}})},k=function(){function t(t,e,n,i,r,o){this.container=t,this.config=e,this.slotType=n,this.wigo=i,this.placementKey=r,this.logger=new u.a("player.VASTPlayer"),this.plugins={},this.logger.info("new VASTPlayer",this.container,this.config),this.sumologicLogger=o.copy({collectorUrl:"https://s8t.teads.tv/sumo/receiver/v1/http/ZaVnC4dhaV2OstA92K8Xbj_kskBs5tjvp3fnz5Kd87xTE6v-AevmCgsG9SX_kqjlNgr2zKEpTQZWkuy61qzMee2njNfpDU2z7EIYjtXb-wRLLbHhGRVIOg=="}),this.wigo.valid(2,0),this.wigo.setPlayerContainer(this.container),this.wigo.elementToFollow=this.container}return t.prototype.setLinearAd=function(t){this.linearAd=t,this.logger.info("setLinearAd",t),this.wigo.valid(2,1,t,"modal")},t.prototype.setVpaidApi=function(t){this.config.vpaidApi=t},t.prototype.getLinearAd=function(){return this.linearAd},t.prototype.getMediafile=function(){return this.mediafile},t.prototype.getConfig=function(){return this.config},t.prototype.showCloseButton=function(){this.ui.showComponent("closebutton")},t.prototype.setConfigUI=function(t){this.config.ui=t},t.prototype.getOptimalMediaFile=function(t,e,n){var i=this;return void 0===n&&(n=function(t){return!0}),E.a.getOptimalMediaFile(this.linearAd.duration,this.linearAd.mediaFiles,function(r,a){var c=s.b.fromNullable(r);c.match({some:function(r){c.filter(n).match({some:function(e){t(e),i.wigo.valid(2,2,e.url+a,"string")},none:function(){i.onVastError(e,o.a.get(o.b.MEDIAFILE_DISPLAY.id,"Mediafile filtered by the custom filter"),i.linearAd),i.wigo.valid(2,2,"405 - Mediafile filtered by the custom filter","error")}})},none:function(){var t=o.a.get(o.b.UNSUPPORTED_MEDIAFILE.id,"VASTPlayer.getOptimalMediaFile didn't find mediafile");i.wigo.valid(2,2,a,"error"),i.onVastError(e,t,i.linearAd)}}),E.a.sendMediasToSumologic(i.linearAd,r?1:0,i.sumologicLogger)},this.config,this.sumologicLogger)},t.prototype.playOptimalMediaFile=function(t,e,n){var i=this;this.getOptimalMediaFile(function(n){i.playMediaFile(n,t,e)},e,n)},t.prototype.loadOptimalMediaFile=function(t,e,n,i){var r=this;this.getOptimalMediaFile(function(i){r.loadMediaFile(i,t,e,n)},e,i)},t.prototype.playMediaFile=function(t,e,n){if(!t){var i=o.a.get(o.b.UNSUPPORTED_MEDIAFILE.id,"no mediafile provided in VASTPlayer.playMediaFile");return this.onVastError(n,i,this.linearAd)}var r=function(t,n){e(t,n),t.subscribe(function(){t.startAd()},m.a.AdLoaded),t.initAd(n.width,n.height,n.mode,n.bitrate,n.parameters)};this.loadMediaFile(t,r,n,function(){return!1})},t.prototype.loadMediaFile=function(e,n,i,u){var d=this,l=function(t){d.onVastError(i,t,d.linearAd)};if(!e)return l(o.a.get(o.b.UNSUPPORTED_MEDIAFILE.id,"no mediafile provided in VASTPlayer.loadMediaFile"));this.mediafile=e;var m=E.a.getMediaProvider(e),w=e.url,O=this.config.width?this.config.width:this.container.offsetWidth,T={width:O,height:this.config.height?this.config.height:E.a.getOptimalHeight(e,O),mode:"normal",bitrate:e.bitrate||512,parameters:this.linearAd.adParameters},k=this.linearAd.clickThrough.length?this.linearAd.clickThrough[0]:null,P=function(t){l(o.a.get(o.b.UNSUPPORTED_MEDIAFILE.id,t))},L=this.config.useCustomVideo||!1,V=!1;switch(m){case I.a.VPAID:if(k=null,"display"===this.config.adType||"native"===this.config.adType)break;"vpaid"===e.api&&e.type.indexOf("javascript")>-1&&(r.isIos()&&!r.isWhiteListedIos10Safari()?L=!0:this.config.type===C.a.CANVAS&&(L=!0),r.cacheCanvasUsed(L));break;case I.a.FLASH:case I.a.JS:case I.a.CANVAS:w=this.config.path+"/"+E.a.getAssetFromMediaProvider(m),m===I.a.JS?w=g.a.VIDEO:m===I.a.CANVAS&&(w=g.a.CANVAS);var x=this.config.path.match("/dist")||0===this.config.path.indexOf("http")?this.config.path.match("/dist")&&0!==this.config.path.indexOf("http")?window.location.protocol+window.location.host+this.config.path:this.config.path:window.location.protocol+this.config.path;V=function(){try{return!d.config.ui.config.components.endscreen.disable}catch(t){return d.logger.error("Couldn't autostop: \""+t+'"'),!1}}(),T.parameters={url:e.url,debug:this.config.debug,clickThrough:k,skippable:this.linearAd.skippable,skipoffset:this.linearAd.skipDelay,assetsPath:x,type:C.a[this.config.type],pid:this.sumologicLogger.placementId.getOrNull(),noAutoStop:V,timeout:t.MEDIAFILE_TIMEOUT_DELAY},m===I.a.FLASH?T.parameters=c.b(T.parameters):T.parameters={AdParameters:c.b(T.parameters)},f.e(t.MEDIAFILE_TIMEOUT_DELAY+2e3);break;case I.a.UNSUPPORTED:default:return P("media not supported "+e.type)}if(m===I.a.FLASH&&!a.a()||m===I.a.VPAID&&!a.a()&&e.url.indexOf(".swf")>-1)return P("Flash plugin is required");var _={path:this.config.path,useCustomVideo:L,api:this.config.vpaidApi,sandbox:u(m),sandboxUrl:j(s.b.fromNullable(window.location))};f.f(t.MEDIAFILE_TIMEOUT_DELAY),this.config.background&&(_.background=this.config.background);var N=this.container;if(this.config.ui){var D;if(this.config.ui.template)D=this.config.ui.template;else{if(!y[this.config.ui.name]){var R=o.a.get(o.b.UNDEFINED.id,"VASTPlayer: cannot find template for VPAID-UI");return l(R)}D=v.a(y[this.config.ui.name],{assetsPath:this.config.path+"/assets"})}this.config.ui.config.showAdChoicesIcon=0===this.config.adChoicesIconLocation,this.config.ui.config=this.config.ui.config||{},this.config.ui.config.clickthrough=k,m===I.a.VPAID&&(this.config.ui.config.vpaidUrl=e.url),this.config.ui.config.noAutoStop=V,this.ui&&this.ui.getContainer()&&(this.config.ui.config.container=this.ui.getContainer()),this.ui=new A.a(this.container,D,this.config.ui.config),N=this.ui.getVPAIDContainer(),this.smartPosition=new p.a(this.ui)}var M=new b.a(N,_);M.setWigo(this.wigo);var F=function(t){d.wigo.valid(3,0),d.config.ui?(d.ui.setVPAID(t),d.vpaidAd=d.ui):d.vpaidAd=t,d.vpaidAd.setWigo(d.wigo);for(var i in S)try{var r=S[i];d.plugins[i]&&d.plugins[i].deinit(),d.plugins[i]=new r(d.container,d.config,d.vpaidAd,e,d.linearAd,{placementKey:d.placementKey,sumologicLogger:d.sumologicLogger,wigo:d.wigo,slotType:d.slotType,logger:d.logger},_.sandbox),d.plugins[i].init()}catch(t){d.logger.error("Could not initialize plugin "+i,t)}try{n(d.vpaidAd,T)}catch(t){var a=o.a.get(o.b.UNDEFINED.id,"loadMediaFile success callback failled "+t,t);l(a)}d.logger.info("loadMediaFile",I.a[m]),d.wigo.valid(2,3,I.a[m],"string")};M.load(w,F,function(t){var e=o.b.UNDEFINED.id;switch(t.id){case h.g.id:case h.e.id:case h.f.id:case h.b.id:e=o.b.GENERAL.id;break;case h.h.id:case h.c.id:e=o.b.FILE_NOT_FOUND.id;break;case h.i.id:e=o.b.MEDIAFILE_TIMEOUT.id;break;case h.d.id:e=o.b.UNSUPPORTED_MEDIAFILE.id}var n=t.message||"vpaidloader error";l(o.a.get(e,n))})},t.prototype.getPlugin=function(t){return this.plugins[t]},t.prototype.getPlugins=function(){return this.plugins},t.prototype.hasMoatExtension=function(t){return void 0===t&&(t=this.linearAd),!!t&&i.filter(t.extensions||[],function(t){return"MoatJs"===t.type}).length>0},t.prototype.onVastError=function(t,e,n){var r=this,o=e.getId(),a=Object(i.isMemberOf)(w.b)(o)?o:w.a.Undefined;Object(T.n)({placementKey:this.placementKey,sumologicLogger:this.sumologicLogger,wigo:this.wigo,logger:this.logger,durationPlayed:s.a,totalDuration:s.a})(a,function(){return l.b.vast.trackError(r.placementKey)(a,{referer:Object(T.a)(r.sumologicLogger),slotType:r.slotType,macros:[Object(O.e)(s.a),Object(O.d)(),Object(O.c)(r.mediafile),Object(O.g)(r.mediafile),Object(O.h)(s.a)]})}),t(e,n)},t.MEDIAFILE_TIMEOUT_DELAY=15e3,t}();e.a=k},function(t,e,n){var i=n(1),r=n(8),o=function(){function t(t){this.ui=t}return t.prototype.init=function(t,e){this.closeButton=i.b.fromNullable(this.ui.getComponent("closebutton")),this.soundButton=i.b.fromNullable(this.ui.getComponent("soundbutton")),this.clickButton=i.b.fromNullable(this.ui.getComponent("clickbutton")),this.adChoicesButton=i.b.fromNullable(this.ui.getComponent("adchoices")),this.closeButtonMode=this.closeButton.map(function(t){return t.mode}).getOrNull(),this.closeButton&&2!==this.closeButtonMode&&!t&&this.ui.subscribe(e,r.a.AdVideoMidpoint)},t.prototype.setCornerPositionPlayerComponents=function(t){this.clickButton.forEach(function(t){t.hide(),t.getConfig().disable=!0}),this.soundButton.forEach(function(t){return t.hide()}),this.closeButton.forEach(function(t){return t.hide()}),this.adChoicesButton.forEach(function(t){return t.hide()}),2===this.closeButtonMode&&this.closeButton.forEach(function(e){return e.changeOnCountdownEnded(function(){e.show(),t.showHeaderCloseButton()})}),t.shouldShowCloseButton&&t.showHeaderCloseButton()},t.prototype.setTopPositionPlayerComponents=function(t){this.clickButton.forEach(function(t){t.hide(),t.getConfig().disable=!0}),this.closeButton.forEach(function(e){return e.onClickAction=Object(i.c)(t.onCloseButtonClick)}),this.adChoicesButton.forEach(function(t){return t.show()}),1===this.closeButtonMode&&t.shouldShowCloseButton&&this.closeButton.forEach(function(t){return t.show()})},t.prototype.cleanupCornerPositionSpecificUI=function(t){this.clickButton.forEach(function(t){t.show(),t.getConfig().disable=!1}),this.adChoicesButton.forEach(function(t){return t.show()}),this.soundButton.forEach(function(t){return t.show()}),1!==this.closeButtonMode&&this.closeButton.forEach(function(t){return t.show()}),2===this.closeButtonMode&&this.closeButton.forEach(function(e){return e.changeOnCountdownEnded(function(){e.show(),t()})})},t.prototype.cleanupTopPositionSpecificUI=function(){this.clickButton.forEach(function(t){t.show(),t.getConfig().disable=!1}),this.closeButton.forEach(function(t){return t.restoreOnClickAction()}),1===this.closeButtonMode&&this.closeButton.forEach(function(t){return t.hide()})},t.prototype.isCloseButtonMode=function(t){return t===this.closeButtonMode},t.prototype.showCloseButton=function(){this.closeButton.forEach(function(t){return t.show()})},t}();e.a=o},function(t,e,n){function i(t){var e=[];return e.length>0&&(t=t.replace('id="'+r.b+'"','id="'+r.b+'" class="'+e.join(" ")+'"')),t}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TEMPLATE",function(){return s}),e.expandTemplate=i,n.d(e,"inread",function(){return c});var r=n(164),o=n(308),a=n.n(o),s=a.a,c=i(a.a)},function(t,e,n){t.exports="<!DOCTYPE html> <html> <head> "+n(124)+' </head> <body> <div id="main-container"> <style> '+n(309)+' </style> <div id="layout-video-component"> <div class="teads-ui-component-startscreen"></div> <div id="vpaid-container"></div> <div class="teads-ui-component-fullscreenbutton"> <div class="icon-collapse"></div> </div> <div class="teads-ui-component-earlyclickoverlay"></div> <div class="teads-ui-component-progressbar"> <div class="progress"></div> </div> <div class="teads-ui-component-soundbutton"></div> <div class="teads-ui-component-closebutton"> <div class="close-button icon-close hide"></div> </div> <div class="teads-ui-component-adchoices adchoices-icon"> <span>AdChoices</span> </div> <div class="teads-ui-component-clickbutton"></div> <div class="teads-ui-component-brandlogo"></div> <div class="teads-ui-component-clicktoplay gradient"> <div class="icon-watchmore"></div> </div> <div class="teads-ui-component-endscreen"></div> </div> </div> </body> </html> '},function(t,e,n){var i=n(310);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){e=t.exports=n(30)(void 0),e.i(n(311),""),e.i(n(312),""),e.push([t.i,".teads-ui-component-earlyclickoverlay,.teads-ui-component-fullscreenbutton{position:absolute;top:0;right:0;width:100%;height:100%;background:none}.fullscreen .teads-ui-component-fullscreenbutton,.fullscreen .teads-ui-component-fullscreenbutton .show{width:45px;height:45px;z-index:10!important}.teads-ui-component-fullscreenbutton .icon-collapse{display:none;margin-top:10px;margin-left:20px}.fullscreen .teads-ui-component-fullscreenbutton .icon-collapse{display:block}.fullscreen .teads-ui-component-closebutton .icon-close{display:none}",""])},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,'body{margin:0;padding:0;border:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:Helvetica,Arial,sans-serif!important;font-weight:300}#layout-video-component{width:100%;height:100%;position:relative}#vpaid-container{z-index:1;background-color:#000;position:relative}.teads-ui-component-progressbar{position:absolute;bottom:0;left:0;width:100%}.teads-ui-component-progressbar .progress{height:3px;width:0;background-color:#86c3f7;transition:all .4s linear}.teads-ui-component-playpausebutton{position:absolute;bottom:10px;left:10px;width:20px;height:20px;background-image:url("{{assetsPath}}/default/img/play.png");background-position:0 0;background-repeat:no-repeat;background-size:contain;cursor:pointer}.teads-ui-component-playpausebutton.playing{background-image:url("{{assetsPath}}/default/img/pause.png")}.teads-ui-component-fullscreenbutton{position:absolute;bottom:5px;right:30px;width:16px;height:16px;background-image:url("{{assetsPath}}/default/img/fullscreen.png");background-position:0 0;background-repeat:no-repeat;background-size:contain;cursor:pointer}.teads-ui-component-progresstext{height:30px;margin:0 40px 0 60px;text-align:center;padding:4px}.teads-ui-component-skipbutton{position:absolute;bottom:40px;right:4px;width:100px;height:20px;font-family:Helvetica,Arial,sans-serif!important;background-color:#ccc;text-align:center;padding:4px;border:1px solid #000}.adchoices-icon{background:url("data:image/svg+xml;base64,PHN2Zw0KICB2ZXJzaW9uPSIxLjEiDQogIGJhc2VQcm9maWxlPSJmdWxsIg0KICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8c3R5bGU+DQogICAgLyogPCFbQ0RBVEFbICovDQogICAgLmFkY2hvaWNlcyB7DQogICAgICB0ZXh0LXJlbmRlcmluZzogZ2VvbWV0cmljUHJlY2lzaW9uOw0KICAgICAgZmlsbC1vcGFjaXR5OiAxLjA7DQogICAgICBmaWxsOiAjMDBhZWNkOw0KICAgICAgc3Ryb2tlOiBub25lOw0KICAgIH0NCiAgICAvKiBdXT4gKi8NCiAgPC9zdHlsZT4NCiAgPHN2ZyBjbGFzcz0iYWRjaG9pY2VzIiB4PSIwcHgiPg0KICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSIwLjY3Ij48L2NpcmNsZT4NCiAgICA8cGF0aCBkPSJNNC4yLDExLjNRMy4zLDExLjgsMy4zLDEwLjc1TDMuMyw0LjFRMy4zLDMuMSw0LjMsMy41TDEwLjQsNy4wUTEyLjAsNy41LDEwLjQsOC4wTDYuNjUsMTAuMEw2LjY1LDcuNzVhMC42NSwwLjY1LDAsMSwwLC0xLjMsMEw1LjM1LDEwLjc1YTAuOSwwLjksMCwwLDAsMS4zLDAuOEwxMi43LDguMlExMy43LDcuNSwxMi43LDYuN0wzLjMsMS42UTIuMiwxLjMsMS44LDIuNUwxLjgsMTIuNVEyLjIsMTMuOSwzLjMsMTMuM0w0LjgsMTIuNUEwLjMsMC4zLDAsMSwwLDQuMiwxMS4zWiI+PC9wYXRoPg0KICA8L3N2Zz4NCjwvc3ZnPg0K")}.teads-ui-component-label{font-family:Helvetica,Arial,sans-serif!important;font-size:12px;color:#999;text-align:center;padding:3px 0;text-transform:uppercase;height:21px;line-height:21px;display:none}.fullscreen .teads-ui-component-label,.fullscreen .teads-ui-component-label.show{display:none!important}.teads-ui-component-credits{font-size:12px;color:#999;text-align:right;padding:3px 0;height:26px;line-height:26px;display:none}.fullscreen .teads-ui-component-credits,.fullscreen .teads-ui-component-credits.show{display:none!important}.sm-screen .teads-ui-component-label,.xs-screen .teads-ui-component-label{font-size:10px}.teads-ui-component-credits a{color:#999;text-decoration:none}.teads-ui-component-credits-blue{color:#79bbe9}.teads-ui-component-soundbutton{position:absolute;bottom:0;right:0;padding:13px 18px 18px 6px;cursor:pointer;display:none;opacity:0;transition:opacity 175ms linear}.teads-ui-component-soundbutton.show{display:block;opacity:.8}.teads-ui-component-soundbutton:hover{opacity:1}.teads-ui-component-closebutton{position:absolute;top:0;right:0;padding:15px;cursor:pointer;display:none;transition:opacity 175ms linear}.teads-ui-component-closebutton svg{display:none}.teads-ui-component-closebutton .countdown{display:none;position:absolute;left:2px;bottom:20px}.teads-ui-component-closebutton .countdown .countdown-circle>li{color:#fff}.teads-ui-component-closebutton .countdown.show{display:block}.fullscreen .teads-ui-component-closebutton .countdown.show{display:none!important}.teads-ui-component-closebutton.show{display:block}.teads-ui-component-closebutton.show .close-button{opacity:.8}.teads-ui-component-closebutton.show:hover .close-button.show{opacity:1}.sm-screen .teads-ui-component-closebutton .closebutton,.xs-screen .teads-ui-component-closebutton .closebutton{padding:10px 10px 15px 15px}.teads-ui-component-clickbutton{display:none;position:absolute;top:0;left:0;cursor:pointer;-webkit-transition:background-color .25s;transition:background-color .25s}.teads-ui-component-clickbutton .text{font-size:12px;white-space:nowrap;max-height:30px;text-align:center;background-color:rgba(0,0,0,.1);border:1px solid #fff;color:#fff;margin:10px;padding:6px 10px}.teads-ui-component-clickbutton .text:hover{background-color:rgba(0,0,0,.25)}.sm-screen .teads-ui-component-clickbutton .text,.xs-screen .teads-ui-component-clickbutton .text{margin:5px;padding:5px}.teads-ui-component-clicktoplay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;cursor:pointer;display:none;z-index:10!important}.teads-ui-component-clicktoplay .icon-watchmore{position:absolute;top:50%;left:50%;margin-left:-8px;margin-right:-10px;opacity:.8;transition:opacity 175ms linear}.sm-screen .teads-ui-component-clicktoplay .icon-watchmore,.xs-screen .teads-ui-component-clicktoplay .icon-watchmore{margin-left:-5px;margin-right:-7px}.teads-ui-component-clicktoplay:hover .icon-watchmore{opacity:1}.teads-ui-component-endscreen{position:absolute;width:100%;height:100%;top:0;left:0;z-index:10!important;background-color:#000;text-align:center;word-spacing:nowrap;opacity:0;display:none;transition:opacity 175ms ease}.teads-ui-component-endscreen.show{display:block!important;opacity:1!important}.teads-ui-component-endscreen .adchoices{font-family:arial;font-size:11px;cursor:pointer;position:absolute;top:0;right:0;width:15px;height:15px;line-height:15px;padding:1px;border-bottom-left-radius:8px;background-size:15px 15px;background-repeat:no-repeat;background-position:100%}.teads-ui-component-endscreen .close-button:not(.hide)~.sm-screen .teads-ui-component-endscreen .adchoices,.teads-ui-component-endscreen .close-button:not(.hide)~.xs-screen .teads-ui-component-endscreen .adchoices{top:12px;right:30px}.teads-ui-component-endscreen .close-button:not(.hide)~.adchoices{top:14px;right:35px}.teads-ui-component-endscreen .adchoices.expanded{width:auto;padding:1px 17px 1px 4px;background-color:hsla(0,0%,100%,.8)!important}.teads-ui-component-endscreen .adchoices span{display:none}.teads-ui-component-endscreen .adchoices.expanded span{display:inline}.tea .teads-ui-component-endscreen .countdown .countdown-timer svg{opacity:0}.teads-ui-component-endscreen .countdown{position:absolute;bottom:18px;left:18px;color:#fff}.sm-screen .teads-ui-component-endscreen .countdown,.xs-screen .teads-ui-component-endscreen .countdown{bottom:5px;left:5px}.teads-ui-component-endscreen .close-button{position:absolute;top:0;right:0;padding:15px;cursor:pointer}.teads-ui-component-endscreen .button-container{position:absolute}.teads-ui-component-endscreen .button{display:block;width:100%;height:70px;margin-bottom:40px;cursor:pointer;transition:opacity 175ms ease}.sm-screen .teads-ui-component-endscreen .button{margin-bottom:15px!important;height:40px}.xs-screen .teads-ui-component-endscreen .button{margin-bottom:15px!important;height:32px}.xs-screen .teads-ui-component-endscreen .button.replay-button{margin-bottom:15px!important}.teads-ui-component-endscreen .button:last-child{margin-bottom:0!important}.teads-ui-component-endscreen.show .button{opacity:.8!important}.teads-ui-component-endscreen.show .button:hover{opacity:1!important}.teads-ui-component-endscreen.show .button.edge-touch-screen,.teads-ui-component-endscreen.show .button.edge-touch-screen:hover{opacity:.8!important}.teads-ui-component-endscreen .button .icon{float:left;border-radius:35px;border:2px solid #fff;border-color:#294355;height:66px;width:66px}.sm-screen .teads-ui-component-endscreen .button .icon{height:36px;width:36px}.xs-screen .teads-ui-component-endscreen .button .icon{border-width:1px;height:30px;width:30px}.teads-ui-component-endscreen .button .icon span{display:block;margin:18px 22px;height:30px;width:30px}.sm-screen .teads-ui-component-endscreen .button .icon span{margin:7px 10px;height:20px;width:16px}.xs-screen .teads-ui-component-endscreen .button .icon span{margin:4px 6px;height:20px;width:16px}.teads-ui-component-endscreen .button .text{float:left;line-height:70px;height:70px;font-size:23px;color:#294355;padding-left:25px}.sm-screen .teads-ui-component-endscreen .button .text{line-height:40px;height:40px;padding-left:20px;font-size:17px}.xs-screen .teads-ui-component-endscreen .button .text{line-height:30px;height:30px;font-size:14px;padding-left:15px}.teads-ui-component-endscreen .countdown{display:none;color:#294355}.teads-ui-component-uibutton.ui-invisible{text-decoration:line-through}.teads-ui-component-uibutton{position:absolute;bottom:5px;right:5px;width:16px;height:16px;text-align:center;vertical-align:middle;border:1px solid #000;color:#000;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:pointer;text-decoration:none;background-color:#fff;font-size:12px}@-webkit-keyframes load{0%{stroke-dashoffset:0}}@keyframes load{0%{stroke-dashoffset:0}}.countdown-circle{position:relative;display:inline-block;padding:0;margin:0;text-align:center}.countdown-circle>li:after{content:attr(data-countdown);position:absolute;width:100%;top:.3rem;left:0;font-size:1rem;text-align:center}.countdown-circle>li{display:inline-block;position:relative;text-align:center;color:#93a2ac;font-family:Helvetica,Arial,sans-serif!important;font-weight:100}.countdown-circle svg{width:30px;height:30px}.countdown-circle svg:nth-child(2){position:absolute;left:0;top:0;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg)}.countdown-circle svg:nth-child(2) path{fill:none;stroke-width:20;stroke-dasharray:629;stroke:#999;opacity:.9}.teads-ui-component-brandlogo{display:none;opacity:.8;cursor:pointer;position:absolute;bottom:0;left:0;margin-left:10px;margin-bottom:18px;webkit-transition:background-color .25s;transition:background-color .25s;width:20%;height:10%;max-height:50px;background-repeat:no-repeat;background-position-x:left;background-position-y:bottom;background-size:contain}.sm-screen .teads-ui-component-brandlogo,.xs-screen .teads-ui-component-brandlogo{margin-left:5px;width:30%;height:15%}.teads-ui-component-adchoices{font-family:arial;font-size:11px;cursor:pointer;position:absolute;top:0;right:0;width:15px;height:15px;line-height:15px;padding:1px;border-bottom-left-radius:8px;background-size:15px 15px;background-repeat:no-repeat;background-position:100%}.teads-ui-component-adchoices.expanded{width:auto;padding:1px 17px 1px 4px;background-color:hsla(0,0%,100%,.8)}.teads-ui-component-adchoices span{display:none}.teads-ui-component-adchoices.expanded span{display:inline}.teads-ui-component-closebutton:not(.hide)~.teads-ui-component-adchoices{top:14px;right:35px}.sm-screen .teads-ui-component-closebutton:not(.hide)~.teads-ui-component-adchoices,.xs-screen .teads-ui-component-closebutton:not(.hide)~.teads-ui-component-adchoices{top:12px;right:30px}.fullscreen .teads-ui-component-adchoices,.fullscreen .teads-ui-component-adchoices.show{display:none!important}.teads-ui-component-startscreen{width:100%;height:100%;position:absolute;-webkit-box-shadow:inset 0 0 85px rgba(0,0,0,.1);-moz-box-shadow:inset 0 0 85px rgba(0,0,0,.1);box-shadow:inset 0 0 85px rgba(0,0,0,.1);background-color:#fff}.show{display:block!important}.show:hover{opacity:1!important}.hide{display:none;opacity:0}',""])},function(t,e,n){e=t.exports=n(30)(void 0),e.push([t.i,'.icon-book{width:26px;height:29px;background-position:0 0}.sm-screen .icon-book,.xs-screen .icon-book{width:18px;height:20px;background-position:-35px 0}.icon-close{width:15px;height:15px;background-position:-60px 0}.sm-screen .icon-close,.xs-screen .icon-close{width:11px;height:11px;background-position:-80px 0}.icon-closeendscreen{width:15px;height:15px;background-position:-100px 0}.sm-screen .icon-closeendscreen,.xs-screen .icon-closeendscreen{width:11px;height:11px;background-position:-120px 0}.icon-collapse{width:15px;height:15px;background-position:-140px 0}.icon-contact{width:28px;height:23px;background-position:-160px 0}.sm-screen .icon-contact,.xs-screen .icon-contact{width:20px;height:16px;background-position:-195px 0}.icon-download{width:20px;height:25px;background-position:-220px 0}.sm-screen .icon-download,.xs-screen .icon-download{width:14px;height:17px;background-position:-245px 0}.icon-learnmore{width:23px;height:28px;background-position:-305px 0}.sm-screen .icon-learnmore,.xs-screen .icon-learnmore{width:17px;height:20px;background-position:-335px 0}.icon-muteoff{width:22px;height:15px;background-position:-360px 0}.sm-screen .icon-muteoff,.xs-screen .icon-muteoff{width:16px;height:11px;background-position:-390px 0}.icon-muteon{width:22px;height:15px;background-position:-415px 0}.sm-screen .icon-muteon,.xs-screen .icon-muteon{width:16px;height:11px;background-position:-445px 0}.icon-replay{width:23px;height:29px;background-position:-470px 0}.sm-screen .icon-replay,.xs-screen .icon-replay{width:16px;height:20px;background-position:-500px 0}.icon-shop{width:29px;height:29px;background-position:-525px 0}.sm-screen .icon-shop,.xs-screen .icon-shop{width:20px;height:20px;background-position:-560px 0}.icon-signup{width:26px;height:31px;background-position:-585px 0}.sm-screen .icon-signup,.xs-screen .icon-signup{width:18px;height:22px;background-position:-620px 0}.icon-watchmore{width:16px;height:20px;background-position:-645px 0}.sm-screen .icon-watchmore,.xs-screen .icon-watchmore{width:11px;height:14px;background-position:-670px 0}.icon-book,.icon-close,.icon-closeendscreen,.icon-collapse,.icon-contact,.icon-download,.icon-learnmore,.icon-muteoff,.icon-muteon,.icon-replay,.icon-shop,.icon-signup,.icon-watchmore{background-size:690px 40px}.no-svg .icon-book,.no-svg .icon-close,.no-svg .icon-closeendscreen,.no-svg .icon-collapse,.no-svg .icon-contact,.no-svg .icon-download,.no-svg .icon-learnmore,.no-svg .icon-muteoff,.no-svg .icon-muteon,.no-svg .icon-replay,.no-svg .icon-shop,.no-svg .icon-signup,.no-svg .icon-watchmore{background-image:url("{{assetsPath}}/default/player-sprite.png")}.icon-book,.icon-close,.icon-closeendscreen,.icon-collapse,.icon-contact,.icon-download,.icon-learnmore,.icon-muteoff,.icon-muteon,.icon-replay,.icon-shop,.icon-signup,.icon-watchmore{background-image:url("{{assetsPath}}/default/player-sprite.svg")}',""])},function(t,e,n){var i=n(0),r=n(7),o=n(16),a=n(3),s=n(9),c=n(5),u=n(32),d=n(21),l=n(20),p=n(19),h=n(4),f=n(113),g=n(26),m=n(8),b=n(29),v=n(36),y=n(314),A=n(315),w=n(164),O=n(1),E=n(6),C=n(335),I=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.mainContainer=e,o.config=i,o.isFullscreen=!1,o.components=[],o.componentsByName={},o.logger=new h.a("ui.VPAIDUI"),o.initAdStartTime=0,o.logger.debug("Init Layout",e,i),o.config.container){o.container=o.config.container;var a=o.mainContainer.firstElementChild;a&&a.id===w.b&&o.mainContainer.removeChild(a)}else o.container=r.createIframe(),o.container.style.setProperty("width","1px"),o.container.style.setProperty("height","1px");return o.container.parentNode||o.mainContainer.appendChild(o.container),O.b.fromNullable(o.container.contentWindow).forEach(function(t){t.document.write(n),t.document.close(),o.initHeavyAdInterventionListener(t),c.isAmp()||c.isIABSafeFrame()||s.addEventListener("resize",t,function(){o.logger.debug("resize on player Iframe detected, trigger an AdSizeChange VPAID event"),o.dispatchEvent(m.a.AdSizeChange)}),o.mainComponentsContainer=t.document.getElementById(w.b)}),(c.isAmp()||c.isIABSafeFrame())&&(o.mainContainer.appendChild(o.mainComponentsContainer),o.mainContainer.removeChild(o.container)),O.b.fromNullable(o.mainComponentsContainer.ownerDocument).forEach(function(t){o.videoComponentsContainer=t.getElementById(w.c)}),o}return Object(i.c)(e,t),e.prototype.initAd=function(e,n,i,r,o,a){return void 0===o&&(o=""),void 0===a&&(a={}),this.vpaid?(this.resize(e,n,i),this.initAdStartTime=Object(l.l)(),this.logger.debug("initAd"),t.prototype.initAd.call(this,e,n,i,r,o,a)):void this.logger.error("You must register vpaid creative to be wrapped using setVPAID() method")},e.prototype.startAd=function(){return this.status<g.a.LOADED?void this.dispatchEvent(m.a.AdLog,"VPAID not started, use initAd(), and wait for AdLoaded event before call startAd() method"):this.status>=g.a.STARTING?void this.dispatchEvent(m.a.AdLog,"cannot call startAd() twice, already started"):(this.render(this.getVPAID()),this.logger.debug("startAd"),void t.prototype.startAd.call(this))},e.prototype.resizeAd=function(e,n,i){void 0===i&&(i="normal"),e<=0||n<=0||(this.resize(e,n,i),t.prototype.resizeAd.call(this,e,n,i))},e.prototype.stopAd=function(){var e=this,n=function(){d.d(function(){e.container.parentNode&&e.container.parentNode.removeChild(e.container)},2e3),e.dispatchedEvents[m.a.AdStopped]||e.dispatchEvent(m.a.AdStopped)};this.isStopped?(this.logger.debug("Wrapped vpaid already stopped, remove UI"),n()):(this.logger.debug("Wrapped vpaid not stopped, try to stop it"),this.vpaid.subscribe(n,m.a.AdStopped),t.prototype.stopAd.call(this))},e.prototype.pauseAd=function(){this.callVPAIDMethod("pauseAd")},e.prototype.resumeAd=function(){this.callVPAIDMethod("resumeAd")},e.prototype.getAdWidth=function(){return this.isRendered&&!this.isStopped&&t.prototype.getAdWidth.call(this)?t.prototype.getAdWidth.call(this):s.getBoundingClientRect(this.getMainComponentsContainer()).width},e.prototype.getAdHeight=function(){return this.isRendered&&!this.isStopped&&t.prototype.getAdHeight.call(this)?t.prototype.getAdHeight.call(this):s.getBoundingClientRect(this.getMainComponentsContainer()).height},e.prototype.setAdVolume=function(e){return isNaN(e)?(this.logger.warn("setAdVolume: volume argument is NaN"),this.getAdVolume()):t.prototype.setAdVolume.call(this,e)},e.prototype.getAdExpanded=function(){return this.isFullscreen},e.prototype.setVPAID=function(e){var n=this;if(this.vpaid)return void this.logger.warn("setVPAID() : vpaid ad already register, can't use twice");this.logger.debug("setVPAID() : Register vpaid ad"),t.prototype.setVPAID.call(this,e),e.subscribe(function(){n.isStopped=!0},m.a.AdStopped);var i=function(t){0===y.a(n.components,t.type).length&&n.handleVpaidEvent(t)};for(var r in m.a)if(m.a.hasOwnProperty(r)){var o=m.a[r];e.subscribe(v.b(i,o),o)}for(var r in b.a)if(b.a.hasOwnProperty(r)){var o=b.a[r];e.subscribe(v.b(i,o),o)}},e.prototype.getVPAID=function(){return this.vpaid},e.prototype.getVPAIDContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(w.d)},e.prototype.getMainContainer=function(){return this.mainContainer},e.prototype.getMainComponentsContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(w.b)},e.prototype.getCreativeContainer=function(){return this.getVPAID().container.getCreativeContainer()},e.prototype.getVideoComponentsContainer=function(){return this.videoComponentsContainer=this.videoComponentsContainer||this.mainComponentsContainer.ownerDocument.getElementById(w.c)},e.prototype.getComponent=function(t){return this.componentsByName[t]},e.prototype.getConfig=function(){return this.config},e.prototype.getContainer=function(){return this.container},e.prototype.getContentWindow=function(){return this.getContainer().contentWindow||window},e.prototype.render=function(t){var e=this;if(!this.isRendered){this.isRendered=!0,this.show(),this.resize(t.getAdWidth(),t.getAdHeight());var n=function(t){e.handleVpaidEvent(t)};this.logger.debug("init components:",this.config.components);for(var i in A.a)if(A.a.hasOwnProperty(i)&&A.a[i])for(var r=w.a+i,o=s.getElementsByClassName(r,this.getMainComponentsContainer(),this.getContentWindow()),a=0,c=o.length;a<c;a++)if(this.config.components&&this.config.components[i]&&this.config.components[i].disable||this.config.disableAllComponents&&this.config.components&&!1!==this.config.components[i].disable)O.b.fromNullable(o[a]).forEach(function(t){return O.b.fromNullable(t.parentNode).forEach(function(e){return e.removeChild(t)})}),this.logger.debug("disable component "+i);else{var u=new A.a[i](this,o[a],t,this.config.components&&this.config.components[i]?this.config.components[i]:{},n);this.components.push(u),this.componentsByName[i]=u;try{u.init(),this.logger.debug("init component "+i,this.config.components&&this.config.components[i]?this.config.components[i]:null)}catch(t){this.logger.error('error init component "'+i+'"',t.toString())}}}},e.prototype.showAllComponents=function(){y.c(this.components,!0)},e.prototype.hideAllComponents=function(){y.c(this.components,!1)},e.prototype.showComponent=function(t){y.d(this.componentsByName,t,!0)},e.prototype.hideComponent=function(t){y.d(this.componentsByName,t,!1)},e.prototype.dispatchCustomEvent=function(t,e){this.dispatchEvent(t,e)},e.prototype.getProperties=function(){return{adLinear:this.getAdLinear(),adWidth:this.getAdWidth(),adHeight:this.getAdHeight(),adExpanded:this.getAdExpanded(),adSkippableState:this.getAdSkippableState(),adRemainingTime:this.getAdRemainingTime(),adDuration:this.getAdDuration(),adVolume:this.getAdVolume()}},e.prototype.toJSON=function(){return p.b(this.getProperties())},e.prototype.handleVpaidEvent=function(e){switch(e.type){case m.a.AdSizeChange:this.getAdWidth()&&this.getAdHeight()&&this.isStopped&&(this.logger.debug("resize with AdSizeChange event"),this.resize(this.getAdWidth(),this.getAdHeight(),this.isFullscreen?"fullscreen":"normal"));break;case m.a.AdLoaded:if(this.initAdStartTime>0)try{var n=O.b.fromNullable(this.config.vpaidUrl).map(function(t){return o.r(t).hostname}).getOrNull(),i=Object(l.l)()-this.initAdStartTime,r=Object(l.h)(/t.teads.tv\/track\?action=adCall/).map(function(t){return t.startTime}).map(Math.round).getOrValue(0);this.logger.info("initAd response time",i,n,r)}catch(t){}}t.prototype.handleVpaidEvent.call(this,e)},e.prototype.callVPAIDMethod=function(e,n){void 0===n&&(n=[]),a.forEach(this.components,function(t){t.onMethod(e,n)});var i=y.b(this.components,e);if(0===i.length)return t.prototype.callVPAIDMethod.call(this,e,n);var r;return a.forEach(i,function(t){r=t.onOverridenMethod(e,n)}),r},e.prototype.resize=function(t,e,n){var i=this;if(void 0===n&&(n="normal"),!(t<=0||e<=0)){var o=t+"px",s=e+"px";this.getVideoComponentsContainer().style.getPropertyValue("width")===o&&this.getVideoComponentsContainer().style.getPropertyValue("height")===s&&this.container.style.getPropertyValue("width")===o&&this.container.style.getPropertyValue("height")===s||(this.getVideoComponentsContainer().style.setProperty("width",o),this.getVideoComponentsContainer().style.setProperty("height",s),this.container.style.setProperty("width",o,"important"),this.container.style.setProperty("height",s,"important"),this.container.style.setProperty("max-height",s,"important"),this.logger.debug("vpaidui resize",t,e,n),!this.isFullscreen&&"fullscreen"===n||this.isFullscreen&&"normal"===n?(this.isFullscreen="fullscreen"===n,this.dispatchEvent(m.a.AdExpandedChange)):this.logger.debug("no fullscreen exit or enter"));var c=this.getVPAIDContainer();c.style.setProperty("width",o),c.style.setProperty("height",s);var u="l-screen";t<=480?u="xs-screen":t<=640&&(u="sm-screen"),a.forEach(["l-screen","xs-screen","sm-screen"],function(t){t!==u&&r.removeClass(i.mainComponentsContainer,t)}),r.addClass(this.mainComponentsContainer,u)}},e.prototype.show=function(){this.container.style.setProperty("display","block")},e.prototype.hide=function(){this.container.style.setProperty("display","none")},e.prototype.initHeavyAdInterventionListener=function(t){var e=this;window.addEventListener("message",function(t){O.b.of(t).map(function(t){return t.data}).filter(function(t){return"heavyAdIntervention"===t.event}).forEach(function(t){var n=t.report;e.logger.error("Fetched a heavy ad intervention event",n),E.a.tryCatch(function(){return O.b.of(JSON.parse(n)).map(function(t){return t.body}).filter(function(t){return t.id===C.c}).map(function(t){return t.message})}).fold(function(t){return e.logger.error("Something went wrong during the parsing of the intervention report:",t)},function(t){return t.forEach(function(t){var n=t.indexOf(C.a)>-1?b.a.AdRemovedHeavyAdIntervention:b.a.AdWarningHeavyAdIntervention,i=t.indexOf(C.b)>-1?"CPU":"Network";e.dispatchCustomEvent(n,{id:u.b.GENERAL_LINEAR.id,message:i})})})})},!0),t.postMessage({event:"reportingObserverSource"},"*")},e}(f.a);e.a=I},function(t,e,n){function i(t,e){return s.filter(t,function(t){return t.isEnabled()&&-1!==s.indexOf(t.getOverridenEvents(),e)})}function r(t,e){return s.filter(t,function(t){return t.isEnabled()&&-1!==s.indexOf(t.getOverridenMethods(),e)})}function o(t,e,n){void 0===n&&(n=!0);var i=t[e];i&&i.isEnabled()&&(n?i.show():i.hide())}function a(t,e){void 0===e&&(e=!0),s.forEach(t,function(t){t.isEnabled()&&(e?t.show():t.hide())})}e.a=i,e.b=r,e.d=o,e.c=a;var s=n(3)},function(t,e,n){n.d(e,"a",function(){return E});var i=n(316),r=n(317),o=n(202),a=n(318),s=n(319),c=n(320),u=n(321),d=n(322),l=n(324),p=n(208),h=n(326),f=n(327),g=n(201),m=n(328),b=n(329),v=n(330),y=n(332),A=n(166),w=n(333),O=n(334),E={fullscreenbutton:i.a,earlyclickoverlay:r.a,mutebutton:o.a,progressbar:a.a,playpausebutton:s.a,progresstext:c.a,skipbutton:u.a,closebutton:d.a,uibutton:l.a,textfield:p.a,clicktoplay:h.a,clickbutton:f.a,soundbutton:g.b,label:m.a,credits:b.a,endscreen:v.a,brandlogo:y.a,countdown:A.a,startscreen:w.a,adchoices:O.a}},function(t,e,n){var i=n(0),r=n(9),o=n(25),a=n(31),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){this.eventName=o.a.FullscreenRequest,this.showOnVideoStart=!1,t.prototype.init.call(this),this.show()},e.prototype.bindClick=function(){var t=this;r.addEventListener("mousedown",this.getElement(),function(e){t.onClick(e)})},e}(a.a);e.a=s},function(t,e,n){var i=n(0),r=n(8),o=n(25),a=n(31),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var e=this;this.eventName=o.a.EarlyClickRequest,this.vpaid.subscribe(function(){return e.checkDurationEvents()},r.a.AdStarted),this.vpaid.subscribe(function(){return e.hideAfterTwoSeconds()},r.a.AdRemainingTimeChange),t.prototype.init.call(this),this.show()},e.prototype.onVideoStart=function(){},e.prototype.checkDurationEvents=function(){var t=this.vpaid.getAdDuration()&&this.vpaid.getAdDuration()>1.5,e=this.vpaid.getAdRemainingTime()&&this.vpaid.getAdRemainingTime()>1.5;t&&e||this.hideOverlay()},e.prototype.hideAfterTwoSeconds=function(){this.vpaid.getAdDuration()-this.vpaid.getAdRemainingTime()>=1.5&&this.isVisible()&&this.hideOverlay()},e.prototype.hideOverlay=function(){this.hide(),this.vpaid.unsubscribe(this.checkDurationEvents,r.a.AdStarted),this.vpaid.unsubscribe(this.hideAfterTwoSeconds,r.a.AdRemainingTimeChange)},e}(a.a);e.a=s},function(t,e,n){var i=n(0),r=n(9),o=n(8),a=n(87),s=n(31),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showOnVideoProgress=!0,e}return Object(i.c)(e,t),e.prototype.init=function(){var e=this;if(this.progressbar=r.getElementsByClassName("progress",this.getElement(),this.ui.getContentWindow())[0],!this.progressbar)return this.hide();this.vpaid.subscribe(function(){e.onProgress()},o.a.AdRemainingTimeChange),this.vpaid.subscribe(function(){e.hide()},o.a.AdVideoComplete),t.prototype.init.call(this)},e.prototype.setShowOnVideoProgress=function(t){this.showOnVideoProgress=t},e.prototype.getShowOnVideoProgress=function(){return this.showOnVideoProgress},e.prototype.onProgress=function(){var t=a.a(this.vpaid);this.vpaid.getAdDuration()>0&&t>0?(!this.isVisible()&&this.showOnVideoProgress&&this.show(),this.progressbar.style.setProperty("width",t/this.vpaid.getAdDuration()*100+"%")):this.hide()},e}(s.a);e.a=c},function(t,e,n){var i=n(0),r=n(7),o=n(8),a=n(25),s=n(31),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var e=this;this.eventName=a.a.PlayPauseRequest,this.vpaid.subscribe(function(){e.onPause()},o.a.AdPaused),this.vpaid.subscribe(function(){e.onPause()},o.a.AdVideoComplete),this.vpaid.subscribe(function(){e.onPlay()},o.a.AdPlaying),this.vpaid.subscribe(function(){e.onPlay()},o.a.AdVideoStart),t.prototype.init.call(this)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.isPlaying?this.vpaid.pauseAd():this.vpaid.resumeAd()},e.prototype.onPlay=function(){this.isPlaying=!0,r.addClass(this.getElement(),"playing")},e.prototype.onPause=function(){this.isPlaying=!1,r.removeClass(this.getElement(),"playing")},e}(s.a);e.a=c},function(t,e,n){var i=n(0),r=n(8),o=n(31),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this;this.vpaid.subscribe(function(){var e=t.vpaid.getAdRemainingTime();isNaN(e)&&(e=t.vpaid.getAdDuration()),t.getElement().innerHTML="Your video in "+Math.ceil(e)+" sec"},r.a.AdRemainingTimeChange)},e}(o.a);e.a=a},function(t,e,n){var i=n(0),r=n(25),o=n(87),a=n(31),s=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var e=this,n=s.b.fromNullable(this.ui.getConfig().skipoffset);if(this.eventName=r.a.SkipRequest,this.config.listenSkippableState)return void this.hide();var i=setInterval(function(){e.vpaid.getAdSkippableState()?e.vpaid.getAdSkippableState()&&(clearInterval(i),e.getElement().style.setProperty("cursor","pointer"),e.getElement().innerHTML="Skip Ad >>",e.show()):n.filter(function(t){return t>0}).forEach(function(t){var n=Math.floor(t-o.a(e.vpaid));e.getElement().innerHTML="Skip in "+(isNaN(n)?t:n<0?0:n)+" sec",e.show()})},1e3);t.prototype.init.call(this)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.vpaid.getAdSkippableState()&&this.vpaid.skipAd()},e}(a.a);e.a=c},function(t,e,n){var i=n(0),r=n(7),o=n(1),a=n(8),s=n(25),c=n(31),u=n(166),d=n(2),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClickAction=o.a,e}return Object(i.c)(e,t),e.prototype.init=function(){var t=this,e=o.b.fromNullable(this.config.countdown).filter(function(t){return t>=0}).getOrElse(function(){return t.ui.getConfig().skipoffset});if(this.eventName=s.a.CollapseRequest,this.vpaid.subscribe(function(){t.videoEnded=!0},a.a.AdVideoComplete),this.config.listenSkippableState)this.mode=1,this.vpaid.subscribe(function(){t.vpaid.getAdSkippableState()?t.show():t.hide()},a.a.AdSkippableStateChange);else if(Object(d.isNumber)(e)&&e>0){this.mode=2;var n=this.insertCountDownElement();this.countdown=new u.a(this.ui,n,this.vpaid,{countdown:e}),this.countdown.setEndedCallback(function(){return t.onCountdownEnded()})}else 0===e&&(this.mode=3,this.countdownEnded=!0,this.show())},e.prototype.onMethod=function(t,e){var n=this;this.countdown&&this.countdownInitiated&&!this.countdownEnded&&o.b.fromNullable({pauseAd:function(){return n.countdown.pause()},resumeAd:function(){return n.countdown.resume()}}[t]).forEach(function(t){return t()})},e.prototype.show=function(){t.prototype.show.call(this);var e=this.getElement().getElementsByClassName("close-button icon-close")[0];this.countdown&&!this.countdownEnded||r.removeClass(e,"hide")},e.prototype.restoreOnClickAction=function(){this.onClickAction=o.a},e.prototype.changeOnCountdownEnded=function(t){var e=this;this.countdown.setEndedCallback(function(){e.countdown.hide(),e.countdownEnded=!0,t()})},e.prototype.onVideoStart=function(){this.countdownInitiated||this.config.listenSkippableState||(t.prototype.onVideoStart.call(this),this.countdown.init(),this.countdown.show(),this.countdownInitiated=!0,this.countdown.initTimer())},e.prototype.onClick=function(e){var n=this;this.onClickAction.match({some:function(t){t()},none:function(){n.countdownEnded&&(n.videoEnded?t.prototype.onClick.call(n,e):(n.dispatchUiEvent(s.a.CollapseRequest),n.vpaid.skipAd()))}})},e.prototype.insertCountDownElement=function(){var t=document.createElement("div");return t.className="countdown",this.getElement().appendChild(t),t},e.prototype.onCountdownEnded=function(){this.countdown.hide(),this.countdownEnded=!0,this.show()},e}(c.a);e.a=l},function(t,e){t.exports='<style> #{{countdown-id}} svg:nth-child(2) path { -webkit-animation: load {{countdown-duration}}s linear; -moz-animation: load {{countdown-duration}}s linear; -o-animation: load {{countdown-duration}}s linear; animation: load {{countdown-duration}}s linear; } </style> \x3c!-- Container --\x3e <ul class="countdown-circle" id="{{countdown-id}}"> \x3c!-- Item --\x3e <li data-countdown="{{countdown-duration}}" class="countdown-timer"> <svg viewBox="-10 -10 220 220"> <g fill="none" stroke-width="20" transform="translate(100,100)"> <path d="M 0,-100 A 100,100 0 0,1 86.6,-50" stroke="url(#cl1)"/> <path d="M 86.6,-50 A 100,100 0 0,1 86.6,50" stroke="url(#cl1)"/> <path d="M 86.6,50 A 100,100 0 0,1 0,100" stroke="url(#cl1)"/> <path d="M 0,100 A 100,100 0 0,1 -86.6,50" stroke="url(#cl1)"/> <path d="M -86.6,50 A 100,100 0 0,1 -86.6,-50" stroke="url(#cl1)"/> <path d="M -86.6,-50 A 100,100 0 0,1 0,-100" stroke="url(#cl1)"/> </g> </svg> <svg viewBox="-10 -10 220 220"> <path d="M200,100 C200,44.771525 155.228475,0 100,0 C44.771525,0 0,44.771525 0,100 C0,155.228475 44.771525,200 100,200 C155.228475,200 200,155.228475 200,100 Z" stroke-dashoffset="629"></path> </svg> </li> </ul> \x3c!-- Defining Angle Gradient Colors --\x3e <svg width="0" height="0"> <defs> <linearGradient id="cl1" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"> <stop stop-color="#FFFFFF"/> <stop offset="100%" stop-color="#FFFFFF"/> </linearGradient> </defs> </svg> '},function(t,e,n){var i=n(0),r=n(7),o=n(9),a=n(25),s=n(31),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this,e=!0;this.eventName=a.a.UIButtonRequest,o.addEventListener("click",this.getElement(),function(n){t.onClick(n),e?t.ui.hideAllComponents():t.ui.showAllComponents(),t.ui.showComponent("uibutton"),e=!e,r.toggleClass(t.getElement(),"ui-invisible")})},e}(s.a);e.a=c},function(t,e,n){function i(t){var e="00";if(t>60){e=Math.floor(t/60)<10?"0":""}return e+=":"+(t<10?"0":"")+t}e.a=i},function(t,e,n){var i=n(0),r=n(7),o=n(8),a=n(25),s=n(31),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){this.showOnVideoStart=!1,this.eventName=a.a.ClickToPlayRequest},e.prototype.onMethod=function(t,e){void 0===e&&(e=[]),"startAd"===t&&(this.show(),this.dispatchVpaidEvent(o.a.AdStarted))},e.prototype.getOverridenEvents=function(){return[o.a.AdStarted]},e.prototype.getOverridenMethods=function(){return["startAd"]},e.prototype.onClick=function(e){var n=this;t.prototype.onClick.call(this,e),r.addClass(this.getElement(),"loading"),this.vpaid.subscribe(function(){n.remove()},o.a.AdStarted),this.remove(),this.vpaid.startAd()},e}(s.a);e.a=c},function(t,e,n){var i=n(0),r=n(8),o=n(25),a=n(208),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this;if(this.clickthrough=this.ui.getConfig().clickthrough,this.eventName=o.a.ClickRequest,this.config.text&&this.clickthrough){var e=document.createElement("div");e.className="text",e.innerHTML=this.config.text,this.getElement().appendChild(e)}else this.hide();this.vpaid.subscribe(function(){t.hide()},r.a.AdVideoComplete)},e.prototype.onVideoStart=function(){this.showOnVideoStart&&this.config.text&&this.clickthrough&&this.show()},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.dispatchVpaidEvent(r.a.AdClickThru,{url:this.clickthrough,id:this.config.id,playerHandles:!0})},e}(a.a);e.a=s},function(t,e,n){var i=n(0),r=n(31),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultText="Advertising",e}return Object(i.c)(e,t),e.prototype.init=function(){var t=this.config.html&&""!==this.config.html?this.config.html:this.config.text||this.defaultText;this.getElement().innerHTML=t,this.getElement().setAttribute("style",this.config.style||""),this.show()},e}(r.a);e.a=o},function(t,e,n){var i=n(0),r=n(31),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLink={inRead:"https://hp.teads.com/?utm_source=inread&utm_medium=credits&utm_campaign=invented%20by%20teads",inBoard:"https://hp.teads.com/?utm_source=inboard&utm_medium=credits&utm_campaign=invented%20by%20teads"},e}return Object(i.c)(e,t),e.prototype.init=function(){var t=/\[([^\]]*)\]/g,e="inboard"===this.config.formatName?"inBoard":"inRead";this.config.text=this.config.text||"Ads by [Teads]";var n=this.config.text.replace(t,'<span class="teads-ui-component-credits-blue">$1</span>'),i=this.config.url||this.defaultLink[e];this.getElement().innerHTML='<a href="'+i+'" target="_blank">'+n+"</a>",this.show()},e}(r.a);e.a=o},function(t,e,n){var i=n(0),r=n(9),o=n(7),a=n(5),s=n(8),c=n(25),u=n(31),d=n(166),l=n(331),p=n.n(l),h=n(1),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this;this.logger.debug("init endscreen"),this.showOnVideoStart=!1;var n=this.element.getAttribute("style");this.element.setAttribute("style",(n?n+";":"")+" opacity: 0.8!important; background-color: #ffffff;"),this.getElement().innerHTML=e.TEMPLATE,this.vpaid.subscribe(function(){if(t.logger.debug("video complete"),t.videoComplete=!0,t.dispatchVpaidEvent(s.a.AdVideoComplete),t.ui.getConfig().noAutoStop){t.show(),t.initLayout();var e=t.ui.getVPAIDContainer();e.style.setProperty("filter","blur(3px)"),e.style.setProperty("webkit-filter","blur(3px)"),t.dispatchVpaidEvent(c.a.EndscreenInit)}},s.a.AdVideoComplete),this.vpaid.subscribe(function(){t.videoComplete&&!t.ui.getConfig().noAutoStop&&(t.show(),t.initLayout(),t.dispatchVpaidEvent(c.a.EndscreenInit))},s.a.AdStopped),this.hide()},e.prototype.getOverridenEvents=function(){return this.videoComplete?[s.a.AdStopped]:[s.a.AdVideoComplete]},e.prototype.getOverridenMethods=function(){return this.isVisible()?["pauseAd","resumeAd"]:[]},e.prototype.onOverridenMethod=function(t,e){this.countdown&&("pauseAd"===t?this.countdown.pause():"resumeAd"===t&&this.countdown.resume())},e.prototype.onMethod=function(t,e){void 0===e&&(e=[]),"resizeAd"===t&&this.videoComplete&&(this.logger.debug("resizeAd from endscreen",e),this.resize(e[0],e[1]),this.dispatchVpaidEvent(s.a.AdSizeChange))},e.prototype.initLayout=function(){var t,n=this;if(this.replayButton=r.getElementsByClassName("replay-button",this.getElement(),this.ui.getContentWindow())[0],this.replayButton){r.addEventListener("click",this.replayButton,function(){n.onReplayClick()});try{h.b.fromNullable(null===(t=this.config.replayButton)||void 0===t?void 0:t.text).forEach(function(t){r.getElementsByClassName("text",n.replayButton,n.ui.getContentWindow())[0].innerHTML=t})}catch(t){this.logger.error("No text on replay button")}a.isEdgeTouchScreen()&&(this.replayButton.className="button edge-touch-screen replay-button")}else this.logger.debug("No replayButton on endscreen !");if(this.callButton=r.getElementsByClassName("call-button",this.getElement(),this.ui.getContentWindow())[0],this.callButton&&this.config.callButton&&this.ui.getConfig().clickthrough){if(r.addEventListener("click",this.callButton,function(){n.dispatchUiEvent(c.a.ClickRequest),n.onActionClick()}),this.config.callButton.text){var i=this.callButton.querySelector(".icon span");if(i){var u=e.CSSClassMapping[this.config.callButton.type]||function(){for(var t in e.CSSClassMapping)return e.CSSClassMapping[t]}();o.addClass(i,u)}try{r.getElementsByClassName("text",this.callButton,this.ui.getContentWindow())[0].innerHTML=this.config.callButton.text}catch(t){this.logger.error("No text on callButton")}a.isEdgeTouchScreen()&&(this.callButton.className="button edge-touch-screen call-button")}}else this.callButton&&this.callButton.parentNode&&this.callButton.parentNode.removeChild(this.callButton),this.logger.debug("No callButton on endscreen !");this.adChoicesButton=r.getElementsByClassName("adchoices",this.getElement(),this.ui.getContentWindow())[0],this.adChoicesButton?this.ui.getConfig().showAdChoicesIcon?(a.isMobile()||(r.addEventListener("mouseover",this.adChoicesButton,function(){o.addClass(n.adChoicesButton,"expanded")}),r.addEventListener("mouseout",this.adChoicesButton,function(){o.removeClass(n.adChoicesButton,"expanded")})),r.addEventListener("click",this.adChoicesButton,function(){n.dispatchUiEvent(c.a.AdChoicesClickRequest)})):(o.removeClass(this.adChoicesButton,"show"),o.addClass(this.adChoicesButton,"hide")):this.logger.debug("No adChoicesButton on endscreen !"),this.closeButton=r.getElementsByClassName("close-button",this.getElement(),this.ui.getContentWindow())[0],this.closeButton?!this.config.closeButton||this.config.closeButton.disable||this.config.closeButton.listenSkippableState&&!this.vpaid.getAdSkippableState()?(o.removeClass(this.closeButton,"show"),o.addClass(this.closeButton,"hide")):r.addEventListener("click",this.closeButton,function(){n.dispatchVpaidEvent(s.a.AdUserClose),n.closeAd()}):this.logger.debug("No closeButton on endscreen !");var l=r.getElementsByClassName("countdown",this.getElement(),this.ui.getContentWindow())[0];l?(this.countdown=new d.a(this.ui,l,this.vpaid,{countdown:this.config.countdown}),this.config.autoClose&&this.countdown.setEndedCallback(function(){n.logger.debug("Countdown ended and autoClose on, close ad"),n.closeAd()}),this.countdown.init(),this.countdown.initTimer(),this.countdown.show()):this.logger.debug("No countdown on endscreen"),this.resize(this.ui.getAdWidth(),this.ui.getAdHeight())},e.prototype.resize=function(t,e){if(!(t<=0||e<=0)){var n=r.getElementsByClassName("button-container",this.getElement())[0];if(n){n.style.setProperty("top","0px"),n.style.setProperty("left","0px");var i=r.getBoundingClientRect(n),o=(e-i.height)/2,a=(t-i.width)/2;n.style.setProperty("top",o+"px"),n.style.setProperty("left",a+"px")}}},e.prototype.onClick=function(t){},e.prototype.onReplayClick=function(){this.clearCloseInterval(),this.ui.getConfig().noAutoStop&&this.vpaid.stopAd(),this.videoComplete=!1,this.dispatchUiEvent(c.a.ReplayRequest)},e.prototype.onActionClick=function(){var t=this.ui.getConfig().clickthrough||null;this.dispatchVpaidEvent(s.a.AdClickThru,{url:t,id:null,playerHandles:!0})},e.prototype.clearCloseInterval=function(){this.countdown&&(this.countdown.removeEndedCallback(),this.countdown.stopTimer())},e.prototype.closeAd=function(){this.clearCloseInterval(),this.ui.stopAd()},e.CSSClassMapping={learnMore:"icon-learnmore",shopNow:"icon-shop",contactUs:"icon-contact",signUp:"icon-signup"},e.TEMPLATE=p.a,e}(u.a);e.a=f},function(t,e){t.exports='<div class="button-container"> <div class="button replay-button"> <div class="icon"> <span class="icon-replay"></span> </div> <div class="text"></div> </div> <div class="button call-button"> <div class="icon"> <span></span> </div> <div class="text"></div> </div> </div> <div class="close-button"> <div class="icon-closeendscreen"></div> </div> <div class="adchoices adchoices-icon"> <span>AdChoices</span> </div> <div class="countdown"></div> '},function(t,e,n){var i=n(0),r=n(8),o=n(25),a=n(31),s=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this;this.clickthrough=s.b.fromNullable(this.ui.getConfig().clickthrough),this.eventName=o.a.ClickRequest;var e=function(){t.getElement().style.setProperty("background-image","url("+t.config.url+")")};this.load(e)},e.prototype.load=function(t){var e=this;s.b.fromNullable(this.config.url).forEach(function(n){var i=new Image;i.onload=function(){return t()},i.onerror=function(t){return e.hide()},i.src=n})},e.prototype.onVideoStart=function(){this.showOnVideoStart&&this.show()},e.prototype.onClick=function(e){var n=this;t.prototype.onClick.call(this,e),this.clickthrough.forEach(function(t){n.dispatchVpaidEvent(r.a.AdClickThru,{url:t,id:n.config.id,playerHandles:!0})})},e}(a.a);e.a=c},function(t,e,n){var i=n(0),r=n(8),o=n(31),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this;this.showOnVideoStart=!1,this.element.style.setProperty("z-index","2"),this.show(),this.vpaid.subscribe(function(){return t.hide()},r.a.AdStarted)},e}(o.a);e.a=a},function(t,e,n){var i=n(0),r=n(13),o=n(9),a=n(7),s=n(5),c=n(31),u=n(8),d=n(25),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.init=function(){var t=this;this.ui.getConfig().showAdChoicesIcon?(this.eventName=d.a.AdChoicesClickRequest,s.isMobile()||(o.addEventListener("mouseover",this.getElement(),Object(r.a)(this.onMouseOver,this)),o.addEventListener("mouseout",this.getElement(),Object(r.a)(this.onMouseOut,this))),this.vpaid.subscribe(function(){t.hide()},u.a.AdVideoComplete)):this.remove()},e.prototype.onMouseOver=function(){a.addClass(this.getElement(),"expanded")},e.prototype.onMouseOut=function(){a.removeClass(this.getElement(),"expanded")},e}(c.a);e.a=l},function(t,e,n){n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i="HeavyAdIntervention",r="Ad was removed",o="CPU"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(337);n.d(e,"Bench",function(){return i.a});var r=n(338);n.d(e,"ClickThrough",function(){return r.a});var o=n(339);n.d(e,"Extensions",function(){return o.a});var a=n(340);n.d(e,"Responsive",function(){return a.a});var s=n(341);n.d(e,"Tracker",function(){return s.a});var c=n(342);n.d(e,"AdChoices",function(){return c.a})},function(t,e,n){n.d(e,"a",function(){return c});var i=n(3),r=n(4),o=n(189),a=n(7),s=n(8),c=function(){function t(t,e,n,c,u,d){var l=this;this.container=t,this.config=e,this.vpaidAd=n,this.bufferingTimer=null,this.bufferingDone=!1,this.elapseTime=0,this.logger=new r.a("player.plugin.Bench");try{var p=a.findTopWindow(this.container),h=function(){l.elapseTime>1e3&&0===l.getCurrentTime()&&(l.clearBufferingTimer(!0),l.visibility.destroy())};this.visibility=o.a.listenWindow(p,h,function(){})}catch(t){this.logger.error("Error with visibility init",t)}Object(i.forEach)([s.a.AdStopped,s.a.AdSkipped,s.a.AdError],function(t){l.vpaidAd.subscribe(function(){return l.visibility.destroy()},t)}),this.vpaidAd.subscribe(function(){l.getBuffering()},s.a.AdStarted),this.vpaidAd.subscribe(function(){l.clearBufferingTimer()},s.a.AdPaused),this.vpaidAd.subscribe(function(){l.getBuffering()},s.a.AdPlaying)}return t.prototype.init=function(){},t.prototype.deinit=function(){},t.prototype.getBuffering=function(t){var e=this;void 0===t&&(t=500),this.bufferingDone||(this.bufferingTimer=setTimeout(function(){try{e.elapseTime=t;var n=e.getCurrentTime();if(n>0){var i=t-1e3*n>0?t-1e3*n:0;"number"==typeof i&&i>=0&&e.logger.debug("Buffering: "+i+"ms"),e.bufferingDone=!0,e.visibility.destroy()}else e.getBuffering(t+=500)}catch(t){e.logger.error("Error with buffering method",t)}},500))},t.prototype.clearBufferingTimer=function(t){void 0===t&&(t=!1);try{this.bufferingTimer&&(clearTimeout(this.bufferingTimer),this.bufferingTimer=null,t&&(this.logger.warn("Stop buffering calculation"),this.bufferingDone=!0))}catch(t){this.logger.error("An error occured while cleaning the buffering timer",t)}},t.prototype.getCurrentTime=function(){return this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime()?this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime():0},t}()},function(t,e,n){n.d(e,"a",function(){return a});var i=n(8),r=n(5),o=n(16),a=function(){function t(t,e,n,i,r){this.vpaidAd=n,this.linearAd=r}return t.prototype.init=function(){this.vpaidAd.subscribe(this.onClickThrough,i.a.AdClickThru,this)},t.prototype.deinit=function(){this.vpaidAd.unsubscribe(this.onClickThrough,i.a.AdClickThru)},t.prototype.onClickThrough=function(t,e,n){var i=t||this.linearAd.clickThrough[0];if(n&&i){var a=Object(r.isChromeIos)()&&Object(o.l)(i)?"_parent":"_blank";window.open(i,a)}},t}()},function(t,e,n){n.d(e,"a",function(){return A});var i=n(0),r=n(9),o=n(120),a=n(3),s=n(11),c=n(7),u=n(16),d=n(19),l=n(5),p=n(4),h=n(1),f=n(33),g=n(22),m=n(115),b=n(69),v=n(2),y=n(51),A=function(){function t(t,e,n,i,o){var a=this;this.container=t,this.config=e,this.vpaidAd=n,this.mediaFile=i,this.linearAd=o,this.logger=new p.a("player.plugin.Extensions"),this.getVastMacros=function(){var t,e=h.b.fromNullable(b.a(a.linearAd.duration,a.vpaidAd.getAdRemainingTime())),n=b.d(h.b.fromNullable(a.mediaFile)),i=b.c(h.b.fromNullable(a.mediaFile)),o=Object(r.getBoundingClientRect)(a.container).height,s=h.b.fromNullable(null===(t=a.config.formatConfig)||void 0===t?void 0:t.threshold).map(function(t){return t.get()}).getOrValue(100),c=h.b.fromNullable(b.f(a.container,o,s));return b.e({currentTime:e,assetUrl:n,mediaFileType:i,viewability:c})},this.getFunnelMacros=function(){var t;return h.b.fromNullable(null===(t=a.config)||void 0===t?void 0:t.formatConfig).match({some:function(t){var e=h.b.fromNullable(t.pageId),n=h.b.fromNullable(t.placementId),i=h.b.fromNullable(t.insertionId),r=h.b.fromNullable(l.getEnv());return b.b({pageId:e,pid:n,insertionId:i,env:r})},none:function(){return b.b()}})}}return t.prototype.init=function(){var t=this;a.forEach(this.linearAd.extensions,function(e){switch(e.type){case o.a:var n=o.d(e.content);n&&n.width&&n.height&&(t.mediaFile.width=n.width,t.mediaFile.height=n.height);break;case m.a.AD_VERIFICATIONS:if(Object(y.c)(t.linearAd.adParameters,t.mediaFile.url)){var i=a.map(t.retrieveCreativePrefetchAdVerificationScriptUrls(e),function(t){return t.url});t.prefetchAdVerificationScripts(i)}break;case m.a.MOAT_JS:t.initMoatTracking(e);break;case m.a.VISIBILITY:case m.a.HTML:case m.a.IFRAME:t.injectIframe(e.content);break;case m.a.SCRIPT:case m.a.ALENTY:t.injectJs(e.content);break;default:t.logger.warn("Unhandled extension type",e)}})},t.prototype.deinit=function(){},t.prototype.getExtension=function(t){return h.b.fromNullable(a.find(this.linearAd.extensions,function(e){return e.type===t}))},t.prototype.retrieveCreativePrefetchAdVerificationScriptUrls=function(t){var e=this,n=a.fromNodeList(t.xml.querySelectorAll("Verification")),r=a.map(n,function(t){return[t.getAttribute("vendor"),t.querySelector("JavaScriptResource")]}),o=a.filter(r,function(t){return"creative-prefetch"===Object(i.e)(t,2)[1].getAttribute("apiFramework")}),c=/src="([^"]+)/gi,d=Object(g.a)(function(t,e){return a.map(e,function(e){var n=e.vendor,i=e.url;return{vendor:n,url:b.h(t)(i)}})}),l=Object(f.a)(d(this.getVastMacros()),d(this.getFunnelMacros())),p=a.map(o,function(t){var n=Object(i.e)(t,2),r=n[0],o=n[1];return h.b.fromNullable(o.textContent).map(s.trim).map(function(t){for(var n,i=[];null!==(n=c.exec(t));)i.push(n[1]);var o="DoubleVerify"===r?a.map(i,function(t){return u.t(t,"btreg",e.container.getAttribute("id"))}):i;return a.map(o,function(t){return{vendor:r,url:t}})}).map(l)});return a.reduce(p,function(t,e){return e.map(function(e){return t.concat(e)}).getOrValue(t)},[])},t.prototype.prefetchAdVerificationScripts=function(t){a.forEach(t,function(t){return(new Image).src=t})},t.prototype.initMoatTracking=function(e){var n=this,i=this.vpaidAd.getAdDuration();i<=0&&(i=this.linearAd.duration);var r=d.a(e.content),o=[],u={adData:{ids:r,duration:i,url:this.mediaFile.url},dispatchEvent:function(t){if(this.sendEvent){var e=t;o&&(o.push(t),e=o,o=null),this.sendEvent(e)}else o.push(t)}};this.logger.debug("intialized MOAT with",u.adData);var l=["AdStarted","AdImpression","AdStopped","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdPaused","AdPlaying","AdVolumeChange"];a.forEach(l,function(t){n.vpaidAd.subscribe(function(){var e={type:t,adVolume:n.vpaidAd.getAdVolume()};n.logger.debug("sending MOAT event",e),u.dispatchEvent(e)},t)});var p="_moatApi"+s.rand(8);c.getWindow(this.container)[p]=u;var h=c.getDocument(this.container).createElement("script"),f=Object(v.getProtocol)(),g="https:"===f?"z":"js";h.src=f+"//"+g+".moatads.com/"+t.MOAT_PARTNER_CODE+"/moatvideo.js#"+p,this.container.insertBefore(h,this.container.childNodes[0])},t.prototype.injectJs=function(t){var e=document.createElement("script");e.async=!0,e.src=t,document.body.appendChild(e)},t.prototype.injectIframe=function(t){var e=document.createElement("iframe");e.style.setProperty("width","10px"),e.style.setProperty("height","10px"),e.style.setProperty("position","absolute"),e.style.setProperty("left","-999em"),e.style.setProperty("top","0"),document.body.appendChild(e);var n=e.contentWindow.document;n.open(),n.write(-1===t.indexOf("<html")?"<!doctype html><html><head></head><body>"+t+"</body></html>":t),n.close()},t.MOAT_PARTNER_CODE="teads245638586802",t}()},function(t,e,n){n.d(e,"a",function(){return u});var i=n(79),r=n(9),o=n(4),a=n(7),s=n(29),c=n(8),u=function(){function t(t,e,n,i){this.container=t,this.config=e,this.vpaidAd=n,this.mediaFile=i,this.logger=new o.a("player.plugin.Responsive")}return t.prototype.init=function(){this.logger.debug("init plugin"),this.vpaidAd.subscribe(this.onVideoMetadata,s.a.AdVideoMetadata,this),this.vpaidAd.subscribe(this.onVpaidStart,c.a.AdStarted,this)},t.prototype.deinit=function(){this.logger.debug("deinit plugin"),this.vpaidAd.unsubscribe(this.onVpaidStart,c.a.AdStarted),this.vpaidAd.unsubscribe(this.onVideoMetadata,s.a.AdVideoMetadata),this.unsetResponsive()},t.prototype.resize=function(t){if(!a.isFullscreen())try{var e=r.getBoundingClientRect(this.container).width;if(e!==this.vpaidAd.getAdWidth()||t){var n=this.config.vpaidApi&&this.config.vpaidApi.getStudioData(),o=i.a.getOptimalHeight(this.mediaFile,e,!!this.metadata||!!n),s=this.vpaidAd.getAdWidth(),c=this.vpaidAd.getAdHeight();s===e&&c===o||(this.vpaidAd.resizeAd(e,o,"normal"),this.logger.debug("container width change, resize from "+s+"x"+c+" to "+e+"x"+o))}}catch(t){this.logger.error("resize throw an Exception",t),this.unsetResponsive()}},t.prototype.setResponsive=function(){var t=this;return!this.iframe&&(this.vpaidAd.subscribe(function(){t.unsetResponsive()},c.a.AdError),this.vpaidAd.subscribe(function(){t.unsetResponsive()},c.a.AdStopped),this.resize(),this.iframe=document.createElement("iframe"),this.iframe.style.setProperty("height","0"),this.iframe.style.setProperty("width","100%"),this.iframe.style.setProperty("border","none"),this.iframe.style.setProperty("margin","0"),this.iframe.style.setProperty("padding","0"),this.container.appendChild(this.iframe),this.iframe.contentWindow.document.write("<html><body></body></html>"),this.iframe.contentWindow.document.close(),this.resizeCallback=function(){return t.resize()},r.addEventListener("resize",this.iframe.contentWindow,this.resizeCallback),!0)},t.prototype.unsetResponsive=function(){try{return!!this.iframe&&(r.removeEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,!0)}catch(t){return!1}},t.prototype.onVideoMetadata=function(t){this.logger.debug("Receive metadata from video",t),t.width&&t.height&&(this.metadata=t,this.mediaFile.width=t.width,this.mediaFile.height=t.height,Math.ceil(this.vpaidAd.getAdWidth()/this.vpaidAd.getAdHeight())!==Math.ceil(t.width/t.height)&&(this.logger.debug("vpaid ratio differ from mediafile ratio, force resize !"),this.resize(!0)))},t.prototype.onVpaidStart=function(){if(!this.config.width)try{this.logger.debug("set player responsive !"),this.setResponsive()}catch(t){this.logger.error("Exception raised while trying to initialize",t)}},t}()},function(t,e,n){n.d(e,"a",function(){return A});var i=n(3),r=n(9),o=n(2),a=n(62),s=n(10),c=n(46),u=n(66),d=n(67),l=n(56),p=n(169),h=n(1),f=n(4),g=n(32),m=n(69),b=n(8),v=n(29),y=n(114),A=function(){function t(t,e,n,r,a,s,u){var d=this;this.container=t,this.config=e,this.vpaidAd=n,this.mediaFile=r,this.linearAd=a,this.trackVastEventDependencies=s,this.logger=new f.a("player.plugin.Tracker"),this.tracked={},this.trackedProgress=[],this.trackOnce=[c.a.Skip,c.a.CreativeView,c.a.Start,c.a.Impression,c.a.FirstQuartile,c.a.Midpoint,c.a.ThirdQuartile,c.a.Complete,c.a.Error],this.isMuted=!1;var l=[b.a.AdLoaded,b.a.AdStarted,b.a.AdSkipped,b.a.AdImpression,b.a.AdVideoStart,b.a.AdVideoFirstQuartile,b.a.AdVideoMidpoint,b.a.AdVideoThirdQuartile,b.a.AdVideoComplete,b.a.AdClickThru,b.a.AdUserClose],p=[b.a.AdDurationChange,b.a.AdRemainingTimeChange],g=Object.keys(b.a);for(var m in v.a)g.push(m);this.vpaidAd.subscribe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d.trackError(c.a.Error,v.a.AdRemovedHeavyAdIntervention,t)},v.a.AdRemovedHeavyAdIntervention);i.forEach(g,function(t){i.indexOf(l,t)>-1&&d.vpaidAd.subscribe(function(e){t===b.a.AdImpression?d.trackVastEventDependencies.sumologicLogger.info(t+"|"+(u?"secure":"classic"),40):d.trackVastEventDependencies.sumologicLogger.info(t+"|"+h.b.fromNullable(e).filter(o.isString).getOrValue(""),40)},t),-1===i.indexOf(p,t)&&d.vpaidAd.subscribe(function(e){void 0===e&&(e=""),d.logger.info(t+" "+e)},t)})}return t.prototype.init=function(){var t=this;this.logger.debug("init");try{this.previousRemainingTime=this.vpaidAd.getAdRemainingTime(),this.vpaidAd.subscribe(function(){return t.onTimeChange()},b.a.AdDurationChange),this.vpaidAd.subscribe(function(){return t.onTimeChange()},b.a.AdRemainingTimeChange);for(var e in this.linearAd.tracking)this.addTrackingCallback(e);this.vpaidAd.subscribe(function(){return t.onAdStarted()},b.a.AdStarted),this.vpaidAd.subscribe(function(){return t.onVolumeChange()},b.a.AdVolumeChange);var n;this.vpaidAd.subscribe(function(){var e=t.vpaidAd.getAdExpanded();!n&&e?(t.trackVastEvent(c.a.Fullscreen),t.trackVastEvent(c.a.Expand)):n&&!e&&(t.trackVastEvent(c.a.ExitFullscreen),t.trackVastEvent(c.a.Collapse)),n=e},b.a.AdExpandedChange)}catch(e){var i=this.trackVastEventDependencies,r=i.placementKey,o=i.sumologicLogger,p=i.wigo,f=i.logger,g=i.slotType,m=h.b.fromNullable(this.adDuration),v=Object(s.b)(m,h.d.flatMap(function(e){return Object(s.b)(t.adRemainingTime,h.b.fromNullable,h.d.map(function(t){return e-t}))}));Object(l.n)({placementKey:r,wigo:p,sumologicLogger:o,logger:f,durationPlayed:v,totalDuration:m})(u.a.Undefined,function(){return a.b.vast.trackErrorWithCause(r)(u.a.Undefined,"plugin tracker exception init",{referer:Object(l.a)(o),slotType:g,macros:[Object(d.e)(v),Object(d.d)(),Object(d.c)(t.mediaFile),Object(d.g)(t.mediaFile),Object(d.h)(h.a)]})})}},t.prototype.deinit=function(){this.logger.debug("deinit")},t.prototype.onTimeChange=function(){this.adDuration=this.vpaidAd.getAdDuration(),this.adRemainingTime=this.vpaidAd.getAdRemainingTime(),this.previousRemainingTime<0&&(this.previousRemainingTime=this.adRemainingTime)},t.prototype.onVolumeChange=function(){this.isMuted&&this.vpaidAd.getAdVolume()>0?this.trackVpaidEvent(c.a.Unmute,b.a.AdVolumeChange):this.isMuted||0!==this.vpaidAd.getAdVolume()||this.trackVpaidEvent(c.a.Mute,b.a.AdVolumeChange),this.isMuted=!this.vpaidAd.getAdVolume()},t.prototype.onAdStarted=function(){this.isMuted=!this.vpaidAd.getAdVolume()},t.prototype.addTrackingCallback=function(t){var e=this,n=p.a[t]||p.b[t];this.vpaidAd.subscribe(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];t===c.a.Error?e.trackError(c.a.Error,b.a.AdError,i):e.trackVpaidEvent(t,n)},n)},t.prototype.findExceptionMsg=function(t){for(var e in g.b)if(g.b[e].id===t)return g.b[e].message},t.prototype.trackEvent=function(t,e,n,o){var p,f=this;void 0===o&&(o=h.a);var g=Object(r.getBoundingClientRect)(this.container).height,b=h.b.fromNullable(null===(p=this.config.formatConfig)||void 0===p?void 0:p.threshold).map(function(t){return t.get()}).getOrValue(100),v=Object(m.f)(this.container,g,b);e=e.filter(function(t){return!isNaN(t)}).orElse(function(){return h.b.fromNullable(f.adDuration-f.adRemainingTime||0)});var A=Math.floor(e.getOrValue(0));if(t===c.a.Progress){if(this.trackedProgress[A])return;if(this.previousRemainingTime===this.adRemainingTime)return;this.previousRemainingTime=this.adRemainingTime}switch(t){case c.a.Start:this.tracked[c.a.Impression]||this.trackVastEvent(c.a.Impression);break;case c.a.Complete:this.trackProgress(A+1);case c.a.FirstQuartile:case c.a.Midpoint:case c.a.ThirdQuartile:this.tracked[c.a.Start]||this.trackVastEvent(c.a.Start);break;case c.a.Progress:this.trackedProgress[A]=!0;var w=A-1;w>0&&!this.trackedProgress[w]&&(this.logger.debug("track missing previous progress "+w),this.trackProgress(w));break;case c.a.Mute:if(!this.tracked[c.a.Impression])return}if(!i.includes(this.trackOnce,t)||!this.tracked[t]){if(Object(i.isMemberOf)(c.b)(t)&&t!==c.a.Billable){var O=[Object(d.e)(e),Object(d.d)(),Object(d.c)(this.mediaFile),Object(d.g)(this.mediaFile),Object(d.h)(h.b.fromNullable(v)),Object(d.f)(this.trackVastEventDependencies.sumologicLogger)],E={referer:Object(l.a)(this.trackVastEventDependencies.sumologicLogger),slotType:this.trackVastEventDependencies.slotType,macros:O},C=this.trackVastEventDependencies,I=C.placementKey,S=C.wigo,T=C.logger,j={placementKey:I,wigo:S,logger:T,durationPlayed:e,totalDuration:h.b.fromNullable(this.adDuration),sumologicLogger:this.trackVastEventDependencies.sumologicLogger};if(t===c.a.Progress)A>0&&Object(l.y)(j)(t,function(){return 5!==A||477289!==f.trackVastEventDependencies.sumologicLogger.insertionId.getOrValue(0)||i.some(Object(y.e)(I).trackedEvents,function(t){return t.event===c.a.Billable})||S.forceReportWithKey("billable-new"),a.b.vast.trackProgress(I)(A,E)});else if(t===c.a.Error){var k=Object(s.b)(n,h.d.map(function(t){return t.getId()}),h.d.filter(Object(i.isMemberOf)(u.b)),h.d.getOrValue(u.a.Undefined));Object(l.n)(j)(k,function(){return Object(s.b)(o.map(function(t){return"HeavyAdIntervention "+t.toString()}),h.d.fold(function(){return a.b.vast.trackError(I)(k,E)},function(t){return a.b.vast.trackErrorWithCause(I)(k,t,E)}))})}else Object(l.y)(j)(t,function(){return a.b.vast.track(I)(t,E)})}else this.logger.error("Could not track unsupported VAST event: "+t+". Supported names: "+c.b.join(", ")+"."),this.trackVastEventDependencies.sumologicLogger.error("cant-track-vast-event "+t);this.tracked[t]=!0}},t.prototype.trackVastEvent=function(t){this.trackEvent(t,h.b.empty(),h.b.empty())},t.prototype.trackVpaidEvent=function(t,e){this.trackEvent(t,h.b.empty(),h.b.empty())},t.prototype.trackProgress=function(t){this.trackEvent(c.a.Progress,h.b.fromNullable(t),h.b.empty())},t.prototype.trackError=function(t,e,n){var i=n&&n[1]&&"number"==typeof n[1]&&!isNaN(n[1])?n[1]:g.b.GENERAL.id,r=n&&n[0]||this.findExceptionMsg(i);this.trackEvent(t,h.b.empty(),h.b.fromNullable(g.a.get(i,"AdError: "+r)),e===v.a.AdRemovedHeavyAdIntervention?h.b.fromNullable(n[0]):h.a)},t}()},function(t,e,n){n.d(e,"a",function(){return d});var i=n(1),r=n(62),o=n(46),a=n(67),s=n(56),c=n(25),u=n(185),d=function(){function t(t,e,n,i,r,o){this.config=e,this.vpaidAd=n,this.linearAd=r,this.trackVastEventDependencies=o}return t.prototype.init=function(){this.vpaidAd.subscribe(this.onClickAdChoices,c.a.AdChoicesClickRequest,this)},t.prototype.deinit=function(){this.vpaidAd.unsubscribe(this.onClickAdChoices,c.a.AdChoicesClickRequest)},t.prototype.onClickAdChoices=function(){var t=this;Object(s.y)({placementKey:this.trackVastEventDependencies.placementKey,sumologicLogger:this.trackVastEventDependencies.sumologicLogger,wigo:this.trackVastEventDependencies.wigo,logger:this.trackVastEventDependencies.logger,durationPlayed:i.a,totalDuration:i.a})(o.a.ClickIcon,function(){return r.b.vast.track(t.trackVastEventDependencies.placementKey)(o.a.ClickIcon,{referer:Object(s.a)(t.trackVastEventDependencies.sumologicLogger),slotType:t.trackVastEventDependencies.slotType,macros:Object(a.a)()})}),window.open(Object(u.b)(this.linearAd),"_blank")},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=(n(209),n(125)),r=window.teads||{};r.vpaid=r.vpaid||{},r.vpaid.PostMessageServer=i.a,window.teads=r},function(t,e,n){var i=n(0),r=n(12),o=n(53),a=n(2),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Pid")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){if(!Object(a.isNumber)(this.value)||this.value<=0)throw new o.a(o.a.OPTION_PID_INVALID)},e.prototype.get=function(){return this.value},e.DEFAULT=null,e}(r.a);e.a=s},,,,,,,,,,,,,,,,,,,,function(t,e,n){function i(t,e){var n={settings:{}};return!e.type||!e.content?(n.type=t.type,n.content=t.content):(n.type=e.type,n.content=e.content),n.settings=t.settings,n.insertion_id=t.insertion_id,n.connection_id=t.connection_id,n}function r(t){var e={status:!0,reasons:[]},n=t.parentWindow.getWindow();a.videoSupport(n.document)||s.b(10)||(e.status=!1,e.reasons.push(o.e.incompatibility.video));var i=a.isMobile()&&t.isMobile(),r=a.isTablet()&&t.isTablet(),u=a.isDesktop()&&t.isDesktop();return i||r||u||(e.status=!1,e.reasons.push(o.e.incompatibility.context)),c.c(a.getIEVersion(),"8")&&(e.status=!1,e.reasons.push(o.e.incompatibility.browser)),e}e.b=i,e.a=r;var o=n(35),a=n(5),s=n(70),c=n(24)},function(t,e,n){function i(t){return Object(y.hasOwnProperty)(t,"viewerId")&&Object(s.a)(t.viewerId)}n.d(e,"b",function(){return M}),n.d(e,"a",function(){return U});var r=n(0),o=n(3),a=n(130),s=n(203),c=n(6),u=n(1),d=n(10),l=n(7),p=n(19),h=n(4),f=n(52),g=n(28),m=n(24),b=n(20),v=n(16),y=n(2),A=n(80),w=n(18),O=n(180),E=n(5),C=n(364),I=n(78),S=n(183),T=n(366),j=n(481),k=n(488),P=n(367),L=n(489),V=n(490),x=n(368),_=n(56),N=n(173),D=n(85),R=n(129),M=function(t){return t.match({some:function(t){return{us_privacy:t}},none:function(){return{}}})},F=function(t){var e,n;return u.b.fromPredicate(null===(n=null===(e=null===t||void 0===t?void 0:t.settings)||void 0===e?void 0:e.values)||void 0===n?void 0:n.placementId,y.isNumber)},U=function(){function t(t,e,n,i,r,o,a,s,c){var d=this;this.placementAd=t,this.pageId=e,this.initialAuctionId=n,this.initialViewerId=i,this.markId=o,this.sumologicLogger=a,this.done=c,this.logger=new h.a("helper.RASRequest"),this.timeoutFired=!1,this.requestIsSent=!1,this.rasRequestIsInitialized=!1,this.sendAfterInit=!1,this.gdprIabObject=u.a,this.uspString=u.a,this.fraudReason=u.b.empty(),this.adCallTrackingUrl=u.b.empty(),this.rasAuctionId=u.a,this.viewerId=u.a,this.mrgReason=u.a,Object(T.a)(t.ad).filter(function(t){return"debugFormat"!==t}).match({some:function(){return d.onHeaderBidding(o)},none:function(){return d.onNonHeaderBidding(s,o,r)}})}return t.prototype.initRequest=function(t,e,n){var i=this;if(this.rasRequestIsInitialized)return void this.logger.warn("Could not initialize RASRequest instance as it is already initialized.");if(Object(b.i)({name:"g",id:this.markId}),!this.placementAd.ad&&w.b.isRichAdServerRequestEnabled){var o=Object(r.a)(Object(r.a)({},e),{gdpr_iab:Object(O.b)(e.gdpr_iab)}),a=E.getClientSideDeviceProperties(),s=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({page:encodeURIComponent(p.b(o))},this.initialAuctionId.map(function(t){return{auctid:t}}).getOrValue({})),n?{hdlsb:""}:{}),{formatVersion:encodeURIComponent("2.22.61"),env:E.getEnv()}),a.map(encodeURIComponent).map(function(t){return{clientSideDeviceProperties:t}}).getOrValue({}));E.getNetworkBandwidthInMbps().forEach(function(t){return s.netBw=t}),Object(b.g)().forEach(function(t){return s.ttfb=t}),this.rasUrl=Object(v.c)(t,s),this.request=g.a(),this.request.open("GET",this.rasUrl,!0),this.request.withCredentials=!0,this.request.timeout=w.b.richAdServerRequestTimeout,this.request.setRequestHeader&&this.request.setRequestHeader("Accept","application/json; charset=UTF-8"),this.request.onload=function(){i.onload()},this.request.onerror=function(t){void 0===t&&(t={}),i.onerror(t)},this.request.ontimeout=function(){return i.ontimeout()},this.timeoutLatencyRAS=setTimeout(function(){return i.ontimeout()},w.b.richAdServerRequestTimeout+10)}this.rasRequestIsInitialized=!0},t.prototype.send=function(){var t=this;if(!this.rasRequestIsInitialized)return this.sendAfterInit=!0,void this.logger.debug("Could not send ad request as RASRequest instance is not initialized yet.");var e=function(){if(t.placementAd.ad)Object(b.i)({name:"j",id:t.markId}),t.next();else if(w.b.isRichAdServerRequestEnabled)t.requestIsSent||(Object(b.i)({name:"h",id:t.markId}),t.request.send()),t.requestIsSent=!0;else{Object(b.i)({name:"j",id:t.markId});o.forEach(window._tta[t.pageId],function(e){F(e).match({some:function(n){t.placementAd.placement.pid===n&&(t.placementAd.ad=e)},none:function(){t.logger.warn("Trying to process _tta object but could not find the related _ttp object (PID: undefined)",t.placementAd.placement,e)}})}),t.next()}};this.getAdPromiseFromWigo().match({some:function(n){return n.then(function(e){t.logger.warn("ad has been successfully loaded from a WIGO report",e),t.placementAd.ad=e,A.b.isCeltraParameterSet(Object(v.h)())&&(t.placementAd.ad.portfolio_item_id=36),t.placementAd.placement.wigo.enableWigo("enableFromReport"),t.next()}).catch(function(n){t.logger.error("ad Promise from WIGO failed",n),e()})},none:e})},t.prototype.onHeaderBidding=function(t){var e,n;this.logger.debug("Header Bidding detected: did not try to retrieve CCPA US Privacy string and GDPR consent string as it's been done in the Prebid adapter."),this.sumologicLogger.info("ccpa-iab-consent "+u.b.fromNullable(null===(e=this.placementAd.ad)||void 0===e?void 0:e.ccpaIab).match({some:function(){return"1"},none:function(){return"0"}}),40),this.sumologicLogger.info("gdpr-iab-consent "+u.b.fromNullable(null===(n=this.placementAd.ad)||void 0===n?void 0:n.gdprIab).match({some:function(){return"1"},none:function(){return"0"}}),40),Object(b.i)({name:"f",id:t}),Object(b.i)({name:"g",id:t}),this.rasRequestIsInitialized=!0,this.send()},t.prototype.onNonHeaderBidding=function(t,e,n){var i=this,r=this.fetchUSPrivacyString(50);this.fetchGdprConsent().then(function(e){r.then(function(r){return i.makeAdRequest(t,n)(e,r)})})},t.prototype.fetchUSPrivacyString=function(t){var e=this;return c.a.tryCatch(function(){var n=e.sumologicLogger,i=V.a.matcher({onLocatorNotFound:function(){return e.logger.debug("No parent window with a child iframe named __uspapiLocator was found"),n.info("ccpa-iab-consent 0 2",10),u.a},onTimeout:function(){return e.logger.debug("Timeout reached when trying to retrieve US Privacy string via iframes"),n.info("ccpa-iab-consent 0 3",10),u.a},onUnsuccessful:function(){return e.logger.debug("Could not successfully retrieve US Privacy string via iframes"),n.info("ccpa-iab-consent 0 4",10),u.a},onMalformedResponse:function(){return e.logger.debug("Got a malformed response for US Privacy string via iframes"),n.info("ccpa-iab-consent 0 5",10),u.a},onSuccessful:function(t){return e.logger.debug("Got a US Privacy string via iframes: "+t),n.info("ccpa-iab-consent 1 1",10),Object(u.c)(t)}}),r=V.b.matcher({onTimeout:function(){return e.logger.debug("Timeout reached when trying to retrieve US Privacy string via iframes"),n.info("ccpa-iab-consent 0 3",10),u.a},onLocatorNotFound:function(){return e.logger.debug("__uspapi value provided is not a function, fallback to iframe mechanism",window.__uspapi),n.info("ccpa-iab-consent 0 2",10),u.a},onUnsuccessful:function(){return e.logger.warn("Calling __uspapi with getUSPData command was unsuccessful"),n.info("ccpa-iab-consent 0 0",10),u.a},onSuccessful:function(t){return e.logger.debug("Got a US Privacy string by calling __upsapi: "+t),n.info("ccpa-iab-consent 1 0",10),Object(u.c)(t)}});return Object(l.isInCrossDomainIframe)(document.body)||Object(l.isChildWindow)(window)?V.a.getUspData(window,t,Object(u.c)(n)).then(i):V.b.getUspData(window.__uspapi,t).then(r)}).fold(function(t){return N.a.error("ccpa-error 0 "+t,1),f.a.resolve(u.a)},function(t){return t})},t.prototype.fetchGdprConsent=function(){if(E.isAmp())return f.a.resolve(Object(R.c)());var t=new S.a(Object(l.findTopWindow)(window.document.body),this.pageId),e=Object(l.isInCrossDomainIframe)(document.body)||Object(l.isChildWindow)(window),n=t.requestConsentString();return function(){var t=e?function(t){return u.b.fromNullable(t.frames.__tcfapiLocator).nonEmpty()}:function(t){return u.b.fromNullable(t.__tcfapi).nonEmpty()},n=function(t){var e=t.consent;return{status:t.status,consent:e,reason:t.reason,apiVersion:t.apiVersion,cmpId:t.cmpId}};return Object(k.a)(t,window).fold(function(t){return new f.a(function(e){return e(Object(P.d)(t,220,22,u.a))}).then(n)},function(t){if(e){var i=Object(L.a)(t,window);return Object(j.a)(function(){return i},250).then(n)}return Object(j.a)(function(){return window.__tcfapi},250).then(n)})}().then(function(t){return 22===t.status?f.a.reject():(S.a.updateTeadsGDPRPayload(t),t)}).catch(function(t){return n.then(function(t){return 22===t.status&&(t.apiVersion=u.a),S.a.updateTeadsGDPRPayload(t),t})})},t.prototype.makeAdRequest=function(t,e){var n=this;return function(i,o){var a=i.status,s=i.consent;Object(_.l)({placementKey:n.placementAd.placement.key,gdprStatus:a,gdprConsent:s}),n.gdprIabObject=u.b.fromNullable(i),n.uspString=o;var c=Object(r.a)({id:n.pageId,placements:[n.placementAd.report],gdpr_iab:i},M(o));n.initRequest(t,c,e),n.sendAfterInit&&!n.requestIsSent&&n.send(),n.sumologicLogger.info("gdpr-iab-consent "+(i.consent?"1":"0"),40)}},t.prototype.getAdPromiseFromWigo=function(){var t=this;return u.b.fromNullable(A.b.reportPromise).map(function(e){return e.then(function(e){return t.getAdFromWigoReport(e).match({some:function(t){return f.a.resolve(t)},none:function(){return f.a.reject("ad not available in the report")}})})})},t.prototype.getAdFromWigoReport=function(t){var e=this;return u.b.fromNullable(t.steps).map(function(t){return o.filter(t,function(t){return 0===t.step&&1===t.substep})}).filter(o.isNotEmpty).map(function(t){return t.pop()}).flatMap(function(t){return c.a.tryCatch(function(){return Object(y.isString)(t.info.store)?p.a(t.info.store):t.info.store}).toOption()}).flatMap(function(t){return u.b.fromNullable(t.tta)}).map(function(t){return t[e.pageId]&&Object(y.isArray)(t[e.pageId])&&(t=t[e.pageId].shift()),t.handled=!1,t})},t.prototype.next=function(){var t=this;this.timeoutLatencyRAS&&clearTimeout(this.timeoutLatencyRAS);var e={adCallTrackingUrl:this.adCallTrackingUrl,auctionId:this.rasAuctionId.orElse(function(){return t.initialAuctionId}),viewerId:this.viewerId.orElse(function(){return t.initialViewerId}),response:Object(d.b)(this.fraudReason,u.d.fold(function(){return c.a.of(t.placementAd)},c.c))};this.done(e,this.gdprIabObject,this.uspString,this.mrgReason)},t.prototype.ontimeout=function(){this.timeoutFired||(this.timeoutFired=!0,this.logger.warn("RAS request: timeout"),this.placementAd.placement&&this.placementAd.report.validity.status&&Object(_.i)(D.a.AdNotAvailableNetworkError)({placementKey:this.placementAd.placement.key,sumologicLogger:this.sumologicLogger,wigo:this.placementAd.placement.wigo,logger:this.logger,queryParameters:{env:E.getEnv(),pageId:this.placementAd.placement.pageId.toString(),pid:this.placementAd.placement.pid.toString(),auctid:this.rasAuctionId.getOrValue(Object(a.b)("")),vid:this.viewerId.getOrValue(Object(s.b)("")),slot:this.placementAd.placement.slotType}}),this.mrgReason=Object(u.c)("18"),this.next())},t.prototype.onload=function(){var t=this;Object(b.i)({name:"i",id:this.markId}),this.logger.info("Successful request",this.rasUrl);var e,n={placementKey:this.placementAd.placement.key,sumologicLogger:this.sumologicLogger,wigo:this.placementAd.placement.wigo,logger:this.logger},l={env:E.getEnv(),pageId:this.placementAd.placement.pageId.toString(),pid:this.placementAd.placement.pid.toString(),auctid:this.rasAuctionId.getOrValue(Object(a.b)("")),vid:this.viewerId.getOrValue(Object(s.b)("")),slot:this.placementAd.placement.slotType};try{e=m.c(E.getIEVersion(),"9")?this.request.responseText:this.request.response,Object(y.isString)(e)&&(e=JSON.parse(e)),this.logger.info("RAS response",e),Array.isArray(e.ads)||(this.sumologicLogger.error("ras-request-ads-not-array"),this.placementAd.placement&&this.placementAd.report.validity.status&&Object(_.b)(Object(r.a)(Object(r.a)({},n),{queryParameters:l})),e.ads=[],this.mrgReason=Object(u.c)("18"),this.logger.debug("Ads property from ad response is not an array",e)),e.ads.length>1&&(this.logger.warn("Received more than one ad, WTF?"),e.ads=[e.ads[0]]),!0===e.wigoEnabled&&this.placementAd.placement.wigo.enableWigo();Object(x.a)(this.placementAd.placement.pid,e).forEach(function(e){var n=e.auctionId,i=e.adCallTrackingUrl;t.logger.debug("PID "+t.placementAd.placement.pid+" has auction id ",n),t.rasAuctionId=n,t.adCallTrackingUrl=i}),i(e)&&(this.logger.debug("Setting viewerId for PID "+this.placementAd.placement.pid+" to ",e.viewerId),this.viewerId=u.b.of(e.viewerId)),Object(o.isEmpty)(e.ads)?this.placementAd.placement&&this.placementAd.report.validity.status?Object(d.b)(u.b.fromNullable(e.noAdReason),u.d.fold(function(){t.placementAd.placement.wigo.valid(1,2,"noAd-notFilled","error"),t.logger.debug("Ads list is empty and noAdReason is missing in ad response",e)},Object(d.a)(D.l,c.f.fold(function(e){return t.logger.warn("Error while parsing noAdReason from ad response",e)},function(n){t.fraudReason=u.b.of(n),t.logger.debug("Ads list is empty and valid noAdReason was provided in ad response",e)})))):this.logger.debug("Ads list is empty and placement validity status is falsy",e.ads,this.placementAd.report.validity):F(e.ads[0]).match({some:function(n){t.placementAd.placement.pid===n?(t.placementAd.ad?t.logger.debug("The ad for the PID "+n+" has already been loaded",e.ads[0]):t.placementAd.ad=e.ads[0],t.logger.debug("Found an ad for placement "+n+" in response.ads",e.ads)):(t.mrgReason=Object(u.c)("18"),t.logger.debug("Could not find an ad for placement "+n+" in response.ads",e.ads))},none:function(){t.mrgReason=Object(u.c)("18"),t.logger.warn("Placement from ad response does not exist in the tag",t.placementAd.placement,e.ads[0])}}),window._tta&&window._tta[this.pageId]&&o.forEach(window._tta[this.pageId],function(e){F(e).match({some:function(n){t.placementAd.placement.pid===n&&(t.placementAd.ad?t.placementAd.ad=C.b(t.placementAd.ad,e):t.placementAd.ad=e)},none:function(){t.logger.warn("Trying to process _tta object but could not find the related _ttp object (PID: "+t.placementAd.placement.pid+")",t.placementAd.placement,e)}})})}catch(t){return this.sumologicLogger.error("ras-request-invalid-response "+this.pageId+" "+Object(I.a)(t)),this.placementAd.placement&&this.placementAd.report.validity.status&&Object(_.b)(Object(r.a)(Object(r.a)({},n),{queryParameters:l})),this.logger.error("Invalid response",t,e),void(this.mrgReason=Object(u.c)("18"))}this.next()},t.prototype.onerror=function(t){clearTimeout(this.timeoutLatencyRAS),this.sumologicLogger.error("ras-request-error "+this.pageId+" "+Object(I.a)(t)),this.logger.error("Request error - Status:",t.target.status);var e=this.request.status||0,n=0===e?D.a.AdNotAvailableNetworkError:D.a.AdNotAvailableServerError;this.placementAd.placement&&this.placementAd.report.validity.status&&Object(_.i)(n)({placementKey:this.placementAd.placement.key,sumologicLogger:this.sumologicLogger,wigo:this.placementAd.placement.wigo,logger:this.logger,queryParameters:{env:E.getEnv(),pageId:this.placementAd.placement.pageId.toString(),pid:this.placementAd.placement.pid.toString(),auctid:this.rasAuctionId.getOrValue(Object(a.b)("")),vid:this.viewerId.getOrValue(Object(s.b)("")),slot:this.placementAd.placement.slotType}}),this.mrgReason=Object(u.c)("18"),this.next()},t}()},function(t,e,n){function i(t){return r.b.fromNullable(null===t||void 0===t?void 0:t.headerBiddingProvider).filter(o.isString)}e.a=i;var r=n(1),o=n(2)},function(t,e,n){n.d(e,"f",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"d",function(){return d});var i=n(1),r=function(t,e,n){return{type:"GetTCData",consent:t,reason:l(i.b.fromNullable(n)),status:12,apiVersion:Object(i.c)(2),cmpId:Object(i.c)(e)}},o=function(t){return{type:"GetTCDataDoesNotApply",reason:0,status:0,consent:"",apiVersion:Object(i.c)(2),cmpId:Object(i.c)(t)}},a=function(t,e,n){return{type:"AddEventListener",consent:t,reason:l(i.b.fromNullable(n)),status:12,apiVersion:Object(i.c)(2),cmpId:Object(i.c)(e)}},s=function(t){return{type:"AddEventListenerDoesNotApply",reason:0,status:0,consent:"",apiVersion:Object(i.c)(2),cmpId:Object(i.c)(t)}},c=function(){return{type:"AddEventListenerUnknown",reason:250,status:25,consent:"",apiVersion:Object(i.c)(2),cmpId:i.a}},u=function(){return{type:"Timeout",reason:230,status:23,consent:"",apiVersion:Object(i.c)(2),cmpId:i.a}},d=function(t,e,n,r){return void 0===r&&(r=Object(i.c)(2)),{type:"Error",message:t,reason:e,status:n,consent:"",apiVersion:r,cmpId:i.a}},l=function(t){return t.map(function(t){switch(t){case"cmpuishown":return 121;case"tcloaded":return 126;case"useractioncomplete":return 125;default:return 120}}).getOrValue(120)}},function(t,e,n){n.d(e,"a",function(){return s});var i=n(130),r=n(22),o=n(1),a=n(2),s=Object(r.a)(function(t,e){if(Object(a.hasOwnProperty)(e,"placementMetadata")){var n=e.placementMetadata;if(Object(a.isObject)(n)&&Object(a.isObject)(n[t])){var r=n[t],s=r.adCallTrackingUrl,c=r.auctionId;return Object(o.c)({adCallTrackingUrl:o.b.fromNullable(s).filter(a.isString),auctionId:o.b.fromNullable(c).filter(i.a)})}}return o.a})},function(t,e,n){var i=n(0),r=n(494),o=n(370),a=n(74),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="inread",e}return Object(i.c)(e,t),e.prototype.checkSlot=function(){var t=this;return Object(a.d)(this,this.wigo).fold(function(t){return{status:!1,reasons:[t.reason]}},function(e){var n=e.slot;return t.electedSlot=n,{status:!0,reasons:[]}})},e.prototype.getElectedSlot=function(){return this.electedSlot},e.prototype.initDom=function(t){var e=t.getElement(),n=this.parentContainer;return"PR"!==e.nodeName&&"BR"!==e.nodeName||n.style.setProperty("margin","10px 0"),Object(o.a)(e,this.parentContainer,this.placementConfig.insertInside.isEnabled(),this.placementConfig.insertBefore.isEnabled()),n},e}(r.a);e.a=s},function(t,e,n){n.d(e,"a",function(){return i});var i=function(t,e,n,i){n?i&&t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e):i&&t.parentNode?t.parentNode.insertBefore(e,t):t.parentNode&&t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.appendChild(e)}},function(t,e,n){n.d(e,"a",function(){return o});var i=n(4),r=n(9),o=function(){function t(t){this.win=t,this.logger=new i.a("helper.SmartSlot")}return t.findArticle=function(e,n,i,o){i.length=0,i.currentScore=0,i.childrenScore=0,i.isOverMinimumWidth=!1;var a=e.innerText||e.textContent||e.nodeValue,s=e.nodeName.toUpperCase();if(a&&(3===e.nodeType||t.textNodes[s]))i.length=a.replace(/\s+/g," ").length;else if(e===n.document.body||1===e.nodeType&&t.nodeScores[s]){for(var c=0,u=0,d=0,l=e.childNodes.length;d<l;d++){var p=t.findArticle(e.childNodes[d],n,i);c+=p.length,u+=p.currentScore,(p.isOverMinimumWidth||r.getSize(e).width>=t.MINIMUM_WIDTH)&&(i.isOverMinimumWidth=!0)}i.currentScore=c,i.childrenScore=u}if(i.childrenScore&&i.isOverMinimumWidth&&i.childrenScore>t.MINIMUM_CHARS){for(var h=t.nodeScores[s]||0,f=e.className.split(" "),g=1,m=void 0,d=0,b=f.length;d<b;d++)m=f[d].replace(/^\s+|\s+$/g,""),g+=t.classBonuses[m]||0;var v=1;for(var y in t.attributeBonuses)if(t.attributeBonuses.hasOwnProperty(y)){var A=t.attributeBonuses[y],w=void 0===A.value&&void 0!==e.getAttribute(y),O=A.value===e.getAttribute(y);(w||O)&&(v+=A.bonus||0)}var E=i.childrenScore*h*g*v;E>i.article.score&&(i.article.score=E,i.article.node=e,o&&o.debug("found a better node scoring ",i.article.score,i.article.node))}return i},t.prototype.find=function(){this.logger.info("Auto slot is finding a slot");var e={length:0,currentScore:0,childrenScore:0,isOverMinimumWidth:!1,article:{score:0,node:null}},n=t.findArticle(this.win.document.body,this.win,e,this.logger);return n.article&&n.article.node?this.findParagraph(n.article.node):null},t.prototype.findParagraph=function(t){for(var e,n=["P","DIV"],i=0;i<n.length&&(e=t.getElementsByTagName(n[i]),!e.length);i++);return e},t.MINIMUM_SCORE=5e3,t.MINIMUM_CHARS=500,t.MINIMUM_WIDTH=200,t.nodeScores={DIV:10,P:4,ARTICLE:20,SECTION:5,SPAN:2,FORM:4,STRONG:2,EM:3,B:1,I:1,U:1,MAIN:2},t.textNodes={SPAN:!0,STRONG:!0,EM:!0,B:!0,I:!0,U:!0},t.classBonuses={article:4,"ob-text":6,"ob-section-html":4,contenuArticle:6},t.attributeBonuses={itemprop:{value:"articleBody",bonus:1e3}},t}()},function(t,e,n){function i(t,e){if(void 0===e&&(e=window),!t)return!1;var n,i=!1;if("img"===t.tagName.toLowerCase()?i=u([t]):(n=h.querySelectorAll("img",e,t),i=u(n)),!i){var r=d(t);r&&("img"===r.tagName.toLowerCase()?i=u([r]):(n=h.querySelectorAll("img",e,r),i=n.length>0&&u(n)))}if(!i){var o=l(t);o&&("img"===o.tagName.toLowerCase()?i=u([o]):(n=h.querySelectorAll("img",e,o),i=n.length>0&&u(n)))}return i}function r(t,e){if(void 0===e&&(e=window),!t)return!1;var n=o(t,e);if(!n){var i=d(t);i&&(n=o(i,e))}if(!n){var r=l(t);r&&(n=o(r,e))}return n}function o(t,e){void 0===e&&(e=window);var n=["video","object","embed"],i=p.includes(n,t.tagName.toLowerCase());if(!i){var r=t.getAttribute("src");i=r&&c(r)}if(i||(i=h.querySelectorAll("video",e,t).length>0),i||(i=h.querySelectorAll("object",e,t).length>0),!i){var o=h.querySelectorAll("[src]",e,t),a=p.map(o,function(t){return t.getAttribute("src")}),s=function(t){return c(t)};i=p.filter(a,s).length>0}return i}function a(t,e){void 0===e&&(e=window);var n=null,i={length:0,currentScore:0,childrenScore:0,isOverMinimumWidth:!1,article:{score:0,node:null}},r=f.a.findArticle(e.document.body,e,i);return r&&r.article&&r.article.node&&(n=s(t,r.article.node,0)),n||(n=t.parentElement),o(n,e)}function s(t,e,n){if(t&&10!==n){var i=t.parentElement;return i===e?i:s(i,e,n+1)}}function c(t){return/youtube|youtu\.be|dailymotion|day\.ly|vimeo|instagram|vine-videos/i.test(t)}function u(t){void 0===t&&(t=[]);var e=p.map(t,function(t){return h.getSize(t).width}),n=function(t){return t>g};return p.filter(e,n).length>0}function d(t,e){if(void 0===e&&(e=0),!t||e===m)return t;var n=t.previousElementSibling;return n&&!h.isEmpty(n)?n:d(n,e+1)}function l(t,e){if(void 0===e&&(e=0),!t||e===m)return t;var n=t.nextElementSibling;return n&&!h.isEmpty(n)?n:l(n,e+1)}e.a=i,e.b=r,e.c=a;var p=n(3),h=n(9),f=n(371),g=75,m=3},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"ImageFilter")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.VALUES={DISABLED:"disabled",SLOT:"slot"},e.DEFAULT=e.VALUES.DISABLED,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"VideoFilter")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.VALUES={DISABLED:"disabled",ARTICLE:"article",SLOT:"slot"},e.DEFAULT=e.VALUES.DISABLED,e}(r.a);e.a=a},function(t,e,n){function i(t){var e=t.ttpObject,n=t.pageInstance;return Object(b.i)({name:"b"}),f.a.tryCatch(function(){return e.filter(o).match({some:function(t){return m.c(P(n),t)},none:function(){return k.warn("The provided ttp object is not valid",e)}})})}function r(t){t.forEach(function(t){for(var e in t)t.hasOwnProperty(e)&&Object(c.forEach)(t[e],function(t){return t.launched=!1})})}function o(t){return Object(v.isObject)(t)}function a(t){return C.a===t||0===C.a||0===t}function s(t){return Object(l.b)(Object(v.isString)(t)?parseInt(t,10):t)}e.a=i,e.b=r;var c=n(3),u=n(53),d=n(130),l=n(139),p=n(22),h=n(1),f=n(6),g=n(4),m=n(41),b=n(20),v=n(2),y=n(68),A=n(80),w=n(18),O=n(42),E=n(78),C=n(221),I=n(344),S=n(376),T=n(62),j=n(56),k=new g.a("TtpHandler"),P=Object(p.a)(function(t,e,n){var i=s(e);if(!a(i))throw O.a.error("multi-page "+C.a+" "+i+" "+Object(c.map)(n,function(t){return t.pid}).join(";")),new u.a(u.a.MULTIPLE_PAGE_PROCESS);c.forEach(n,L(t,i)),Object(C.f)(C.a||i)}),L=Object(p.a)(function(t,e,n){f.a.tryCatch(function(){return new I.a(n.pid)}).map(function(t){return t.get()}).fold(function(t){k.warn("Invalid placement ID value provided",n.pid,n,t)},function(i){var r=Object(b.b)(e,i);Object(b.i)({name:"c",id:r});var o=O.a.copy({collectorUrl:"https://s8t.teads.tv/sumo/receiver/v1/http/ZaVnC4dhaV3tMuL-jxvu514sKTR1JLPJH0zZLzvxn3qMwWPdO_mBRbSGTyZgi2P4CqAJ4tfCX6IriPgecDkMFRxDm1GAGUben7xo9S92iY-h9z-o4eCwqg==",placementId:Object(h.c)(i)}),a=Object(y.getUuid)(),s=a.toOption().map(d.b),c=new A.b,u=Object(S.a)({pageId:e,placementId:n.pid,pageIndex:0,auctionId:s,headerBiddingProvider:h.a,sumologicLogger:o});a.tapLeft(function(t){o.error("limitedCapabilities "+Object(E.a)(t)),Object(j.r)({placementKey:Object(T.a)(e,i,0),sumologicLogger:o,wigo:c,logger:k,headerBiddingProvider:h.a,viewerId:h.a,pageId:e,placementId:i,auctionId:s})}),t.placementAd=t.checkPlacement({rawPlacement:n,pageId:e,placementId:i,pageIndex:0,auctionId:s,wigo:c,sumologicLogger:o,headerBiddingProvider:h.a,adSettings:h.a}),t.placementAd&&(Object(b.i)({name:"e",id:r}),t.placementAd=t.checkSlot({placementAd:t.placementAd,wigo:c,auctionId:s,sumologicLogger:o,hbSlotAvailableTrackUrl:h.a,placementIsFirst:!0,adSettings:h.a}),t.placementAd&&t.callRAS({placementAd:t.placementAd,auctionId:s,viewerId:h.a,sumologicLogger:o,browserIsHeadless:u,onRASResponse:function(t){Object(b.i)({name:"k",id:r}),o.info(Object(b.e)("ttp",r),w.b.isQA?1:0)},markId:r,tagManagerPackage:h.a}))})})},function(t,e,n){n.d(e,"a",function(){return p});var i=n(5),r=n(130),o=n(1),a=n(7),s=n(16),c=n(18),u=n(62),d=n(56),l=n(85),p=function(t){var e=t.pageId,n=t.placementId,p=t.pageIndex,f=t.auctionId,g=t.headerBiddingProvider,m=t.sumologicLogger,b=Object(a.findTopWindow)(document.body);return!Object(s.p)(b.location.hostname)&&!Object(s.k)(b.location.href)&&h().match({none:function(){return!1},some:function(t){return u.b.debug.track(Object(u.a)(e,n,p))(l.a.Bts,{baseUrl:c.b.trackingUrl,referer:Object(d.a)(m),queryParameters:{env:i.getEnv(),pageId:e.toString(),pid:n.toString(),hb_provider:g.getOrValue(""),auctid:f.getOrValue(Object(r.b)(""))}},o.b.of(t)),!1}})},h=function(){if(document.$cdc_asdjflasutopfhvcZLmcfl_)return Object(o.c)("se");if(window.__nightmare)return Object(o.c)("ni");if(window.callPhantom||window._phantom||window.phantom)return Object(o.c)("ph");try{null[0]}catch(t){if(t.stack.match("e[ualv]{5}te[panh@]{5}t[josm]{4}"))return Object(o.c)("ph")}return navigator.webdriver?Object(o.c)("wb"):navigator.userAgent.match("PhantomJS")?Object(o.c)("ph"):navigator.userAgent.match("Headless")?Object(o.c)("wb"):o.a}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(476)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(477),r=(n.n(i),n(75),n(264),n(478),n(221)),o=n(540),a=window.teads||{};a.ad=o.c.ad,a.page=o.c.page,a.TAG=o.a,a.TAG_STATUS=o.b,a.TagManager=o.c,a.helper=a.helper||{},a.placement=a.placement||{},a.pageInstance=a.pageInstance||r.d,window.teads=a,Object(r.c)(),Object(r.e)()},function(t,e){var n=window.teads||{};n.vastDomains=[],n.gdprPayload={},window.teads=n},function(t,e,n){var i=(n(343),window.teads||{});i.player=i.player||{},window.teads=i},function(t,e,n){function i(t){var e=s.isAmp()||s.isAmpSF();return p.a.tryCatch(function(){var t=e?window.context.referrer:window.top.document.referrer;return new URL(t).origin}).fold(function(e){return t.warn("Cannot get referrer",e),{}},function(t){return{pageReferrerUrl:encodeURIComponent(t)}})}n.d(e,"a",function(){return J});var r=n(0),o=n(3),a=n(61),s=n(5),c=n(9),u=n(130),d=n(203),l=n(53),p=n(6),h=n(1),f=n(10),g=n(86),m=n(4),b=n(55),v=n(20),y=n(16),A=n(2),w=n(161),O=n(219),E=n(18),C=n(35),I=n(480),S=n(180),T=n(364),j=n(78),k=n(183),P=n(365),L=n(492),V=n(207),x=n(493),_=n(369),N=n(510),D=n(536),R=n(62),M=n(56),F=n(375),U=n(538),B=n(67),W=n(85),H=n(66),z=n(73),G=n(63),q=n(539),K=function(t,e){return t.flatMap(S.a).match({some:function(t){var e=t.status,n=t.consent,i=t.reason,r=t.apiVersion,o=t.cmpId;return{status:e,consent:n,reason:i.getOrValue(240),apiVersion:r,cmpId:o}},none:function(){return e.warning("gdpr-hb-rasreq-both-empty"),{status:24,consent:"",reason:240,apiVersion:h.a,cmpId:h.a}}})},Y=function(t,e){var n=K(t,e);return k.a.updateTeadsGDPRPayload(n),n},X=function(t){return!t.status&&t.reasons.length>0},Q=function(t){var e=t.adSettings,n=t.slotIsFound,i=t.cornerPositionIsAllowed,r=t.placementIsFirst;return e.filter(function(){return n||i}).flatMap(function(t){return h.b.fromNullable(t.slotType)}).orElse(function(){return s.isAmp()||s.isIABSafeFrame()||s.isAmpSF()||n&&!i&&r?Object(h.c)("native"):n&&i&&r?Object(h.c)("polymorph"):!n&&i&&r?Object(h.c)("corner"):n&&!r?Object(h.c)("multislot"):h.a})},J=function(){function t(){this.logger=new m.a("Page"),this.hasSlider=!1}return t.getPlayerSize=function(t,e){var n={width:0,height:0};if(t){if(e.insertInside.isEnabled())n.width=t.getWidth();else if(t.getElement().parentNode){var i=c.getSize(t.getElement().parentNode);n.width=i.width}n.height=n.width/a.a}else{var r=O.a.findOptimalCreativeSizeBasedOnWindowSurface(h.a,c.getWindowSize(e.parentWindow.getWindow()));n.height=r.height,n.width=r.width}return n.width=Math.round(n.width),n.height=Math.round(n.height),n},t.prototype.checkPlacement=function(t){var e,n,i=t.rawPlacement,o=t.pageId,a=t.placementId,c=t.pageIndex,u=t.auctionId,d=t.wigo,p=t.sumologicLogger,f=t.headerBiddingProvider,g=t.adSettings,m=Object(R.a)(o,a,c);if(i.launched)return void this.logger.warn("This format has already been launched");i.launched=!0;var b={pageId:o,placementId:a,placementKey:m,sumologicLogger:p,logger:this.logger,wigo:d,auctionId:u},v=g.map(Object(A.prop)("viewerId"));f.match({none:function(){Object(M.t)(b)},some:function(t){var e=Y(g,p),n=e.status,i=e.consent;Object(M.l)({placementKey:m,gdprStatus:n,gdprConsent:i})}});var y=window._ttf&&0===o?"2":"3";p.info("tagtype "+y,40);try{var w,O=new N.a(i,f),E=i.slider?{slider:i.slider}:D.a.getPlacementSetting(O.pid);E&&(w=new D.a(E))}catch(t){return this.logger.error(t.getMessage()),t.getId()===l.a.OPTION_FORMAT_INVALID.id&&Object(M.q)(Object(r.a)(Object(r.a)({},b),{headerBiddingProvider:f,viewerId:v})),void p.error("placement-config "+o+" "+h.b.fromNullable(a).getOrNull()+" "+Object(j.a)(t))}switch(O.formatName.get()){case C.b.inread:n=new _.a(o,m,O,w,d);break;case C.b.inboard:n=new x.a(o,m,O,w,d)}if(window._ttc&&window._ttc[o]&&window._ttc[o].rpm)return p.info("ttc-rpm"),void n.placementConfig.rpmFallback.trigger();if(e={status:!0,reasons:[]},n.placementConfig.capping.reached())e.status=!1,Object(M.u)(Object(r.a)(Object(r.a)({},b),{headerBiddingProvider:f,viewerId:v}));else{var I=T.a(n.placementConfig);if(this.logger.debug("Check environment",I),!I.status&&(e.status=!1,!s.isAmp()||s.isAmp()&&O.formatName.get()===C.b.inread)){var S=I.reasons[0];S&&Object(M.v)(Object(r.a)(Object(r.a)({},b),{headerBiddingProvider:f,viewerId:v}),S),n.placementConfig.fallback.trigger()&&Object(M.o)(Object(r.a)(Object(r.a)({},b),{headerBiddingProvider:f,viewerId:v}))}}return{placement:n,report:{id:a,validity:e,player:null,slotType:"native"},ad:null}},t.prototype.checkSlot=function(e){var n=this,i=e.placementAd,o=e.wigo,a=e.sumologicLogger,s=e.auctionId,c=e.hbSlotAvailableTrackUrl,u=e.placementIsFirst,d=e.adSettings;if(i.report.validity.status){i.report.validity=i.placement.checkSlot(),this.logger.debug("Slot availability",i.report.validity);var l=i.placement.getElectedSlot();i.report.player=t.getPlayerSize(l,i.placement.placementConfig)}var p={pageId:i.placement.pageId,placementId:i.placement.pid,placementKey:i.placement.key,sumologicLogger:a,logger:this.logger,wigo:o,auctionId:s,headerBiddingProvider:i.placement.placementConfig.headerBiddingProvider,hbSlotAvailableUrl:c},h=d.map(Object(A.prop)("viewerId"));return Q({adSettings:d,slotIsFound:!X(i.report.validity),cornerPositionIsAllowed:i.placement.canEnableSlider(),placementIsFirst:u}).match({some:function(t){return"corner"===t&&(n.hasSlider=!0,i.placement.enableSlider(),i.report.validity.reasons=[],i.report.validity.status=!0),i.placement.slotType=t,i.report.slotType=t,Object(M.w)(Object(r.a)(Object(r.a)({},p),{slotType:t,viewerId:h})),i},none:function(){Object(M.s)(Object(r.a)(Object(r.a)({},p),{viewerId:h}),i.report.validity.reasons[0]),V.a()}})},t.prototype.callRAS=function(t){var e=this,n=t.placementAd,i=t.auctionId,a=t.viewerId,c=t.sumologicLogger,l=t.browserIsHeadless,m=t.onRASResponse,y=t.markId,O=t.tagManagerPackage,C=Object(q.a)(O.map(function(t){return t.tagManagerInstance})),S=n.placement.pageId;new P.a(n,S,i,a,l,y,c,this.getAdRequestUrl(S,c),function(t,i,a,l){var T=t.adCallTrackingUrl,P=t.auctionId,L=t.viewerId,x=t.response,_=function(t,e,i){n.placement.handleNoAd({markId:y,sumologicLogger:c,headerBiddingProvider:t,portfolioItemId:e,adCallTrackOpts:i,auctionId:P,viewerId:L}),O.forEach(function(t){var e=t.tagManagerInstance,i=t.onFormatLoaded,r=t.done;h.b.fromNullable(window.teads.tagManagerResourcesList).filter(A.isArray).forEach(function(t){t.push({tagManager:e,placementAd:n,vastPlayer:h.a,tagIsCampaignTag:C})}),i(!1),r()})},N=i.getOrElse(function(){return k.a.payload}),D=function(t){var e=C?"17":l.getOrValue("19"),i=T.map(function(t){return Object(G.d)(t)});return{baseUrl:Object(f.b)(i,h.d.map(Object(A.prop)("baseUrl")),h.d.getOrValue(E.b.trackingUrl)),businessIds:{insertionId:Object(f.b)(t,h.d.map(Object(A.prop)("insertionId")),h.d.filter(function(t){return t>0}),z.b),connectionId:Object(f.b)(t,h.d.map(Object(A.prop)("connectionId")),z.b)},queryParameters:Object(r.a)({env:s.getEnv(),pageId:n.placement.pageId.toString(),pid:n.placement.pid.toString(),auctid:P.getOrValue(Object(u.b)("")),vid:L.getOrValue(Object(d.b)("")),slot:n.placement.slotType,pfid:Object(f.b)(t,h.d.map(Object(A.prop)("portfolioItemId")),z.b),gdpr_api_version:Object(z.b)(N.apiVersion),gdpr_cmp_id:Object(z.b)(N.cmpId),gdpr_consent:N.consent,gdpr_status:N.status.toString(),gdpr_reason:N.reason.toString(),rpm_reason:e},Object(f.b)(i,h.d.map(Object(A.prop)("queryParameters")),h.d.getOrValue({})))}},F={placementKey:n.placement.key,sumologicLogger:c,wigo:n.placement.wigo,logger:e.logger,headerBiddingProvider:n.placement.placementConfig.headerBiddingProvider};x.fold(function(){var t=n.placement.placementConfig.headerBiddingProvider;e.hasSlider&&(Object(M.h)(Object(r.a)(Object(r.a)({},F),{headerBiddingProvider:t,baseUrlWithQueryParameters:D(h.a)})),Object(v.i)({name:"l",id:y}),c.info(Object(v.f)("ac",y),40)),_(t,h.a,D(h.a))},function(t){m(t);var n=h.b.fromNullable(t.ad),i=a.orElse(function(){return n.flatMap(I.a).map(function(t){return t.consent})});if(e.userSync(t.placement,P,L,N,i),e.hasSlider&&(Object(M.h)(Object(r.a)(Object(r.a)({},F),{headerBiddingProvider:t.placement.placementConfig.headerBiddingProvider,baseUrlWithQueryParameters:D(h.a)})),Object(v.i)({name:"l",id:y}),c.info(Object(v.f)("ac",y),40)),t.ad){if(t.ad.handled)return void e.logger.debug("Ad already handled for this placement");if(t.ad.handled=!0,t.ad.callbacks=t.placement.placementConfig.raw.callbacks,!t.placement.getElectedSlot())return void e.logger.debug("No elected slot -> not placing format");h.b.fromNullable(t.ad).filter(U.b).match({none:function(){e.logger.warn("Will not be able to create a FormatConfig, invalid ad object",t),_(t.placement.placementConfig.headerBiddingProvider,h.d.map(Object(A.prop)("portfolio_item_id"))(n),D(h.a))},some:function(i){Object(M.j)({placement:t.placement,sumologicLogger:c,logger:e.logger,auctionId:P,viewerId:L,headerBiddingProvider:t.placement.placementConfig.headerBiddingProvider,portfolioItemId:h.b.fromNullable(i.portfolio_item_id)}),Object(U.a)(S,c,i).fold(function(r){e.logger.warn("Could not instantiate FormatConfig",r,t.ad),Object(M.d)({placement:t.placement,sumologicLogger:c,logger:e.logger,auctionId:P,viewerId:L,headerBiddingProvider:t.placement.placementConfig.headerBiddingProvider,portfolioItemId:h.b.fromNullable(i.portfolio_item_id),insertionId:h.b.fromNullable(i.insertion_id),connectionId:h.b.fromNullable(i.connection_id)}),c.error("formatconfig "+W.a.AdAvailableErrorSettings+"|"+Object(j.a)(r)),_(t.placement.placementConfig.headerBiddingProvider,h.d.map(Object(A.prop)("portfolio_item_id"))(n),D(h.a))},function(n){var i=new b.a(n.adType.isDisplay()?"display":n.adType.isNative()?"native":"video",h.b.fromNullable(n.insertionId),h.b.fromNullable(n.connectionId),c);Object(U.c)({adSettings:n,placement:t.placement,sumologicLogger:i,auctionId:P,viewerId:L}).then(function(o){Object(v.i)({name:"r",id:y}),Object(f.b)(o.tracking,R.b.vast.registerVastTrackings(F.placementKey),g.a.biforeach(function(t){var n=t.trackings,i=t.progressTrackings;e.logger.debug("Trackings registered to Teads VAST trackings store",n),e.logger.debug("Progress trackings registered to Teads VAST trackings store",i)},function(t){var n=t.trackings,i=t.progressTrackings;e.logger.debug("Trackings registered to Third-Party VAST trackings store",n),e.logger.debug("Progress trackings registered to Third-Party VAST trackings store",i)})),p.a.tryCatch(function(){Object(w.d)({sumologicLogger:i,placementAd:t,linearAdWithFormatConfig:{linearAd:o,formatConfig:n},tagIsCampaignTag:C,tagManagerPackage:O,adCallTrackOpts:D(h.b.of(n)),auctionId:P,viewerId:L})}).tapLeft(function(o){e.logger.error("Succesfully parsed/loaded the VAST, but an uncaught error was thrown when loading the ad.",o),i.error("uncaught-error-loadvast "+Object(j.a)(o));var a=t.placement,s=a.pageId,c=a.pid,u=a.slotType;Object(M.e)(Object(r.a)(Object(r.a)({},F),{code:H.a.Undefined,pageId:s,placementId:c,auctionId:P,viewerId:L,slotType:u,portfolioItemId:Object(z.a)(n.portfolioItemId),insertionId:Object(z.a)(n.insertionId),connectionId:Object(z.a)(n.connectionId)})),Object(M.n)({placementKey:F.placementKey,sumologicLogger:i,wigo:t.placement.wigo,logger:F.logger,durationPlayed:h.a,totalDuration:h.a})(H.a.Undefined,function(){return R.b.vast.trackErrorWithCause(F.placementKey)(H.a.Undefined,"load-ad-exception",{referer:Object(M.a)(F.sumologicLogger),slotType:t.placement.slotType,macros:Object(B.a)()})}),O.forEach(function(t){t.tagManagerInstance.logger.debug("load -> loadAd","noAd")}),_(t.placement.placementConfig.headerBiddingProvider,h.b.fromNullable(n.portfolioItemId),D(h.b.of(n)))})}).catch(function(a){var s=Object(r.e)(a,2),c=s[0],u=s[1];e.logger.error("Error when loading the VAST",c,t);var d=c.getId(),l=Object(o.isMemberOf)(H.b)(d)?d:H.a.Undefined;R.b.vast.registerVastTrackings(F.placementKey)(u.tracking),Object(M.n)({placementKey:F.placementKey,sumologicLogger:i,wigo:t.placement.wigo,logger:F.logger,durationPlayed:h.a,totalDuration:h.a})(l,function(){return R.b.vast.trackErrorWithCause(F.placementKey)(l,"load-vast-exception",{referer:Object(M.a)(F.sumologicLogger),slotType:t.placement.slotType,macros:Object(B.a)()})}),O.forEach(function(t){t.tagManagerInstance.logger.debug("load -> loadAd","noAd")}),_(t.placement.placementConfig.headerBiddingProvider,h.b.fromNullable(n.portfolioItemId),D(h.b.of(n)))})})}})}else t.report.validity.status&&(Object(v.i)({name:"q",id:y}),c.info(Object(v.f)("tpb",y),E.b.isQA?1:0),_(h.a,h.a,D(h.a)))}),V.b()}).send()},t.prototype.reload=function(){var t=this;h.b.fromNullable(window.teads.clearInstances).forEach(function(t){return t()});var e=h.b.fromNullable(window._ttp);F.b(e),h.b.fromNullable(window.teads.destroyPageRelatedVariables).forEach(function(t){return t()}),F.a({ttpObject:e,pageInstance:this}).tapLeft(function(e){return t.logger.error(e)})},t.prototype.userSync=function(t,e,n,i,r){var o=this;if(t&&t.pid&&!this.isUserSyncIframeLoaded){var a=h.b.fromNullable(t.placementConfig).flatMap(function(t){return t.headerBiddingProvider}),s=L.a(t.pid,i,a,r,e,n);c.addEventListener("load",s,function(t){o.isUserSyncIframeLoaded=!0})}},t.prototype.getAdRequestUrl=function(t,e){var n=E.b.richAdServerUrl.replace("{id}",String(t));return this.getAdRequestMetadata(e).map(function(t){return Object(y.c)(n,t)}).getOrValue(n)},t.prototype.getAdRequestMetadata=function(t){var e=this;return Object(y.f)(t).map(function(t){var n=t.windowDepth,o=t.windowReferrerUrl,a=h.b.fromNullable(o).map(function(t){return{windowReferrerUrl:encodeURIComponent(t)}}).getOrValue({});return Object(r.a)(Object(r.a)({windowWidth:window.innerWidth,windowHeight:window.innerHeight,windowDepth:n},i(e.logger)),a)})},t}()},function(t,e,n){function i(t){var e=t.ccpaIab,n=function(t){return Object(o.isObject)(t)&&Object(o.hasOwnProperty)(t,"consent")&&Object(o.isString)(t.consent)};return r.b.fromNullable(e).filter(n)}e.a=i;var r=n(1),o=n(2)},function(t,e,n){n.d(e,"a",function(){return g});var i=n(52),r=n(367),o=n(482),a=n(483),s=n(484),c=n(485),u=n(486),d=n(6),l=n(2),p=n(487),h=n(1),f=n(21),g=function(t,e){return new i.a(function(n){Object(p.a)(t).fold(function(t){return n(Object(r.d)(t,220,22,h.a))},function(i){return Object(o.a)(t()).fold(function(t){return n(Object(r.d)(t,240,21))},function(i){var o=Object(f.d)(function(){return n(Object(r.g)())},e+10);Object(a.a)(t(),"ping",s.a,function(i){Object(c.a)(i).fold(function(i){o.clear(),e-10<=0?n(Object(r.d)(i,240,21)):Object(f.d)(function(){n(g(t,e-50))},50)},function(i){o.clear(),"stub"===i.cmpStatus?m(t,n,e):b(t,n,e)})})})})})},m=function(t,e,n){var i=Object(f.d)(function(){return e(Object(r.g)())},n);Object(a.a)(t(),"addEventListener",s.a,function(o){return Object(u.a)(o).flatMap(function(i){return Object(f.d)(function(){Object(a.a)(t(),"removeEventListener",s.a,l.noop,i.listenerId),e(Object(r.g)())},n),Object(d.d)(i)}).fold(function(t){i.clear(),e(Object(r.d)(t,240,21))},function(t){switch(i.clear(),t.gdprApplies){case!0:return e(Object(r.b)(t.tcString,t.cmpId,t.eventStatus));case!1:return e(Object(r.a)(t.cmpId));default:return e(Object(r.c)())}})})},b=function(t,e,n){return Object(a.a)(t(),"getTCData",s.a,function(i){return Object(u.a)(i).fold(function(t){return e(Object(r.d)(t,240,21))},function(i){switch(i.gdprApplies){case!0:return e(Object(r.f)(i.tcString,i.cmpId,i.eventStatus));case!1:return e(Object(r.e)(i.cmpId));default:return m(t,e,n)}})})}},function(t,e,n){n.d(e,"a",function(){return o});var i=n(2),r=n(6),o=function(t){return Object(i.isFunction)(t)?Object(r.d)(t):Object(r.c)("Expected __tcfapi to be a valid function but got "+typeof t)}},function(t,e,n){function i(t,e,n,i,o){r.a.tryCatch(function(){return t.call(null,e,n,i,o)}).fold(function(t){return a.error("Calling __tcfapi function threw an exception",t)},function(){return a.debug("Successfully called __tcfapi function")})}e.a=i;var r=n(6),o=n(4),a=new o.a("IAB TCF v2")},function(t,e,n){n.d(e,"a",function(){return i});var i=2},function(t,e,n){var i=n(6),r=n(1),o=n(2),a=n(3),s=function(t){return r.b.fromNullable(t).match({none:function(){return Object(i.c)("Expected pingReturn to be an object but got null or undefined")},some:function(t){return Object(i.d)(t)}}).filterOrElse(o.isObject,function(t){return"Expected pingReturn to be an object but got "+typeof t}).filterOrElse(c,function(t){return"Expected pingReturn to have a valid cmpLoaded but got "+t.cmpLoaded}).filterOrElse(u,function(t){return"Expected pingReturn to have a valid gpdrApplies but got "+t.gdprApplies}).filterOrElse(d,function(){return"Expected pingReturn to have a valid cmpStatus but got "+t.cmpStatus})},c=function(t){return Object(o.hasOwnProperty)(t,"cmpLoaded")&&Object(o.isBoolean)(t.cmpLoaded)},u=function(t){return Object(o.hasOwnProperty)(t,"gdprApplies")&&(Object(o.isUndefined)(t.gdprApplies)||Object(o.isBoolean)(t.gdprApplies))},d=function(t){return Object(o.hasOwnProperty)(t,"cmpStatus")&&Object(o.isString)(t.cmpStatus)&&Object(a.includes)(["loading","error","loaded","stub"],t.cmpStatus.toLowerCase())};e.a=s},function(t,e,n){var i=n(6),r=n(1),o=n(2),a=function(t){return r.b.fromNullable(t).match({none:function(){return Object(i.c)("Expected tcData to be an object but got null or undefined")},some:function(t){return Object(i.d)(t)}}).filterOrElse(o.isObject,function(t){return"Expected tcData to be an object but got "+typeof t}).filterOrElse(s,function(t){return"Expected tcData to contain gdprApplies but got "+t.gdprApplies}).flatMap(function(t){return t.gdprApplies?Object(i.d)(t).filterOrElse(c,function(t){return"Expected tcData to contain a valid tcString but got "+t.tcString}):Object(i.d)(t)})},s=function(t){return Object(o.hasOwnProperty)(t,"gdprApplies")&&(Object(o.isUndefined)(t.gdprApplies)||Object(o.isBoolean)(t.gdprApplies))},c=function(t){return Object(o.hasOwnProperty)(t,"tcString")&&Object(o.isString)(t.tcString)};e.a=a},function(t,e,n){n.d(e,"a",function(){return r});var i=n(6),r=function(t){return t()?Object(i.d)(t()):Object(i.c)("Couldn't find tcfApi in given context")}},function(t,e,n){n.d(e,"a",function(){return o});var i=n(6),r=n(7),o=function(t,e){return i.a.tryCatch(function(){return t(e)}).fold(function(t){return Object(i.c)("Error while trying to evaluate the predicate.")},function(n){return n?Object(i.d)(e):Object(r.isChildWindow)(e)?o(t,e.parent):Object(i.c)("Could not find any window matching the predicate.")})}},function(t,e,n){n.d(e,"a",function(){return c});var i=n(2),r=n(1),o=n(9),a=n(11),s=function(t){return Object(i.isObject)(t)&&Object(i.hasOwnProperty)(t,"__tcfapiReturn")&&Object(i.isObject)(t.__tcfapiReturn)&&Object(i.hasOwnProperty)(t.__tcfapiReturn,"returnValue")&&Object(i.hasOwnProperty)(t.__tcfapiReturn,"success")&&Object(i.hasOwnProperty)(t.__tcfapiReturn,"callId")},c=function(t,e){return function(n,i,r,s){var c,u=Object(a.rand)(10),f={__tcfapiCall:{command:n,parameter:s,version:i,callId:u}};switch(n){case"removeEventListener":c=h(e,t,u,r);break;case"ping":c=l(e,t,u,r);break;case"getTCData":c=d(e,t,u,r);break;case"addEventListener":c=p(e,t,u,r)}Object(o.addEventListener)("message",e,c),t.postMessage(f,"*")}},u=function(t,e,n){return r.b.fromNullable(n).filter(function(e){return e.source===t}).map(function(t){return t.data}).filter(s).map(function(t){return t.__tcfapiReturn}).filter(function(t){return t.callId===e})},d=function(t,e,n,i){return function(r){return u(e,n,r).forEach(function(r){var a=r.success,s=r.returnValue;a?i(s,a):i(void 0,a),Object(o.removeEventListener)("message",t,d(t,e,n,i))})}},l=function(t,e,n,i){return function(r){return u(e,n,r).forEach(function(r){var a=r.success,s=r.returnValue;i(a?s:void 0),Object(o.removeEventListener)("message",t,l(t,e,n,i))})}},p=function(t,e,n,i){return function(r){return u(e,n,r).forEach(function(r){var a=r.success,s=r.returnValue;a?i(s,a):i(void 0,a),Object(o.removeEventListener)("message",t,p(t,e,n,i))})}},h=function(t,e,n,i){return function(r){return u(e,n,r).forEach(function(r){var a=r.success;i(a),Object(o.removeEventListener)("message",t,h(t,e,n,i))})}}},function(t,e,n){n.d(e,"b",function(){return w}),n.d(e,"a",function(){return O});var i=n(9),r=n(1),o=n(7),a=n(52),s=n(11),c=n(2),u=n(491),d=n(6),l=n(21),p=function(t,e){return new a.a(function(n){var i=Object(l.d)(function(){return n({_tag:"timeout"})},e,l.a.Standard);r.b.fromNullable(t).filter(c.isFunction).match({none:function(){return i.clear(),n({_tag:"not-found"})},some:function(t){return t("getUSPData",1,function(t,e){i.clear(),n(e?{_tag:"successful",usPrivacyString:t.uspString}:{_tag:"unsuccessful"})})}})})},h=function(t){var e=t.onLocatorNotFound,n=t.onUnsuccessful,i=t.onSuccessful,r=t.onTimeout;return function(t){switch(t._tag){case"not-found":return e();case"timeout":return r();case"unsuccessful":return n();case"successful":return i(t.usPrivacyString);default:Object(c.noop)()}}},f=function(t){var e=t.onLocatorNotFound,n=t.onTimeout,i=t.onUnsuccessful,r=t.onMalformedResponse,o=t.onSuccessful;return function(t){switch(t._tag){case"not-found":return e();case"timeout":return n();case"unsuccessful":return i();case"malformed-response":return r();case"successful":return o(t.usPrivacyString);default:Object(c.noop)()}}},g=function(t,e,n){return{__uspapiCall:{command:t,parameter:void 0,version:e,callId:n}}},m=function(t){var e=t.success,n=t.returnValue;return{success:e,usPrivacyString:Object(u.a)(n)?r.b.of(n.uspString):Object(c.isString)(n)?r.b.of(n):r.a}},b=function(t){return r.b.fromNullable(t.frames.__uspapiLocator).nonEmpty()},v=function(t,e){return d.a.tryCatch(function(){return t(e)}).fold(function(t){return Object(d.c)("Error while trying to evaluate the predicate.")},function(n){return n?Object(d.d)(e):Object(o.isChildWindow)(e)?v(t,e.parent):Object(d.c)("Could not find any window matching the predicate.")})},y=function(t,e,n){return d.a.tryCatch(function(){return new a.a(function(o){v(b,t).fold(function(t){return o({_tag:"not-found"})},function(a){var c=Object(s.rand)(10),u=function(e){var n=e.data;e.source===a&&r.b.of(n).filter(A).map(function(t){return t.__uspapiReturn}).filter(function(t){return t.callId===c}).map(m).forEach(function(e){var n=e.success,r=e.usPrivacyString;Object(i.removeEventListener)("message",t,u),n?r.match({some:function(t){return o({_tag:"successful",usPrivacyString:t})},none:function(){return o({_tag:"malformed-response"})}}):o({_tag:"unsuccessful"})})};Object(l.d)(function(){d.a.tryCatch(function(){Object(i.removeEventListener)("message",t,u),o({_tag:"timeout"})}).tapLeft(function(t){return n.forEach(function(e){return e.error("ccpa-error 1 "+t,1)})})},e,l.a.Standard,n),Object(i.addEventListener)("message",t,u),a.postMessage(g("getUSPData",1,c),"*")})})}).fold(function(t){return n.forEach(function(e){return e.error("ccpa-error 2 "+t,1)}),a.a.resolve({_tag:"unsuccessful"})},function(t){return t})},A=function(t){return Object(c.isObject)(t)&&Object(c.isObject)(t.__uspapiReturn)&&t.__uspapiReturn.hasOwnProperty("returnValue")&&t.__uspapiReturn.hasOwnProperty("success")&&t.__uspapiReturn.hasOwnProperty("callId")},w={getUspData:p,matcher:h},O={getUspData:y,matcher:f}},function(t,e,n){function i(t){return Object(r.isObject)(t)&&t.hasOwnProperty("version")&&t.hasOwnProperty("uspString")&&Object(r.isString)(t.uspString)}e.a=i;var r=n(2)},function(t,e,n){function i(t,e,n,i,a,b){var v,y=n.match({some:function(t){return{env:"js-web",hb_provider:t}},none:function(){return{env:h.getEnv()}}});if(!r){try{v=Object(s.findTopWindow)(window.document.body)}catch(t){g.warn("Cannot get top window"),v=window}!function(n){var h={pid:t,gdprIab:l.b(Object(f.b)(e)),fromFormat:!0},g=Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},h),y),a.match({some:function(t){return{auctid:t}},none:function(){return{}}})),b.match({some:function(t){return{vid:t}},none:function(){return{}}})),Object(d.b)(i));r=Object(s.createIframe)(),r.id=m,r.src=Object(p.c)(u.b.userSyncUrl,g)+"&"+Object(c.a)(),r.style.setProperty("display","none"),n.document.body.appendChild(r)}(v)}return r}e.a=i;var r,o=n(0),a=n(4),s=n(7),c=n(14),u=n(18),d=n(365),l=n(19),p=n(16),h=n(5),f=n(180),g=new a.a("helper.UserSync"),m="teadsusersync"},function(t,e,n){var i=n(0),r=n(369),o=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i,r,o)||this;return a.name="inboard",a.placementConfig.btf.set(!1),a.placementConfig.minimum.set(0),a.placementConfig.auto.set(!1),a}return Object(i.c)(e,t),e}(r.a);e.a=o},function(t,e,n){var i=n(5),r=n(1),o=n(7),a=n(4),s=n(20),c=n(35),u=n(495),d=n(129),l=n(221),p=n(222),h=n(56),f=function(){function t(t,e,n,i,o){var s,c=this;this.pageId=t,this.key=e,this.placementConfig=n,this.placementSetting=i,this.wigo=o,this.slotType="native",this.logger=new a.a("placement"),this.sliderEnabled=!1,this.pid=n.pid.get(),this.win=n.parentWindow.getWindow(),this.initContainer(),r.b.fromNullable(null===(s=window.teads)||void 0===s?void 0:s.router).forEach(function(){c.wigo.valid(0,0)}),r.b.fromNullable(window._ttp).forEach(function(e){var n,i,r,o,a,s,u,d;c.wigo.valid(0,1,{ttp:null!==(i=null===(n=e[t])||void 0===n?void 0:n[0])&&void 0!==i?i:null,tta:null!==(a=null===(o=null===(r=window._tta)||void 0===r?void 0:r[t])||void 0===o?void 0:o[0])&&void 0!==a?a:null,tts:null!==(d=null===(u=null===(s=window._tts)||void 0===s?void 0:s[t])||void 0===u?void 0:u[0])&&void 0!==d?d:null},"modal")}),this.wigo.valid(1,0)}return t.prototype.canEnableSlider=function(){if(!this.placementConfig.formatName.isInRead())return!1;var t=this.placementSetting&&this.placementSetting.slider&&this.placementSetting.slider.allowCorner();return c.d.test(String(this.pid))||t},t.prototype.enableSlider=function(){this.sliderEnabled=!0,this.electedSlot=new p.a(this.placementConfig.parentWindow.getWindow().document.body),this.placementConfig.btf.set(!1),this.placementConfig.minimum.set(0),this.placementConfig.auto.set(!1),this.placementConfig.insertBefore.set(!1),this.placementConfig.insertInside.set(!0)},t.prototype.handleNoAd=function(t){var e=this,n=t.markId,r=t.sumologicLogger,o=t.headerBiddingProvider,a=t.portfolioItemId,l=t.adCallTrackOpts,p=t.auctionId,f=t.viewerId;if(this.placementConfig.fallback.trigger()){var g=this,m=g.key,b=g.logger,v=g.wigo,y=g.slotType,A=g.pageId,w=g.pid;Object(h.p)({placementKey:m,sumologicLogger:r,wigo:v,logger:b,headerBiddingProvider:o,pageId:A,placementId:w,slotType:y,portfolioItemId:a,auctionId:p,viewerId:f}),this.logger.info(c.e.fallback.noAd),this.wigo.valid(1,2,c.e.fallback.noAd,"error")}else i.isAmp()&&d.b();this.sliderEnabled||Object(u.a)(this.electedSlot.getElement(),this.win,this.wigo,this.placementConfig).then(function(){Object(h.h)({placementKey:e.key,sumologicLogger:r,wigo:e.wigo,logger:e.logger,headerBiddingProvider:o,baseUrlWithQueryParameters:l}),Object(s.i)({name:"l",id:n}),r.info(Object(s.f)("ac",n),40)})},t.prototype.getParentContainer=function(){return this.parentContainer},t.prototype.getPlayerContainer=function(){return this.playerContainer},t.prototype.getInnerContainer=function(){return this.innerContainer},t.prototype.isSliderEnabled=function(){return this.sliderEnabled},t.prototype.initContainer=function(){this.parentContainer=this.win.document.createElement("div"),this.parentContainer.className="teads-"+this.placementConfig.formatName.get(),this.placementConfig.formatName.isInBoard()&&this.parentContainer.style.setProperty("width","100%");var t=Object(o.setCSSPropWithImportant)("margin-bottom","0");this.innerContainer=this.win.document.createElement("div"),this.innerContainer.style.setProperty("position","relative"),t(this.innerContainer),this.parentContainer.appendChild(this.innerContainer),this.playerContainer=this.win.document.createElement("div"),this.playerContainer.className="teads-player",this.playerContainer.style.setProperty("display","block","important"),t(this.playerContainer),this.playerContainer.id="teads"+Object(l.b)(),this.innerContainer.appendChild(this.playerContainer)},t}();e.a=f},function(t,e,n){n.d(e,"a",function(){return l});var i=n(52),r=n(7),o=n(9),a=n(1),s=n(134),c=n(370),u=function(t,e,n){var i=e.document.createElement("div");return i.className="teads-adCall",i.style.setProperty("height","Opx","important"),Object(c.a)(t,i,n.insertInside.isEnabled(),n.insertBefore.isEnabled()),i},d=function(t){a.b.fromNullable(t.parentElement).forEach(function(e){return e.removeChild(t)})},l=function(t,e,n,a){var c=u(t,e,a);return n.setElementToFollow(c),Object(s.a)(function(){return n.followElement()},a.scrollSelector.getSlot(),e.context),new i.a(function(i){var u=Object(o.getClientRectRelativeToDocument)(Object(o.getBoundingClientRect)(c),{x:Object(o.getScrollLeft)(e),y:Object(o.getScrollTop)(e)});if(!Object(r.isDisplayNone)(u))if(Object(r.isInView)({element:c,elementAncestors:Object(r.findParentElements)(c),elementClientRect:Object(o.getClientRectFromClientRectRelativeToDocument)(u,{x:Object(o.getScrollLeft)(e),y:Object(o.getScrollTop)(e)}),mainWindow:Object(r.findTopWindow)(t),thresholdCoefficient:1,elementHeight:1}))i();else var l=Object(s.a)(function(){var a=Object(o.getBoundingClientRect)(c);u=Object(o.isEmptyBoundingClientRect)(a)?u:Object(o.getClientRectRelativeToDocument)(a,{x:Object(o.getScrollLeft)(e),y:Object(o.getScrollTop)(e)}),Object(r.isInView)({element:c,elementAncestors:Object(r.findParentElements)(c),elementClientRect:Object(o.getClientRectFromClientRectRelativeToDocument)(u,{x:Object(o.getScrollLeft)(e),y:Object(o.getScrollTop)(e)}),mainWindow:Object(r.findTopWindow)(t),thresholdCoefficient:1,elementHeight:1})&&(Object(s.b)(l),n.isActivated()||d(c),i())},a.scrollSelector.getSlot(),e.context)})}},function(t,e,n){var i=n(0),r=n(22),o=n(497),a=n(35),s=n(74),c=function(t){return Object(s.a)(a.e.noSlot.avoid,t)},u=Object(r.a)(function(t,e,n){var r,a,u=t.avoid.getSlots();if(u){var d=n.getElementRect(),l=0;try{for(var p=Object(i.h)(u),h=p.next();!h.done;h=p.next()){var f=h.value;if(n.getElement()===f.getElement())return c("AvoidSlot === Slot");var g=f.getElementRect(),m=t.avoid.getDistance(),b={top:g.top-m,left:g.left-m,bottom:g.bottom+m,right:g.right+m,height:g.height+2*m,width:g.width+2*m};if(o.a(f.getElement(),b,t.parentWindow.getWindow()),d.top!==d.bottom){var v={x:Math.max(0,Math.min(d.right,b.right)-Math.max(d.left,b.left)),y:Math.max(0,Math.min(d.bottom,b.bottom)-Math.max(d.top,b.top))};if(l=v.x*v.y)return c("Avoid - "+Math.ceil(l)+"px2")}else if(d.top>b.top&&d.top<b.bottom)return c("Avoid - slot inside avoid area")}}catch(t){r={error:t}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}}return Object(s.b)(n)});e.a=u},function(t,e,n){function i(){return o.a("teadsDebugInPage").toOption().existsIf(function(t){return"true"===t})}function r(t,e,n){if(i()){var r=document.createElement("div");r.setAttribute("id","teadsGhostAvoid"),r.style.position="absolute",r.style.top=e.top+"px",r.style.bottom=e.bottom+"px",r.style.left=e.left+"px",r.style.right=e.right+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.background="rgba(255, 0, 0, 0.10)",r.style.pointerEvents="none",r.style.color="#F79C9C",r.style.zIndex="9999",r.style.padding="10px",r.innerText="avoidSlot",n.document.body.appendChild(r),t.style.backgroundColor="rgba(255, 0, 0, 0.20)"}}e.a=r;var o=n(48)},function(t,e,n){var i=n(22),r=n(35),o=n(74),a=Object(i.a)(function(t,e,n){var i=e.scrollTop,a=e.waterline;if(!t.btf.isEnabled())return Object(o.b)(n);var s=n.getElementRect();if(t.belowSelector.get()){t.belowSelector.getFirstElement()&&(a=Math.max(a,t.belowSelector.getFirstElementRect().bottom))}var c=i+(t.insertBefore.isEnabled()?s.top:s.bottom);return c>=a?Object(o.b)(n):Object(o.a)(r.e.noSlot.btf,"lineToCheck: "+Math.round(c)+"px >= waterline: "+a+"px")});e.a=a},function(t,e,n){var i=n(3),r=n(22),o=n(1),a=n(35),s=n(74),c=["P","DIV","BR"],u=Object(r.a)(function(t,e,n){var r=n.getElement();return o.b.fromNullable(r.children).orElse(function(){return o.b.fromNullable(r.childNodes)}).map(i.fromArrayLike).filter(i.isNotEmpty).match({some:function(t){var e=i.find(t,function(t){return i.includes(c,t.nodeName)});return e?Object(s.a)(a.e.noSlot.content,e.nodeName):Object(s.b)(n)},none:function(){return Object(s.b)(n)}})});e.a=u},function(t,e,n){var i=n(3),r=n(22),o=n(35),a=n(74),s=Object(r.a)(function(t,e,n){var r=e.elements;n.resolveSize();var s={i:n.getIndex(),elt:n.getElement(),elts:Object(i.map)(r,function(t){return t.getElement()}),wrappedSizes:{width:n.getWidth(),height:n.getWidth()/16*9}};return t.filter.trigger(s)?Object(a.b)(n):Object(a.a)(o.e.noSlot.filter)});e.a=s},function(t,e,n){var i=n(9),r=n(22),o=n(35),a=n(61),s=n(74),c=Object(r.a)(function(t,e,n){var r=e.beforeHeightCheck,c=e.afterHeightCheck,u=650/a.a,d=r(n);if(!i.isHTMLElement(d))return Object(s.a)(o.e.noSlot.position);d.style.setProperty("height","0"),d.style.setProperty("text-align","center"),""===d.style.getPropertyValue("max-width")&&d.style.setProperty("max-width","100%");var l={x:d.offsetLeft,y:d.offsetTop};d.style.setProperty("overflow","hidden");var p={x:d.offsetLeft,y:d.offsetTop};d.style.setProperty("margin-top",.33*u+"px");var h={x:d.offsetLeft,y:d.offsetTop};d.style.setProperty("margin-top","0");var f=Math.abs(l.y-p.y)<8&&Math.abs(l.y-h.y)<.33*u+8;return c(d),f?Object(s.b)(n):Object(s.a)(o.e.noSlot.position,"Check height failed")});e.a=c},function(t,e,n){var i=n(22),r=n(35),o=n(372),a=n(373),s=n(74),c=Object(i.a)(function(t,e,n){var i=t.parentWindow.getWindow();return t.imageFilter.get()===a.a.VALUES.SLOT&&o.a(n.getElement(),i)?Object(s.a)(r.e.noSlot.imageSlot,"slot is too close to an image"):Object(s.b)(n)});e.a=c},function(t,e,n){var i=n(22),r=n(35),o=n(74),a=Object(i.a)(function(t,e,n){var i=n.getIndex()+1,a=t.minimum.get();return i>=a?Object(o.b)(n):Object(o.a)(r.e.noSlot.minimum,"slot: "+i+" < config: "+a)});e.a=a},function(t,e,n){var i=n(22),r=n(35),o=n(74),a=Object(i.a)(function(t,e,n){var i=e.elements;if(!t.belowSelector.get()||null===t.minimumBelow.get())return Object(o.b)(n);var a=t.belowSelector.getFirstNodeBelowIndex(i),s=n.getIndex();return s>=t.minimumBelow.get()+a-1?Object(o.b)(n):Object(o.a)(r.e.noSlot.minimumBelow,"slot: "+s+" < config: "+t.minimumBelow.get())});e.a=a},function(t,e,n){var i=n(22),r=n(35),o=n(74),a=Object(i.a)(function(t,e,n){var i=e.scrollTop;if(!t.selector.get())return Object(o.b)(n);var a=n.getElementRect().top;return a+i>=o.c.MIN_POSITION_TOP&&a+i<=o.c.MAX_POSITION_TOP?Object(o.b)(n):Object(o.a)(r.e.noSlot.position,"positionTop: "+o.c.MIN_POSITION_TOP+" <= "+(a+i)+" <= "+o.c.MAX_POSITION_TOP)});e.a=a},function(t,e,n){var i=n(5),r=n(22),o=n(103),a=n(35),s=n(74),c=Object(r.a)(function(t,e,n){if(Object(i.isIABSafeFrame)()){var r=o.b();return r?Object(s.a)(a.e.noSlot.safeFrame,r):Object(s.b)(n)}return Object(s.b)(n)});e.a=c},function(t,e,n){var i=n(3),r=n(9),o=n(22),a=n(35),s=n(74),c=Object(o.a)(function(t,e,n){if(n.resolveSize(),r.isSelfClosingTag(n.getElement()))return Object(s.b)(n);var o={">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e}},c=[{name:"minimumHeight",property:n.getHeight(),score:s.c.MIN_LONG_HEIGHT,operator:">="},{name:"minimumWidth",property:n.getWidth(),score:t.minimumWidth.get(),operator:">="},{name:"maximumHeight",property:n.getHeight(),score:s.c.MAX_LONG_HEIGHT,operator:"<="},{name:"maximumWidth",property:n.getWidth(),score:t.maximumWidth.get(),operator:"<="}],u=function(t){var e=t.name,i=t.property,r=t.score,c=t.operator;return o[c](i,r)?Object(s.b)(n):Object(s.a)(a.e.noSlot.size,e+": "+i+" "+c+" "+r)},d=function(t,e){return t.flatMap(function(){return e.length>0?d(u(Object(i.head)(e)),Object(i.tail)(e)):t})};return d(u(Object(i.head)(c)),Object(i.tail)(c))});e.a=c},function(t,e,n){var i=n(9),r=n(22),o=n(35),a=n(74),s=Object(r.a)(function(t,e,n){var r=n.getElement(),s=[];i.getTextContent(r,s);var c=s.join("");if(!i.isSelfClosingTag(r)){return c.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").length>=t.minimumTextLength.get()?Object(a.b)(n):Object(a.a)(o.e.noSlot.content)}return Object(a.b)(n)});e.a=s},function(t,e,n){var i=n(22),r=n(35),o=n(372),a=n(374),s=n(74),c=Object(i.a)(function(t,e,n){var i=t.parentWindow.getWindow();if(t.videoFilter.get()===a.a.VALUES.SLOT){if(o.b(n.getElement(),i))return Object(s.a)(r.e.noSlot.videoSlot,"slot is too close to a video")}else if(t.videoFilter.get()===a.a.VALUES.ARTICLE&&o.c(n.getElement(),i))return Object(s.a)(r.e.noSlot.videoSlot,"slot container (article) has a video");return Object(s.b)(n)});e.a=c},function(t,e,n){var i=n(344),r=n(511),o=n(1),a=n(512),s=n(513),c=n(514),u=n(515),d=n(175),l=n(516),p=n(517),h=n(518),f=n(519),g=n(520),m=n(521),b=n(522),v=n(523),y=n(525),A=n(526),w=n(527),O=n(374),E=n(373),C=n(528),I=n(529),S=n(530),T=n(531),j=n(533),k=n(534),P=n(535),L=function(){function t(t,e){void 0===e&&(e=o.a),this.raw=t,this.headerBiddingProvider=e,t.slot||(t.slot={}),this.pid=new i.a(t.pid),this.formatName=new d.a(t.format),this.btf=new l.a(t.slot.btf),this.css=new p.a(t.css),this.filter=new h.a(t),this.insertBefore=new f.a(t.slot.insertBefore),this.insertInside=new g.a(t.slot.insertInside),this.minimum=new m.a(t.slot.minimum),this.minimumBelow=new b.a(t.slot.minimumBelow),this.capping=new v.a(t.capping,t.pid),this.parentWindow=new y.a(t.parentWindow),this.fallback=new A.a(t.fallback),this.rpmFallback=new w.a(t.rpmFallback),this.videoFilter=new O.a(t.slot.videoFilter),this.imageFilter=new E.a(t.slot.imageFilter),this.minimumTextLength=new C.a(t.slot.minimumTextLength),this.minimumWidth=new I.a(t.slot.minimumWidth),this.maximumWidth=new S.a(t.slot.maximumWidth),this.belowSelector=new T.a(t.slot.belowSelector,this.parentWindow.getWindow()),this.selector=new a.a(t.slot.selector,this.parentWindow.getWindow()),this.auto=new j.a(t.slot.auto,this.selector),this.avoid=new k.a(t.slot.avoid,this.parentWindow.getWindow()),this.scrollSelector=new P.a(t.slot.scrollSelector,this.parentWindow.getWindow()),this.callbacks=t.callbacks,this.mobile=new c.a(t.mobile),this.tablet=new u.a(t.tablet),this.desktop=new s.a(t.desktop),this.allowedRatio=new r.a}return t.prototype.isMobile=function(){return this.mobile.isEnabled()},t.prototype.isTablet=function(){return this.tablet.isEnabled()},t.prototype.isDesktop=function(){return this.desktop.isEnabled()},t}();e.a=L},function(t,e,n){var i=n(0),r=n(6),o=n(12),a=n(2),s=n(1),c=n(3),u=n(5),d=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"AllowedRatio")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.isInternalHostname=function(t){return/(teads\.(tv|net|com))|(ebuzzing\.(com|github\.io)|(localhost)|(\.pantheonsite\.io))$/i.test(t)},e.forceValueIfNeeded=function(t){var n=r.a.tryCatch(function(){return top.location.hostname}).getOrValue(location.hostname);return Object(u.isDesktop)()&&!e.isInternalHostname(n)?["LANDSCAPE"]:t},e.filterInvalidValues=function(t){return c.filter(t,function(t){return t in e.AvailableRatio})},e.prototype.checkValue=function(){this.value=s.b.fromNullable(this.value).map(e.forceValueIfNeeded).filter(a.isArray).map(e.filterInvalidValues).filter(c.isNotEmpty).getOrValue(e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.getRatioFilters=function(){return c.map(this.value,function(t){return e.AvailableRatio[t]})},e.prototype.mediafileRatioIsValid=function(t,e){return c.isNotEmpty(c.filter(this.getRatioFilters(),function(n){return n(e(t))}))},e.AvailableRatio={LANDSCAPE:function(t){return t>1},SQUARE:function(t){return 1===t},VERTICAL:function(t){return t<1},ALL:function(t){return!0}},e.DEFAULT=["ALL"],e}(o.a);e.a=d},function(module,__webpack_exports__,__webpack_require__){var __WEBPACK_IMPORTED_MODULE_0_tslib__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_funnel_option_AbstractOption__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_common_FormatException__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_3_common_Context__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_4_common_Dom__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_5_common_ArrayHelper__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6_common_HTMLHelper__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_7_common_Utils__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_8_funnel_placement_Slot__=__webpack_require__(222),Selector=function(_super){function Selector(t,e){var n=_super.call(this,"Selector")||this;if(n.value=t,n.win=e,n.default=null,n.screenSizes={mobile:"[WIDTH]<768",tablet:"[WIDTH]>=768 && [WIDTH]<992",desktop:"[WIDTH]>=992 && [WIDTH]<1200",large:"[WIDTH]>=1200"},!e)throw new __WEBPACK_IMPORTED_MODULE_2_common_FormatException__.a(__WEBPACK_IMPORTED_MODULE_2_common_FormatException__.a.OPTION_PARENTWINDOW_INVALID);return n.checkValue(),n}return Object(__WEBPACK_IMPORTED_MODULE_0_tslib__.c)(Selector,_super),Selector.prototype.checkValue=function(){Object(__WEBPACK_IMPORTED_MODULE_7_common_Utils__.isString)(this.value)||__WEBPACK_IMPORTED_MODULE_4_common_Dom__.isHTMLElement(this.value)||__WEBPACK_IMPORTED_MODULE_4_common_Dom__.isNodeList(this.value)||__WEBPACK_IMPORTED_MODULE_4_common_Dom__.isISlotSelector(this.value)||(this.value=this.default)},Selector.prototype.get=function(){return this.value},Selector.prototype.getSlots=function(){var t=[],e=this.value;if(__WEBPACK_IMPORTED_MODULE_4_common_Dom__.isISlotSelector(this.value)){var n=void 0;for(var i in this.value)if(this.value.hasOwnProperty(i)&&(n=this.checkScreenSelector(i,this.win))){e=this.value[i];break}n?this.logger.debug("Slot",n,"selected:",e):this.logger.warn("Slots by device not found: ",this.value)}if(Object(__WEBPACK_IMPORTED_MODULE_7_common_Utils__.isString)(e)&&e){var r=[],o=__WEBPACK_IMPORTED_MODULE_6_common_HTMLHelper__.findAllWindows(document.body);__WEBPACK_IMPORTED_MODULE_5_common_ArrayHelper__.forEach(o,function(t){Object(__WEBPACK_IMPORTED_MODULE_7_common_Utils__.isString)(e)&&(r=r.concat(__WEBPACK_IMPORTED_MODULE_4_common_Dom__.querySelectorAll(e,t)))});for(var a=0;a<r.length;a++)t.push(new __WEBPACK_IMPORTED_MODULE_8_funnel_placement_Slot__.a(r[a],a))}else if(__WEBPACK_IMPORTED_MODULE_4_common_Dom__.isHTMLElement(e))t.push(new __WEBPACK_IMPORTED_MODULE_8_funnel_placement_Slot__.a(e));else if(__WEBPACK_IMPORTED_MODULE_4_common_Dom__.isNodeList(e))for(var a=0;a<e.length;a++)t.push(new __WEBPACK_IMPORTED_MODULE_8_funnel_placement_Slot__.a(e[a],a));return t.length||!Object(__WEBPACK_IMPORTED_MODULE_3_common_Context__.isAmp)()&&!Object(__WEBPACK_IMPORTED_MODULE_3_common_Context__.isIABSafeFrame)()||t.push(new __WEBPACK_IMPORTED_MODULE_8_funnel_placement_Slot__.a(this.win.document.body)),t},Selector.prototype.checkScreenSelector=function(screen,win){var _this=this,selectedScreenSelector=null,currentWidth=Math.max(win.document.documentElement.clientWidth,win.innerWidth||0);return __WEBPACK_IMPORTED_MODULE_5_common_ArrayHelper__.forEach(screen.split("+"),function(screenSelector){if(_this.screenSizes[screenSelector])try{var screenSelectorPattern=_this.screenSizes[screenSelector].replace(/\[WIDTH\]/g,currentWidth);if(eval(screenSelectorPattern))return void(selectedScreenSelector=screenSelector)}catch(t){_this.logger.warn("screenSelector eval has failed")}}),selectedScreenSelector},Selector}(__WEBPACK_IMPORTED_MODULE_1_funnel_option_AbstractOption__.a);__webpack_exports__.a=Selector},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Desktop")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Mobile")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Tablet")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(2),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Btf")||this;return i.value=n,(Object(o.isAmp)()||Object(o.isIABSafeFrame)())&&(i.value=!1),i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(a.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.set=function(t){this.value=t},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(r.a);e.a=s},function(t,e,n){var i=n(0),r=n(12),o=n(3),a=n(11),s=n(2),c=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Css")||this;return i.originalRules=n,i.checkValue(),i.originalRules&&(i.rules=e.transformStringToObject(i.originalRules)),i}return Object(i.c)(e,t),e.transformStringToObject=function(t){var e={};if(!t)return e;var n=t.split(";");return o.forEach(n,function(t){var n=Object(i.e)(t.split(":"),2),r=n[0],o=n[1];r&&o&&(r=a.trim(r),o=a.trim(o),e[r]=o,"float"===r&&(e.cssFloat=o,e.styleFloat=o))}),e},e.prototype.checkValue=function(){Object(s.isString)(this.originalRules)||(this.originalRules=e.DEFAULT)},e.prototype.getOriginal=function(){return this.originalRules},e.prototype.applyRulesOn=function(t){this.applyCssRulesOn(t,this.rules)},e.prototype.applyCssRulesOn=function(t,n){var i,r=!1;for(var o in n)n.hasOwnProperty(o)&&(r=e.IMPORTANT_REGEX.test(n[o]),i=n[o].replace(e.IMPORTANT_REGEX,"").trim(),t.style.setProperty(o,i,r?"important":null))},e.DEFAULT=null,e.IMPORTANT_REGEX=/!\s*important/i,e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(42),o=n(78),a=n(12),s=n(2),c=function(t){function e(e){var n=t.call(this,"Filter")||this;return n.placement=e,n.func=e&&e.slot?e.slot.filter:null,n.checkValue(),n}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(s.isFunction)(this.func)||(this.func=e.DEFAULT)},e.prototype.trigger=function(t){var e=!0;if("function"==typeof this.func){try{e=this.func.call(this.placement,t)}catch(t){r.a.error("filter-threw-err "+Object(o.a)(t)),this.logger.error("the filter function threw an error:",t,this.func)}"boolean"!=typeof e&&(e=!0)}return e},e.DEFAULT=null,e}(a.a);e.a=c},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"InsertBefore")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.prototype.set=function(t){this.value=t},e.DEFAULT=!1,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(5),a=n(2),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"InsertInside")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isAmp)()?this.value=e.DEFAULT_AMP:Object(a.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.prototype.set=function(t){this.value=t},e.DEFAULT=!1,e.DEFAULT_AMP=!0,e}(r.a);e.a=s},function(t,e,n){var i=n(0),r=n(5),o=n(2),a=n(12),s=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Minimum")||this;return i.value=n,(Object(r.isAmp)()||Object(r.isIABSafeFrame)())&&(i.value=1),i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.set=function(t){this.value=t},e.prototype.get=function(){return this.value},e.DEFAULT=1,e}(a.a);e.a=s},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"MinimumBelow")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=null,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(524),a=n(20),s=n(2),c=n(1),u=function(t){function e(n,i){void 0===n&&(n=e.DEFAULT),void 0===i&&(i=null);var r=t.call(this,"Capping")||this;return r.capping=n,r.pid=i,r.checkValue(),r.capping&&r.pid?o.a("teadsCapping"+r.pid).filter(function(t){return t.expiry>=Object(a.l)()}).match({some:function(t){r.capping.counter=t.counter,r.capping.expiry=new Date(t.expiry)},none:function(){r.logger.debug("Capping has expired, resetting"),r.capping.counter=r.capping.frequency||1,r.capping.expiry=new Date(Object(a.l)()+1e3*e.durations[r.capping.unit])}}):r.logger.debug("No capping"),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(s.isObject)(this.capping)||(this.capping=e.DEFAULT),(!Object(s.isNumber)(this.pid)||this.pid<=0)&&(this.pid=null)},e.prototype.reached=function(){return this.capping&&this.capping.counter<=0},e.prototype.record=function(){var t=this;c.b.fromNullable(this.capping).map(function(t){return{counter:t.counter-1,expiry:t.expiry.getTime()}}).forEach(function(e){t.logger.debug("Record capping data:",e),o.b("teadsCapping"+t.pid,e)})},e.durations={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3},e.VALUES={UNIT:"unit",FREQUENCY:"frequency"},e.DEFAULT=null,e}(r.a);e.a=u},function(t,e,n){n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d});var i=n(2),r=n(48),o=n(4),a=n(6),s=n(19),c=new o.a("Store"),u=function(t){return a.a.tryCatch(function(){return localStorage.getItem(t)}).orElse(function(t){return c.debug("An error occured while trying to access localStorage: "+t.toString()),Object(a.b)(t)}).toOption().orElse(function(){return r.a(t).orElse(function(t){return c.debug("An error occured while trying to get a cookie: "+t.toString()),Object(a.b)(t)}).toOption()}).flatMap(function(t){return a.a.tryCatch(function(){return s.a(t)}).orElse(function(t){return c.warn("An error occured while trying to deserialize value to JSON: "+t.toString()),Object(a.b)(t)}).toOption()})},d=function(t,e){var n=s.b(e);return a.a.tryCatch(function(){return localStorage.setItem(t,n)}).orElse(function(n){return c.debug("An error occured while trying to write in localStorage: "+n.toString()),r.b(t,e).orElse(function(t){return c.debug("An error occured while trying to set a cookie: "+t.toString()),Object(a.b)(t)})}).map(i.noop)}},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"ParentWindow")||this;if(i.value=n,i.win=window,i.checkValue(),i.value)try{window.top.document&&(i.win=window.top)}catch(t){i.logger.warn("parentWindow option is enabled but parent window is not accessible",t)}return i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.getWindow=function(){return this.win},e.prototype.getValue=function(){return this.value},e.DEFAULT=!0,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=n(35),s=n(5),c=n(129),u=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"Fallback")||this;return i.value=n,i.called=!1,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isFunction)(this.value)||(this.value=e.DEFAULT)},e.prototype.trigger=function(t){if(!this.value||this.called)return!1;try{var e=this.value.call(t);if(this.called=!0,e===a.c)return this.value=null,!1}catch(t){s.isAmp()&&c.a(),this.logger.error("the fallback threw an error:",t)}return!0},e.prototype.hasValue=function(){return!!this.value},e.DEFAULT=null,e}(r.a);e.a=u},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"RpmFallback")||this;return i.value=n,i.called=!1,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isFunction)(this.value)||(this.value=e.DEFAULT)},e.prototype.trigger=function(t){if(!this.value||this.called)return!1;try{this.value.call(t),this.called=!0}catch(t){this.logger.error("the rpmFallback threw an error:",t)}return!0},e.DEFAULT=null,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"MinimumTextLength")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=100,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"MinimumWidth")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=100,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(2),o=n(12),a=function(t){function e(n){void 0===n&&(n=e.DEFAULT);var i=t.call(this,"MaximumWidth")||this;return i.value=n,i.checkValue(),i}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(r.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=2e3,e}(o.a);e.a=a},function(t,e,n){var i=n(0),r=n(532),o=n(53),a=n(2),s=n(9),c=function(t){function e(n,i){var r=t.call(this,"BelowSelector")||this;if(void 0===i)throw new o.a(o.a.OPTION_PARENTWINDOW_INVALID);return r.win=i,n||(n=e.DEFAULT),r.value=n,r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){this.value===e.DEFAULT||Object(a.isString)(this.value)||s.isHTMLElement(this.value)||s.isNodeList(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.getFirstElement=function(){if(!this.hasCachedElement){var t,e=this.value;if("object"==typeof this.value){var n;for(var i in this.value)if(this.value.hasOwnProperty(i)&&(n=this.checkScreenSelector(i,this.win),e=this.value[i],n))break;n?this.logger.debug("Below Selector",n,"selected:",e):this.logger.warn("Below Selector by device not found: ",this.value)}Object(a.isString)(e)&&e.length>0?t=s.querySelectorAll(e,this.win)[0]:s.isHTMLElement(e)?t=e:s.isNodeList(e)&&(t=e[0]),this.cacheElement(t)}return this.firstElement},e.prototype.getFirstElementRect=function(){return this.firstElementRect||(this.firstElementRect=s.getBoundingClientRect(this.getFirstElement())),this.firstElementRect},e.prototype.getFirstNodeBelowIndex=function(t){if(!this.firstNodeBelowIndex&&0!==this.firstNodeBelowIndex){for(var e,n=!1,i=0;!n&&t[i];)e=t[i++],e.getElementRect().top>=this.getFirstElementRect().bottom&&(n=!0);this.firstNodeBelowIndex=i-1}return this.firstNodeBelowIndex},e.prototype.cacheElement=function(t){this.firstElement=t,this.hasCachedElement=!0},e.DEFAULT=null,e}(r.a);e.a=c},function(module,__webpack_exports__,__webpack_require__){var __WEBPACK_IMPORTED_MODULE_0_tslib__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_funnel_option_AbstractOption__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_common_ArrayHelper__=__webpack_require__(3),AbstractSelector=function(_super){function AbstractSelector(t){var e=_super.call(this,t)||this;return e.screenSizes={mobile:"[WIDTH]<768",tablet:"[WIDTH]>=768 && [WIDTH]<992",desktop:"[WIDTH]>=992 && [WIDTH]<1200",large:"[WIDTH]>=1200"},e}return Object(__WEBPACK_IMPORTED_MODULE_0_tslib__.c)(AbstractSelector,_super),AbstractSelector.prototype.checkScreenSelector=function(screen,win){var _this=this,selectedScreenSelector=null,currentWidth=Math.max(win.document.documentElement.clientWidth,win.innerWidth||0);return __WEBPACK_IMPORTED_MODULE_2_common_ArrayHelper__.forEach(screen.split("+"),function(screenSelector){if(_this.screenSizes[screenSelector])try{var screenSelectorPattern=_this.screenSizes[screenSelector].replace(/\[WIDTH\]/g,""+currentWidth);if(eval(screenSelectorPattern))return void(selectedScreenSelector=screenSelector)}catch(t){_this.logger.warn("screenSelector eval has failed")}}),selectedScreenSelector},AbstractSelector}(__WEBPACK_IMPORTED_MODULE_1_funnel_option_AbstractOption__.a);__webpack_exports__.a=AbstractSelector},function(t,e,n){var i=n(0),r=n(12),o=n(2),a=function(t){function e(n,i){void 0===n&&(n=e.DEFAULT),void 0===i&&(i=null);var r=t.call(this,"Auto")||this;return r.value=n,i&&null!==i.get()&&(r.value=!1),r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.prototype.set=function(t){this.value=t},e.DEFAULT=!0,e}(r.a);e.a=a},function(t,e,n){var i=n(0),r=n(12),o=n(222),a=n(9),s=n(2),c=function(t){function e(n,i){void 0===n&&(n=e.DEFAULT),void 0===i&&(i=window);var r=t.call(this,"Avoid")||this;return r.value=n,r.win=i,r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(s.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.getSlots=function(){if(this.value){var t=[],e=this.value.selector;if("string"==typeof e&&e.length>0)for(var n=a.querySelectorAll(e,this.win),i=0;i<n.length;i++)t.push(new o.a(n[i],i));else a.isHTMLElement(e)&&t.push(new o.a(e));return t}},e.prototype.getDistance=function(){return this.value.distance},e.VALUES={SELECTOR:"selector",DISTANCE:"distance"},e.DEFAULT=null,e}(r.a);e.a=c},function(t,e,n){var i=n(0),r=n(16),o=n(12),a=n(2),s=n(9),c=function(t){function e(n,i){var o=t.call(this,"ScrollSelector")||this;return o.win=Object(r.j)(i.location.href)?window:i,o.value=void 0===n?e.DEFAULT:n,o.checkValue(),o}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(a.isString)(this.value)||s.isHTMLElement(this.value)||(this.value=e.DEFAULT)},e.prototype.getSlot=function(){var t=this.win,e=this.value;if("string"==typeof e&&e.length>0){var n=s.querySelectorAll(e,this.win);n&&1===n.length?t=n[0]:this.logger.warn("Parameter must be a string (CSS Selector) or a DOM Element")}else s.isHTMLElement(e)&&(t=e);return t},e.DEFAULT=null,e}(o.a);e.a=c},function(t,e,n){var i=n(537),r=function(){function t(t){this.rawConfig=t,t&&(this.slider=new i.a(t.slider))}return t.getPlacementSetting=function(t){if(window._tts&&window._tts[t.get()])return window._tts[t.get()]},t}();e.a=r},function(t,e,n){n.d(e,"a",function(){return a});var i=n(0),r=n(12),o=n(2),a=function(t){function e(n){var r=t.call(this,"Slider")||this;return r.value=Object(i.a)(Object(i.a)({},e.DEFAULT),n),r.checkValue(),r}return Object(i.c)(e,t),e.prototype.checkValue=function(){Object(o.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.allowCorner=function(){return this.value.allow_corner_position},e.VALUES={allow_top_position:"top",allow_corner_position:"corner"},e.DEFAULT={allow_top_position:!1,allow_corner_position:!1},e}(r.a)},function(t,e,n){function i(t,e,n){return l.a.tryCatch(function(){var t=new m.a(n);return E.debug("FormatConfig instance",t),t})}function r(t){var e=t.adSettings,n=e.vast,i=Object(c.f)(e,["vast"]),r=t.placement,s=t.sumologicLogger,u=t.auctionId,d=t.viewerId,l=t.regularVastHandler,p=void 0===l?a:l,h=r.pageId,f=r.wigo,g=r.slotType;return p(n,h,f,s,g).catch(function(t){var e=Object(c.e)(t,2),n=e[0],a=e[1];throw o(r,i,s,u,d,n),[n,a]})}function o(t,e,n,i,r,o){var a=e.insertionId,s=e.connectionId,l=e.portfolioItemId,h="VASTParser.parse error"===o.getMessage()?Object(v.b)(o)+p.b.fromNullable(o.error).map(function(t){return"|"+t.message}).getOrValue(""):Object(v.b)(o);n.error("loading-vast "+h.substr(0,120));var f=t.key,g=t.pageId,m=t.pid,b=t.slotType,O=t.wigo,C=t.placementConfig.headerBiddingProvider,I=o.getId()||0,S={placementKey:f,sumologicLogger:n,wigo:O,logger:E,headerBiddingProvider:C,pageId:g,placementId:m,auctionId:i,viewerId:r,slotType:b,portfolioItemId:Object(w.a)(l),insertionId:Object(w.a)(a),connectionId:Object(w.a)(s)};I===d.b.WRAPPER_TIMEOUT.id?Object(y.f)(S):Object(y.e)(Object(c.a)(Object(c.a)({},S),{code:Object(u.isMemberOf)(A.b)(I)?I:A.a.Undefined})),E.error("VAST loading",o)}function a(t,e,n,i,r){return new f.a(function(e,r){var o=new O.a({assetsUrl:b.b.basePathUrl},i,p.b.fromNullable(n)),a=function(t){s(t,n),e(t)},c=function(t,e){return r([t,e])},u=t.getContent();t.isVastUrl()?o.load(u,a,c):t.isVastXml()&&o.parse(u,a,c)})}function s(t,e){E.info("Ad is ready"),e.valid(1,2)}n.d(e,"b",function(){return C}),e.a=i,e.c=r;var c=n(0),u=n(3),d=n(32),l=n(6),p=n(1),h=n(4),f=n(52),g=n(2),m=n(225),b=n(18),v=n(78),y=n(56),A=n(66),w=n(73),O=n(178),E=new h.a("VastHandler"),C=function(t){return Object(g.isString)(t.type)&&Object(g.isString)(t.content)}},function(t,e,n){n.d(e,"a",function(){return r});var i=n(1),r=function(t){return t.flatMap(function(t){return i.b.fromNullable(t.getAd)}).match({some:function(t){return!t.headerBiddingProvider||""===t.headerBiddingProvider},none:function(){return!1}})}},function(t,e,n){n.d(e,"a",function(){return D}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return F});var i,r=n(0),o=n(3),a=n(9),s=n(139),c=n(130),u=n(1),d=n(6),l=n(10),p=n(86),h=n(7),f=n(4),g=n(13),m=n(20),b=n(2),v=n(68),y=n(80),A=n(161),w=n(172),O=n(18),E=n(35),C=n(42),I=n(78),S=n(366),T=n(207),j=n(221),k=n(368),P=n(344),L=n(220),V=n(62),x=n(376),_=n(56),N=new f.a("TagManager"),D={},R=function(t,e){var n=Object(o.fromStringToNumber)(Object.keys(D));return 1===Object(o.flatten)(Object(o.map)(n,function(t){var e=Object.keys(D[t]),n=Object(o.fromStringToNumber)(Object(o.filter)(e,function(t){return"placement"!==t})),r=Object(o.map)(n,function(e){return D[t][e]});return Object(o.filter)(r,function(t){return Object(o.last)(t).state!==i.PASSBACKED})})).length&&0===e},M={};!function(t){t[t.INIT=0]="INIT",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.SERVED=3]="SERVED",t[t.ERRORED=4]="ERRORED",t[t.PASSBACKED=5]="PASSBACKED"}(i||(i={}));var F=function(){function t(e,n,o,a,s){var c=this;void 0===a&&(a=!1),void 0===s&&(s=0),this.pageId=e,this.pid=n,this.rawSettings=o,this.defer=a,this.pageIndex=s,this.doServe=!1,this.wigo=new y.b,this.formatInstance=u.a,this.doPassback=!1,this.passbacks={beforeServe:[],afterServe:[]},this.scripts=[],this.headerBiddingContext=u.a,this.logger=new f.a("TagManager (pageId: "+e+", placementId: "+n+")"),this.logger.debug("new placement",o),this.headerBiddingContext=S.a(M[this.pid]),this.sumologicLogger=C.a.copy({collectorUrl:"https://s8t.teads.tv/sumo/receiver/v1/http/ZaVnC4dhaV3tMuL-jxvu514sKTR1JLPJH0zZLzvxn3qMwWPdO_mBRbSGTyZgi2P4CqAJ4tfCX6IriPgecDkMFRxDm1GAGUben7xo9S92iY-h9z-o4eCwqg==",placementId:Object(u.c)(n),options:Object(r.a)(Object(r.a)({},C.a.options),{isHeaderBiddingTag:function(){return c.headerBiddingContext.nonEmpty()}})}),this.settings=Object(r.a)({},o||t.defaultRawPlacement),this.settings.pid=n,this.settings.format=this.settings.format||"inread",this.settings.fallback=function(){return c.logger.debug("no ad to serve so exec passback"),c.execPassback()},this.state=i.INIT,this.headerBiddingContext.nonEmpty()&&this.handleHeaderBiddingAd(),O.b.refresh(window.teads),this.handleDataInsertion(n).forEach(function(t){T.a(),c.getAd=t}),this.markId=Object(m.b)(e,s,n)}return t.getRawAdFromScript=function(t,e,n,i){return t.match({some:function(t){return a.getAndRemoveAttributeValue(t,e).match({some:function(t){var e=i(Object(u.c)({type:"VastUrl",content:O.b.buyingEngineUrl+"/"+t,insertion_id:parseInt(t,10)}));return n.debug("data-insertion handled",e),Object(u.c)(e)},none:function(){return n.error(e+" detected but the value is empty"),u.b.empty()}})},none:function(){return u.b.empty()}})},t.page=function(e){if(Object(s.a)(e))return D[e]||(D[e]={placement:function(n,i,r,o){return Object(m.j)({name:"b",id:Object(m.b)(e,o||0,n)}),t.placement(e,n,i,r,o)}});throw C.a.error("teads-page-invalid-pageid "+e),new Error("teads.page function called with invalid page ID: "+e)},t.ad=function(e,n){return M[e]&&new f.a("TagManager placementId: "+e).warn("ad settings already exist and will be overwritten",M[e],n),M[e]=n,{page:t.page}},t.placement=function(e,n,i,r,o){var a=D[e],s=a[n]||(a[n]=[]);o=u.b.fromNullable(o).getOrValue(s.length?s.length-1:0),s[o]?i&&i!==s[o].rawSettings&&(s[o].rawSettings=i):d.a.tryCatch(function(){return new P.a(n)}).map(function(t){return t.get()}).fold(function(t){N.warn("Invalid placement ID value provided",n,i,t)},function(n){s[o]=new t(e,n,i,r,o)});var c=s[o];return c.findMatchingScript()?(c.logger.debug("found script with serve attribute -> serve it"),c.serve()):r?c.logger.debug("tag deferred"):c.load(),c},t.prototype.load=function(){var t,e=this,n=u.b.fromNullable(null===(t=M[this.pid])||void 0===t?void 0:t.headerBiddingSlotAvailableTrackUrl);return this.state!==i.INIT?(this.logger.warn("tag already loaded, loading or served",this.state),this):(this.state=i.LOADING,this.logger.debug("load: checkPlacement > checkSlot > callRAS > loadAd"),Object(m.i)({name:"d",id:this.markId}),this.onReadyState(function(){Object(m.i)({name:"c",id:e.markId});var t=u.b.fromNullable(M[e.pid]),r=t.flatMap(Object(k.a)(e.pid)).flatMap(function(t){return t.auctionId.map(d.d)}).getOrElse(function(){return Object(v.getUuid)().map(c.b)}),o=r.toOption(),a=t.flatMap(Object(b.safeProp)("viewerId")),s=Object(x.a)({pageId:e.pageId,placementId:e.pid,pageIndex:e.pageIndex,auctionId:o,headerBiddingProvider:e.headerBiddingContext,sumologicLogger:e.sumologicLogger});r.tapLeft(function(t){e.sumologicLogger.error("limitedCapabilities "+Object(I.a)(t)),Object(_.r)({placementKey:Object(V.a)(e.pageId,e.pid,e.pageIndex),sumologicLogger:e.sumologicLogger,wigo:e.wigo,logger:e.logger,headerBiddingProvider:e.headerBiddingContext,viewerId:a,pageId:e.pageId,placementId:e.pid,auctionId:o})}),e.fillCustomTracking(e.findCustomTracking(e.scripts)),e.adInfos=j.d.checkPlacement({rawPlacement:e.settings,pageId:e.pageId,placementId:e.pid,pageIndex:e.pageIndex,auctionId:o,wigo:e.wigo,sumologicLogger:e.sumologicLogger,headerBiddingProvider:e.headerBiddingContext,adSettings:t}),e.adInfos?(t.filter(function(t){return!0===t.wigoEnabled}).forEach(function(){return e.wigo.enableWigo()}),e.logger.debug("load -> checkPlacement ok"),Object(m.i)({name:"e",id:e.markId}),e.adInfos=j.d.checkSlot({placementAd:e.adInfos,wigo:e.wigo,sumologicLogger:e.sumologicLogger,auctionId:o,hbSlotAvailableTrackUrl:n,placementIsFirst:R(e.pid,e.pageIndex),adSettings:t}),e.adInfos?(e.logger.debug("load -> checkSlot ok"),e.adInfos.ad=e.getAd,j.d.callRAS({placementAd:e.adInfos,auctionId:o,viewerId:a,sumologicLogger:e.sumologicLogger,browserIsHeadless:s,onRASResponse:function(t){e.logger.debug("load -> callRAS",e.getAd?"bypassed by data-insertion":"ok"),e.adInfos=t,e.sendTagToWigo(),Object(m.i)({name:"k",id:e.markId}),e.sumologicLogger.info(Object(m.e)(e.pageIndex?"tm_is":"tm",e.markId),O.b.isQA?1:0)},markId:e.markId,tagManagerPackage:Object(u.c)({tagManagerInstance:e,onFormatLoaded:function(){e.state!==i.PASSBACKED&&(e.state=i.LOADED)},done:function(){e.doServe?e.serve():e.logger.debug("waiting for serve")}})})):(e.logger.debug("load - checkSlot failure"),e.state=i.ERRORED)):(e.logger.debug("load - placement failure"),e.state=i.ERRORED)}),this)},t.prototype.serve=function(){var t=this,e=this;switch(this.state){case i.ERRORED:this.state=i.SERVED,this.logger.warn("serve - this placement cannot be served - state = ERROR");break;case i.SERVED:this.logger.warn("already served - reload and serve it again"),e=this.reload().serve();break;case i.INIT:this.doServe=!0,this.logger.debug("load before serve (defer)",this.adInfos),this.load();break;case i.LOADING:this.logger.warn("serve - the tag is currently loading"),this.doServe=!0;break;case i.LOADED:this.state=i.SERVED,this.logger.debug("serve",this.adInfos),this.formatInstance.filter(function(){return!Object(A.c)(t)}).forEach(function(e){e.start(),Object(w.a)(t,e.player.getMediafile())}),this.logger.debug("ad successfully served"),this.adInfos.ad&&!Object(A.b)(this)||(this.logger.debug("serve - no ad to serve so exec passback"),this.execPassback())}return e},t.prototype.reload=function(){return t.page(this.pageId).placement(this.pid,this.rawSettings,this.defer,this.pageIndex+1)},t.prototype.passback=function(t,e){return void 0===e&&(e=!1),Object(o.includes)([i.SERVED,i.PASSBACKED],this.state)&&!e?this.reload().passback(t):(Object(o.includes)(this.passbacks.afterServe,t)?this.logger.warn("passback - signature was already appended to the passback list",t,this.passbacks.afterServe):"function"==typeof t?(this.passbacks.afterServe.push(t),this.logger.debug("passback - pushed to the list",t),e&&(this.passbacks.beforeServe.push(t),this.logger.debug("passback - pushed to the *before serve* list too")),this.doPassback&&(this.logger.debug("passback - execPassback already called with no passback to exec, call it again"),this.doPassback=!1,this.execPassback())):this.logger.warn("passback - must be a function"),this)},t.prototype.fillCustomTracking=function(t){var e=this,n=Object(V.a)(this.pageId,this.pid,this.pageIndex),i=Object(l.a)(L.a,o.cArray.forEach(Object(l.a)(Object(b.tap)(V.b.format.addFormatCustomTrackings(n)),function(t){return e.logger.debug("["+n+"][classic] Add custom tracking",t)}))),r=Object(l.a)(L.b,p.a.biforeach(o.cArray.forEach(V.b.vast.addVastCustomProgressTrackings(n)),o.cArray.forEach(V.b.vast.addVastCustomTrackings(n))));Object(l.b)(t,Object(b.tap)(Object(l.a)(o.cArray.filter(L.d),i)),Object(b.tap)(Object(l.a)(o.cArray.filter(L.e),r)),Object(l.a)(o.cArray.filter(function(t){return!Object(L.d)(t)&&!Object(L.e)(t)}),function(t){t.length>0&&e.logger.warn("Could not add unsupported custom trackings",t)}))},t.prototype.execPassback=function(){var t,e=this;switch(this.state){case i.SERVED:case i.PASSBACKED:t=this.passbacks.afterServe,this.logger.debug("exec passback - after serve");break;default:t=this.passbacks.beforeServe,this.logger.debug("exec passback - before serve")}if(t.length){var n=t.shift();return this.logger.debug("exec passback -",n),this.state=i.PASSBACKED,n(function(){return e.execPassback()}),this.doPassback=!1,null}return this.logger.debug("exec passback - no passback to exec"),this.doPassback=!0,this.passbacks.afterServe.length?null:E.c},t.prototype.findMatchingScript=function(){var t,e,n=!1,i=h.findAllWindows(document.body);try{for(var o=Object(r.h)(i),s=o.next();!s.done;s=o.next())for(var c=s.value,u=a.querySelectorAll("script.teads",c),d=0;d<u.length;d++){this.scripts.push(u[d]);var l=u[d]?u[d].getAttribute("data-serve"):"";l&&l.match(this.pid.toString())&&(u[d].setAttribute("data-serve",l.replace(this.pid.toString(),"")),n=!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n},t.prototype.constructAdSettings=function(e){var n,i;void 0===e&&(e=u.b.empty());var o=t.defaultAdsSettings,a=e.getOrValue({}),s=null!==(n=M[this.pid])&&void 0!==n?n:{};return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},o),a),s),{settings:Object(r.a)(Object(r.a)(Object(r.a)({},o.settings),s.settings),{values:Object(r.a)(Object(r.a)(Object(r.a)({},o.settings.values),{pageId:this.pageId,placementId:this.pid,placementFormat:this.settings.format}),null===(i=s.settings)||void 0===i?void 0:i.values)})})},t.prototype.handleHeaderBiddingAd=function(){this.getAd=this.constructAdSettings()},t.prototype.handleDataInsertion=function(e){var n="data-insertion-"+e,i=h.findAllWindows(document.body),r=a.findMatchingElement(Object(o.map)(i,function(t){return t.document}),"script.teads["+n+"]");return t.getRawAdFromScript(r,n,this.logger,Object(g.a)(this.constructAdSettings,this))},t.prototype.findCustomTracking=function(t){var e,n,i,o,s=[];try{for(var c=Object(r.h)(t),u=c.next();!u.done;u=c.next()){var d=u.value,l=a.getOuterHTML(d)||"",p=l.match(new RegExp('data-tracking(?:-(\\d+))?-([^=]+)="([^"]+)"',"g"))||[];try{for(var h=(i=void 0,Object(r.h)(p)),f=h.next();!f.done;f=h.next()){var g=f.value,m=g.match(new RegExp('data-tracking(?:-(\\d+))?-([^=]+)="([^"]+)"'));if(4===m.length){var b=Object(r.e)(m,4),v=b[1],y=b[2],A=b[3];(v&&Number(v)===this.pid||!v)&&(this.logger.debug("find custom tracking (event, url, pid)",y,A,v),s.push({event:y,url:A}),v&&d.removeAttribute("data-tracking-"+v+"-"+y))}else this.logger.debug('error on data-tracking extraction, 3 args expected (["all", "key", "value"])',m)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return s},t.prototype.sendTagToWigo=function(){this.wigo.valid(0,1,{ttp:this.settings,tta:this.adInfos.ad,tts:this.adInfos.placement.placementSetting},"modal")},t.prototype.onReadyState=function(t){var e,n,i,o=h.findAllWindows(document.body);try{for(var s=Object(r.h)(o),c=s.next();!c.done;c=s.next()){var u=c.value;i=i||u.document.querySelector("script.teads[data-readystate]")}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}i&&"domcomplete"===i.getAttribute("data-readystate")?(this.logger.debug("waiting dom complete"),a.onDomComplete(t)):(this.logger.debug("waiting dom ready"),a.onDomReady(t))},t.defaultRawPlacement={pid:null,format:null,slot:null},t.defaultAdsSettings={settings:{values:{pageId:0,placementFormat:"inread",placementId:1,threshold:50}}},t}()}]);